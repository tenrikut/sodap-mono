var UD=Object.defineProperty;var XE=t=>{throw TypeError(t)};var zD=(t,e,r)=>e in t?UD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Or=(t,e,r)=>zD(t,typeof e!="symbol"?e+"":e,r),vv=(t,e,r)=>e.has(t)||XE("Cannot "+r);var pe=(t,e,r)=>(vv(t,e,"read from private field"),r?r.call(t):e.get(t)),Vt=(t,e,r)=>e.has(t)?XE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),bt=(t,e,r,n)=>(vv(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),xn=(t,e,r)=>(vv(t,e,"access private method"),r);var Fp=(t,e,r,n)=>({set _(i){bt(t,e,i,r)},get _(){return pe(t,e,n)}});function FD(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var TR={exports:{}},Bg={},IR={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=Symbol.for("react.element"),WD=Symbol.for("react.portal"),$D=Symbol.for("react.fragment"),VD=Symbol.for("react.strict_mode"),HD=Symbol.for("react.profiler"),KD=Symbol.for("react.provider"),qD=Symbol.for("react.context"),GD=Symbol.for("react.forward_ref"),ZD=Symbol.for("react.suspense"),YD=Symbol.for("react.memo"),QD=Symbol.for("react.lazy"),e2=Symbol.iterator;function JD(t){return t===null||typeof t!="object"?null:(t=e2&&t[e2]||t["@@iterator"],typeof t=="function"?t:null)}var CR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jR=Object.assign,OR={};function Wd(t,e,r){this.props=t,this.context=e,this.refs=OR,this.updater=r||CR}Wd.prototype.isReactComponent={};Wd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PR(){}PR.prototype=Wd.prototype;function Bb(t,e,r){this.props=t,this.context=e,this.refs=OR,this.updater=r||CR}var Ub=Bb.prototype=new PR;Ub.constructor=Bb;jR(Ub,Wd.prototype);Ub.isPureReactComponent=!0;var t2=Array.isArray,LR=Object.prototype.hasOwnProperty,zb={current:null},DR={key:!0,ref:!0,__self:!0,__source:!0};function BR(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)LR.call(e,n)&&!DR.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var f=Array(l),h=0;h<l;h++)f[h]=arguments[h+2];i.children=f}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:lp,type:t,key:s,ref:o,props:i,_owner:zb.current}}function XD(t,e){return{$$typeof:lp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fb(t){return typeof t=="object"&&t!==null&&t.$$typeof===lp}function e8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var r2=/\/+/g;function wv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e8(""+t.key):e.toString(36)}function C0(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lp:case WD:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+wv(o,0):n,t2(i)?(r="",t!=null&&(r=t.replace(r2,"$&/")+"/"),C0(i,e,r,"",function(h){return h})):i!=null&&(Fb(i)&&(i=XD(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(r2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",t2(t))for(var l=0;l<t.length;l++){s=t[l];var f=n+wv(s,l);o+=C0(s,e,r,f,i)}else if(f=JD(t),typeof f=="function")for(t=f.call(t),l=0;!(s=t.next()).done;)s=s.value,f=n+wv(s,l++),o+=C0(s,e,r,f,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wp(t,e,r){if(t==null)return t;var n=[],i=0;return C0(t,n,"","",function(s){return e.call(r,s,i++)}),n}function t8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ps={current:null},j0={transition:null},r8={ReactCurrentDispatcher:ps,ReactCurrentBatchConfig:j0,ReactCurrentOwner:zb};function UR(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:Wp,forEach:function(t,e,r){Wp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Wp(t,function(){e++}),e},toArray:function(t){return Wp(t,function(e){return e})||[]},only:function(t){if(!Fb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=Wd;Dt.Fragment=$D;Dt.Profiler=HD;Dt.PureComponent=Bb;Dt.StrictMode=VD;Dt.Suspense=ZD;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r8;Dt.act=UR;Dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(f in e)LR.call(e,f)&&!DR.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&l!==void 0?l[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){l=Array(f);for(var h=0;h<f;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:lp,type:t.type,key:i,ref:s,props:n,_owner:o}};Dt.createContext=function(t){return t={$$typeof:qD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KD,_context:t},t.Consumer=t};Dt.createElement=BR;Dt.createFactory=function(t){var e=BR.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:GD,render:t}};Dt.isValidElement=Fb;Dt.lazy=function(t){return{$$typeof:QD,_payload:{_status:-1,_result:t},_init:t8}};Dt.memo=function(t,e){return{$$typeof:YD,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=j0.transition;j0.transition={};try{t()}finally{j0.transition=e}};Dt.unstable_act=UR;Dt.useCallback=function(t,e){return ps.current.useCallback(t,e)};Dt.useContext=function(t){return ps.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return ps.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return ps.current.useEffect(t,e)};Dt.useId=function(){return ps.current.useId()};Dt.useImperativeHandle=function(t,e,r){return ps.current.useImperativeHandle(t,e,r)};Dt.useInsertionEffect=function(t,e){return ps.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return ps.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return ps.current.useMemo(t,e)};Dt.useReducer=function(t,e,r){return ps.current.useReducer(t,e,r)};Dt.useRef=function(t){return ps.current.useRef(t)};Dt.useState=function(t){return ps.current.useState(t)};Dt.useSyncExternalStore=function(t,e,r){return ps.current.useSyncExternalStore(t,e,r)};Dt.useTransition=function(){return ps.current.useTransition()};Dt.version="18.3.1";IR.exports=Dt;var M=IR.exports;const J=fi(M),Wb=FD({__proto__:null,default:J},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n8=M,s8=Symbol.for("react.element"),i8=Symbol.for("react.fragment"),o8=Object.prototype.hasOwnProperty,a8=n8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l8={key:!0,ref:!0,__self:!0,__source:!0};function zR(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)o8.call(e,n)&&!l8.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:s8,type:t,key:s,ref:o,props:i,_owner:a8.current}}Bg.Fragment=i8;Bg.jsx=zR;Bg.jsxs=zR;TR.exports=Bg;var u=TR.exports,FR={exports:{}},Vs={},WR={exports:{}},$R={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(g,S){var I=g.length;g.push(S);e:for(;0<I;){var w=I-1>>>1,c=g[w];if(0<i(c,S))g[w]=S,g[I]=c,I=w;else break e}}function r(g){return g.length===0?null:g[0]}function n(g){if(g.length===0)return null;var S=g[0],I=g.pop();if(I!==S){g[0]=I;e:for(var w=0,c=g.length,_=c>>>1;w<_;){var $=2*(w+1)-1,H=g[$],G=$+1,re=g[G];if(0>i(H,I))G<c&&0>i(re,H)?(g[w]=re,g[G]=I,w=G):(g[w]=H,g[$]=I,w=$);else if(G<c&&0>i(re,I))g[w]=re,g[G]=I,w=G;else break e}}return S}function i(g,S){var I=g.sortIndex-S.sortIndex;return I!==0?I:g.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var f=[],h=[],p=1,v=null,E=3,b=!1,k=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(g){for(var S=r(h);S!==null;){if(S.callback===null)n(h);else if(S.startTime<=g)n(h),S.sortIndex=S.expirationTime,e(f,S);else break;S=r(h)}}function j(g){if(N=!1,C(g),!k)if(r(f)!==null)k=!0,m(D);else{var S=r(h);S!==null&&y(j,S.startTime-g)}}function D(g,S){k=!1,N&&(N=!1,R(F),F=-1),b=!0;var I=E;try{for(C(S),v=r(f);v!==null&&(!(v.expirationTime>S)||g&&!V());){var w=v.callback;if(typeof w=="function"){v.callback=null,E=v.priorityLevel;var c=w(v.expirationTime<=S);S=t.unstable_now(),typeof c=="function"?v.callback=c:v===r(f)&&n(f),C(S)}else n(f);v=r(f)}if(v!==null)var _=!0;else{var $=r(h);$!==null&&y(j,$.startTime-S),_=!1}return _}finally{v=null,E=I,b=!1}}var U=!1,L=null,F=-1,W=5,q=-1;function V(){return!(t.unstable_now()-q<W)}function K(){if(L!==null){var g=t.unstable_now();q=g;var S=!0;try{S=L(!0,g)}finally{S?x():(U=!1,L=null)}}else U=!1}var x;if(typeof T=="function")x=function(){T(K)};else if(typeof MessageChannel<"u"){var a=new MessageChannel,d=a.port2;a.port1.onmessage=K,x=function(){d.postMessage(null)}}else x=function(){A(K,0)};function m(g){L=g,U||(U=!0,x())}function y(g,S){F=A(function(){g(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(g){g.callback=null},t.unstable_continueExecution=function(){k||b||(k=!0,m(D))},t.unstable_forceFrameRate=function(g){0>g||125<g?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<g?Math.floor(1e3/g):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(g){switch(E){case 1:case 2:case 3:var S=3;break;default:S=E}var I=E;E=S;try{return g()}finally{E=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(g,S){switch(g){case 1:case 2:case 3:case 4:case 5:break;default:g=3}var I=E;E=g;try{return S()}finally{E=I}},t.unstable_scheduleCallback=function(g,S,I){var w=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?w+I:w):I=w,g){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return c=I+c,g={id:p++,callback:S,priorityLevel:g,startTime:I,expirationTime:c,sortIndex:-1},I>w?(g.sortIndex=I,e(h,g),r(f)===null&&g===r(h)&&(N?(R(F),F=-1):N=!0,y(j,I-w))):(g.sortIndex=c,e(f,g),k||b||(k=!0,m(D))),g},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(g){var S=E;return function(){var I=E;E=S;try{return g.apply(this,arguments)}finally{E=I}}}})($R);WR.exports=$R;var c8=WR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u8=M,$s=c8;function Ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VR=new Set,dh={};function $c(t,e){dd(t,e),dd(t+"Capture",e)}function dd(t,e){for(dh[t]=e,t=0;t<e.length;t++)VR.add(e[t])}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l1=Object.prototype.hasOwnProperty,d8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n2={},s2={};function f8(t){return l1.call(s2,t)?!0:l1.call(n2,t)?!1:d8.test(t)?s2[t]=!0:(n2[t]=!0,!1)}function h8(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p8(t,e,r,n){if(e===null||typeof e>"u"||h8(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ms(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new ms(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new ms(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new ms(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new ms(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new ms(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new ms(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new ms(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new ms(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new ms(t,5,!1,t.toLowerCase(),null,!1,!1)});var $b=/[\-:]([a-z])/g;function Vb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($b,Vb);vn[e]=new ms(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($b,Vb);vn[e]=new ms(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($b,Vb);vn[e]=new ms(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new ms(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new ms(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hb(t,e,r,n){var i=vn.hasOwnProperty(e)?vn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p8(e,r,i,n)&&(r=null),n||i===null?f8(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pa=u8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$p=Symbol.for("react.element"),bu=Symbol.for("react.portal"),_u=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),c1=Symbol.for("react.profiler"),HR=Symbol.for("react.provider"),KR=Symbol.for("react.context"),qb=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),d1=Symbol.for("react.suspense_list"),Gb=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),qR=Symbol.for("react.offscreen"),i2=Symbol.iterator;function df(t){return t===null||typeof t!="object"?null:(t=i2&&t[i2]||t["@@iterator"],typeof t=="function"?t:null)}var Ar=Object.assign,xv;function Rf(t){if(xv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xv=e&&e[1]||""}return`
`+xv+t}var bv=!1;function _v(t,e){if(!t||bv)return"";bv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var f=`
`+i[o].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=o&&0<=l);break}}}finally{bv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Rf(t):""}function m8(t){switch(t.tag){case 5:return Rf(t.type);case 16:return Rf("Lazy");case 13:return Rf("Suspense");case 19:return Rf("SuspenseList");case 0:case 2:case 15:return t=_v(t.type,!1),t;case 11:return t=_v(t.type.render,!1),t;case 1:return t=_v(t.type,!0),t;default:return""}}function f1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _u:return"Fragment";case bu:return"Portal";case c1:return"Profiler";case Kb:return"StrictMode";case u1:return"Suspense";case d1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KR:return(t.displayName||"Context")+".Consumer";case HR:return(t._context.displayName||"Context")+".Provider";case qb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gb:return e=t.displayName||null,e!==null?e:f1(t.type)||"Memo";case Ia:e=t._payload,t=t._init;try{return f1(t(e))}catch{}}return null}function g8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return f1(e);case 8:return e===Kb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ml(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y8(t){var e=GR(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vp(t){t._valueTracker||(t._valueTracker=y8(t))}function ZR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=GR(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h1(t,e){var r=e.checked;return Ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function o2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ml(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YR(t,e){e=e.checked,e!=null&&Hb(t,"checked",e,!1)}function p1(t,e){YR(t,e);var r=ml(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?m1(t,e.type,r):e.hasOwnProperty("defaultValue")&&m1(t,e.type,ml(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function m1(t,e,r){(e!=="number"||wm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var kf=Array.isArray;function Bu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ml(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function g1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return Ar({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ce(92));if(kf(r)){if(1<r.length)throw Error(Ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ml(r)}}function QR(t,e){var r=ml(e.value),n=ml(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function c2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hp,XR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hp=Hp||document.createElement("div"),Hp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v8=["Webkit","ms","Moz","O"];Object.keys(Wf).forEach(function(t){v8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wf[e]=Wf[t]})});function ek(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Wf.hasOwnProperty(t)&&Wf[t]?(""+e).trim():e+"px"}function tk(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ek(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var w8=Ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v1(t,e){if(e){if(w8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function w1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=null;function Zb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var b1=null,Uu=null,zu=null;function u2(t){if(t=dp(t)){if(typeof b1!="function")throw Error(Ce(280));var e=t.stateNode;e&&(e=$g(e),b1(t.stateNode,t.type,e))}}function rk(t){Uu?zu?zu.push(t):zu=[t]:Uu=t}function nk(){if(Uu){var t=Uu,e=zu;if(zu=Uu=null,u2(t),e)for(t=0;t<e.length;t++)u2(e[t])}}function sk(t,e){return t(e)}function ik(){}var Sv=!1;function ok(t,e,r){if(Sv)return t(e,r);Sv=!0;try{return sk(t,e,r)}finally{Sv=!1,(Uu!==null||zu!==null)&&(ik(),nk())}}function hh(t,e){var r=t.stateNode;if(r===null)return null;var n=$g(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ce(231,e,typeof r));return r}var _1=!1;if(na)try{var ff={};Object.defineProperty(ff,"passive",{get:function(){_1=!0}}),window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{_1=!1}function x8(t,e,r,n,i,s,o,l,f){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(p){this.onError(p)}}var $f=!1,xm=null,bm=!1,S1=null,b8={onError:function(t){$f=!0,xm=t}};function _8(t,e,r,n,i,s,o,l,f){$f=!1,xm=null,x8.apply(b8,arguments)}function S8(t,e,r,n,i,s,o,l,f){if(_8.apply(this,arguments),$f){if($f){var h=xm;$f=!1,xm=null}else throw Error(Ce(198));bm||(bm=!0,S1=h)}}function Vc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ak(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d2(t){if(Vc(t)!==t)throw Error(Ce(188))}function E8(t){var e=t.alternate;if(!e){if(e=Vc(t),e===null)throw Error(Ce(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return d2(i),t;if(s===n)return d2(i),e;s=s.sibling}throw Error(Ce(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(Ce(189))}}if(r.alternate!==n)throw Error(Ce(190))}if(r.tag!==3)throw Error(Ce(188));return r.stateNode.current===r?t:e}function lk(t){return t=E8(t),t!==null?ck(t):null}function ck(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ck(t);if(e!==null)return e;t=t.sibling}return null}var uk=$s.unstable_scheduleCallback,f2=$s.unstable_cancelCallback,N8=$s.unstable_shouldYield,M8=$s.unstable_requestPaint,Dr=$s.unstable_now,A8=$s.unstable_getCurrentPriorityLevel,Yb=$s.unstable_ImmediatePriority,dk=$s.unstable_UserBlockingPriority,_m=$s.unstable_NormalPriority,R8=$s.unstable_LowPriority,fk=$s.unstable_IdlePriority,Ug=null,co=null;function k8(t){if(co&&typeof co.onCommitFiberRoot=="function")try{co.onCommitFiberRoot(Ug,t,void 0,(t.current.flags&128)===128)}catch{}}var Oi=Math.clz32?Math.clz32:C8,T8=Math.log,I8=Math.LN2;function C8(t){return t>>>=0,t===0?32:31-(T8(t)/I8|0)|0}var Kp=64,qp=4194304;function Tf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Tf(l):(s&=o,s!==0&&(n=Tf(s)))}else o=r&~i,o!==0?n=Tf(o):s!==0&&(n=Tf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Oi(e),i=1<<r,n|=t[r],e&=~i;return n}function j8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O8(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Oi(s),l=1<<o,f=i[o];f===-1?(!(l&r)||l&n)&&(i[o]=j8(l,e)):f<=e&&(t.expiredLanes|=l),s&=~l}}function E1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hk(){var t=Kp;return Kp<<=1,!(Kp&4194240)&&(Kp=64),t}function Ev(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function cp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Oi(e),t[e]=r}function P8(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Oi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Qb(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Oi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var er=0;function pk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mk,Jb,gk,yk,vk,N1=!1,Gp=[],tl=null,rl=null,nl=null,ph=new Map,mh=new Map,Pa=[],L8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h2(t,e){switch(t){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":ph.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(e.pointerId)}}function hf(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=dp(e),e!==null&&Jb(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function D8(t,e,r,n,i){switch(e){case"focusin":return tl=hf(tl,t,e,r,n,i),!0;case"dragenter":return rl=hf(rl,t,e,r,n,i),!0;case"mouseover":return nl=hf(nl,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ph.set(s,hf(ph.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,mh.set(s,hf(mh.get(s)||null,t,e,r,n,i)),!0}return!1}function wk(t){var e=Ql(t.target);if(e!==null){var r=Vc(e);if(r!==null){if(e=r.tag,e===13){if(e=ak(r),e!==null){t.blockedOn=e,vk(t.priority,function(){gk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function O0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=M1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);x1=n,r.target.dispatchEvent(n),x1=null}else return e=dp(r),e!==null&&Jb(e),t.blockedOn=r,!1;e.shift()}return!0}function p2(t,e,r){O0(t)&&r.delete(e)}function B8(){N1=!1,tl!==null&&O0(tl)&&(tl=null),rl!==null&&O0(rl)&&(rl=null),nl!==null&&O0(nl)&&(nl=null),ph.forEach(p2),mh.forEach(p2)}function pf(t,e){t.blockedOn===e&&(t.blockedOn=null,N1||(N1=!0,$s.unstable_scheduleCallback($s.unstable_NormalPriority,B8)))}function gh(t){function e(i){return pf(i,t)}if(0<Gp.length){pf(Gp[0],t);for(var r=1;r<Gp.length;r++){var n=Gp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(tl!==null&&pf(tl,t),rl!==null&&pf(rl,t),nl!==null&&pf(nl,t),ph.forEach(e),mh.forEach(e),r=0;r<Pa.length;r++)n=Pa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pa.length&&(r=Pa[0],r.blockedOn===null);)wk(r),r.blockedOn===null&&Pa.shift()}var Fu=pa.ReactCurrentBatchConfig,Em=!0;function U8(t,e,r,n){var i=er,s=Fu.transition;Fu.transition=null;try{er=1,Xb(t,e,r,n)}finally{er=i,Fu.transition=s}}function z8(t,e,r,n){var i=er,s=Fu.transition;Fu.transition=null;try{er=4,Xb(t,e,r,n)}finally{er=i,Fu.transition=s}}function Xb(t,e,r,n){if(Em){var i=M1(t,e,r,n);if(i===null)Ov(t,e,n,Nm,r),h2(t,n);else if(D8(i,t,e,r,n))n.stopPropagation();else if(h2(t,n),e&4&&-1<L8.indexOf(t)){for(;i!==null;){var s=dp(i);if(s!==null&&mk(s),s=M1(t,e,r,n),s===null&&Ov(t,e,n,Nm,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Ov(t,e,n,null,r)}}var Nm=null;function M1(t,e,r,n){if(Nm=null,t=Zb(n),t=Ql(t),t!==null)if(e=Vc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ak(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nm=t,null}function xk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A8()){case Yb:return 1;case dk:return 4;case _m:case R8:return 16;case fk:return 536870912;default:return 16}default:return 16}}var Ha=null,e_=null,P0=null;function bk(){if(P0)return P0;var t,e=e_,r=e.length,n,i="value"in Ha?Ha.value:Ha.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return P0=i.slice(t,1<n?1-n:void 0)}function L0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zp(){return!0}function m2(){return!1}function Hs(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zp:m2,this.isPropagationStopped=m2,this}return Ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zp)},persist:function(){},isPersistent:Zp}),e}var $d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t_=Hs($d),up=Ar({},$d,{view:0,detail:0}),F8=Hs(up),Nv,Mv,mf,zg=Ar({},up,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mf&&(mf&&t.type==="mousemove"?(Nv=t.screenX-mf.screenX,Mv=t.screenY-mf.screenY):Mv=Nv=0,mf=t),Nv)},movementY:function(t){return"movementY"in t?t.movementY:Mv}}),g2=Hs(zg),W8=Ar({},zg,{dataTransfer:0}),$8=Hs(W8),V8=Ar({},up,{relatedTarget:0}),Av=Hs(V8),H8=Ar({},$d,{animationName:0,elapsedTime:0,pseudoElement:0}),K8=Hs(H8),q8=Ar({},$d,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G8=Hs(q8),Z8=Ar({},$d,{data:0}),y2=Hs(Z8),Y8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J8[t])?!!e[t]:!1}function r_(){return X8}var eB=Ar({},up,{key:function(t){if(t.key){var e=Y8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=L0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Q8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r_,charCode:function(t){return t.type==="keypress"?L0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?L0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tB=Hs(eB),rB=Ar({},zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v2=Hs(rB),nB=Ar({},up,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r_}),sB=Hs(nB),iB=Ar({},$d,{propertyName:0,elapsedTime:0,pseudoElement:0}),oB=Hs(iB),aB=Ar({},zg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lB=Hs(aB),cB=[9,13,27,32],n_=na&&"CompositionEvent"in window,Vf=null;na&&"documentMode"in document&&(Vf=document.documentMode);var uB=na&&"TextEvent"in window&&!Vf,_k=na&&(!n_||Vf&&8<Vf&&11>=Vf),w2=" ",x2=!1;function Sk(t,e){switch(t){case"keyup":return cB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ek(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Su=!1;function dB(t,e){switch(t){case"compositionend":return Ek(e);case"keypress":return e.which!==32?null:(x2=!0,w2);case"textInput":return t=e.data,t===w2&&x2?null:t;default:return null}}function fB(t,e){if(Su)return t==="compositionend"||!n_&&Sk(t,e)?(t=bk(),P0=e_=Ha=null,Su=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _k&&e.locale!=="ko"?null:e.data;default:return null}}var hB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hB[t.type]:e==="textarea"}function Nk(t,e,r,n){rk(n),e=Mm(e,"onChange"),0<e.length&&(r=new t_("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hf=null,yh=null;function pB(t){Lk(t,0)}function Fg(t){var e=Mu(t);if(ZR(e))return t}function mB(t,e){if(t==="change")return e}var Mk=!1;if(na){var Rv;if(na){var kv="oninput"in document;if(!kv){var _2=document.createElement("div");_2.setAttribute("oninput","return;"),kv=typeof _2.oninput=="function"}Rv=kv}else Rv=!1;Mk=Rv&&(!document.documentMode||9<document.documentMode)}function S2(){Hf&&(Hf.detachEvent("onpropertychange",Ak),yh=Hf=null)}function Ak(t){if(t.propertyName==="value"&&Fg(yh)){var e=[];Nk(e,yh,t,Zb(t)),ok(pB,e)}}function gB(t,e,r){t==="focusin"?(S2(),Hf=e,yh=r,Hf.attachEvent("onpropertychange",Ak)):t==="focusout"&&S2()}function yB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fg(yh)}function vB(t,e){if(t==="click")return Fg(e)}function wB(t,e){if(t==="input"||t==="change")return Fg(e)}function xB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bi=typeof Object.is=="function"?Object.is:xB;function vh(t,e){if(Bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!l1.call(e,i)||!Bi(t[i],e[i]))return!1}return!0}function E2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N2(t,e){var r=E2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=E2(r)}}function Rk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kk(){for(var t=window,e=wm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wm(t.document)}return e}function s_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bB(t){var e=kk(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Rk(r.ownerDocument.documentElement,r)){if(n!==null&&s_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=N2(r,s);var o=N2(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _B=na&&"documentMode"in document&&11>=document.documentMode,Eu=null,A1=null,Kf=null,R1=!1;function M2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;R1||Eu==null||Eu!==wm(n)||(n=Eu,"selectionStart"in n&&s_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kf&&vh(Kf,n)||(Kf=n,n=Mm(A1,"onSelect"),0<n.length&&(e=new t_("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Eu)))}function Yp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Nu={animationend:Yp("Animation","AnimationEnd"),animationiteration:Yp("Animation","AnimationIteration"),animationstart:Yp("Animation","AnimationStart"),transitionend:Yp("Transition","TransitionEnd")},Tv={},Tk={};na&&(Tk=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function Wg(t){if(Tv[t])return Tv[t];if(!Nu[t])return t;var e=Nu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Tk)return Tv[t]=e[r];return t}var Ik=Wg("animationend"),Ck=Wg("animationiteration"),jk=Wg("animationstart"),Ok=Wg("transitionend"),Pk=new Map,A2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rl(t,e){Pk.set(t,e),$c(e,[t])}for(var Iv=0;Iv<A2.length;Iv++){var Cv=A2[Iv],SB=Cv.toLowerCase(),EB=Cv[0].toUpperCase()+Cv.slice(1);Rl(SB,"on"+EB)}Rl(Ik,"onAnimationEnd");Rl(Ck,"onAnimationIteration");Rl(jk,"onAnimationStart");Rl("dblclick","onDoubleClick");Rl("focusin","onFocus");Rl("focusout","onBlur");Rl(Ok,"onTransitionEnd");dd("onMouseEnter",["mouseout","mouseover"]);dd("onMouseLeave",["mouseout","mouseover"]);dd("onPointerEnter",["pointerout","pointerover"]);dd("onPointerLeave",["pointerout","pointerover"]);$c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$c("onBeforeInput",["compositionend","keypress","textInput","paste"]);$c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var If="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NB=new Set("cancel close invalid load scroll toggle".split(" ").concat(If));function R2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,S8(n,e,void 0,t),t.currentTarget=null}function Lk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],f=l.instance,h=l.currentTarget;if(l=l.listener,f!==s&&i.isPropagationStopped())break e;R2(i,l,h),s=f}else for(o=0;o<n.length;o++){if(l=n[o],f=l.instance,h=l.currentTarget,l=l.listener,f!==s&&i.isPropagationStopped())break e;R2(i,l,h),s=f}}}if(bm)throw t=S1,bm=!1,S1=null,t}function cr(t,e){var r=e[j1];r===void 0&&(r=e[j1]=new Set);var n=t+"__bubble";r.has(n)||(Dk(e,t,2,!1),r.add(n))}function jv(t,e,r){var n=0;e&&(n|=4),Dk(r,t,n,e)}var Qp="_reactListening"+Math.random().toString(36).slice(2);function wh(t){if(!t[Qp]){t[Qp]=!0,VR.forEach(function(r){r!=="selectionchange"&&(NB.has(r)||jv(r,!1,t),jv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qp]||(e[Qp]=!0,jv("selectionchange",!1,e))}}function Dk(t,e,r,n){switch(xk(e)){case 1:var i=U8;break;case 4:i=z8;break;default:i=Xb}r=i.bind(null,e,r,t),i=void 0,!_1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ov(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var f=o.tag;if((f===3||f===4)&&(f=o.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ql(l),o===null)return;if(f=o.tag,f===5||f===6){n=s=o;continue e}l=l.parentNode}}n=n.return}ok(function(){var h=s,p=Zb(r),v=[];e:{var E=Pk.get(t);if(E!==void 0){var b=t_,k=t;switch(t){case"keypress":if(L0(r)===0)break e;case"keydown":case"keyup":b=tB;break;case"focusin":k="focus",b=Av;break;case"focusout":k="blur",b=Av;break;case"beforeblur":case"afterblur":b=Av;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=g2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=$8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=sB;break;case Ik:case Ck:case jk:b=K8;break;case Ok:b=oB;break;case"scroll":b=F8;break;case"wheel":b=lB;break;case"copy":case"cut":case"paste":b=G8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=v2}var N=(e&4)!==0,A=!N&&t==="scroll",R=N?E!==null?E+"Capture":null:E;N=[];for(var T=h,C;T!==null;){C=T;var j=C.stateNode;if(C.tag===5&&j!==null&&(C=j,R!==null&&(j=hh(T,R),j!=null&&N.push(xh(T,j,C)))),A)break;T=T.return}0<N.length&&(E=new b(E,k,null,r,p),v.push({event:E,listeners:N}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",E&&r!==x1&&(k=r.relatedTarget||r.fromElement)&&(Ql(k)||k[sa]))break e;if((b||E)&&(E=p.window===p?p:(E=p.ownerDocument)?E.defaultView||E.parentWindow:window,b?(k=r.relatedTarget||r.toElement,b=h,k=k?Ql(k):null,k!==null&&(A=Vc(k),k!==A||k.tag!==5&&k.tag!==6)&&(k=null)):(b=null,k=h),b!==k)){if(N=g2,j="onMouseLeave",R="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(N=v2,j="onPointerLeave",R="onPointerEnter",T="pointer"),A=b==null?E:Mu(b),C=k==null?E:Mu(k),E=new N(j,T+"leave",b,r,p),E.target=A,E.relatedTarget=C,j=null,Ql(p)===h&&(N=new N(R,T+"enter",k,r,p),N.target=C,N.relatedTarget=A,j=N),A=j,b&&k)t:{for(N=b,R=k,T=0,C=N;C;C=tu(C))T++;for(C=0,j=R;j;j=tu(j))C++;for(;0<T-C;)N=tu(N),T--;for(;0<C-T;)R=tu(R),C--;for(;T--;){if(N===R||R!==null&&N===R.alternate)break t;N=tu(N),R=tu(R)}N=null}else N=null;b!==null&&k2(v,E,b,N,!1),k!==null&&A!==null&&k2(v,A,k,N,!0)}}e:{if(E=h?Mu(h):window,b=E.nodeName&&E.nodeName.toLowerCase(),b==="select"||b==="input"&&E.type==="file")var D=mB;else if(b2(E))if(Mk)D=wB;else{D=yB;var U=gB}else(b=E.nodeName)&&b.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(D=vB);if(D&&(D=D(t,h))){Nk(v,D,r,p);break e}U&&U(t,E,h),t==="focusout"&&(U=E._wrapperState)&&U.controlled&&E.type==="number"&&m1(E,"number",E.value)}switch(U=h?Mu(h):window,t){case"focusin":(b2(U)||U.contentEditable==="true")&&(Eu=U,A1=h,Kf=null);break;case"focusout":Kf=A1=Eu=null;break;case"mousedown":R1=!0;break;case"contextmenu":case"mouseup":case"dragend":R1=!1,M2(v,r,p);break;case"selectionchange":if(_B)break;case"keydown":case"keyup":M2(v,r,p)}var L;if(n_)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Su?Sk(t,r)&&(F="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(_k&&r.locale!=="ko"&&(Su||F!=="onCompositionStart"?F==="onCompositionEnd"&&Su&&(L=bk()):(Ha=p,e_="value"in Ha?Ha.value:Ha.textContent,Su=!0)),U=Mm(h,F),0<U.length&&(F=new y2(F,t,null,r,p),v.push({event:F,listeners:U}),L?F.data=L:(L=Ek(r),L!==null&&(F.data=L)))),(L=uB?dB(t,r):fB(t,r))&&(h=Mm(h,"onBeforeInput"),0<h.length&&(p=new y2("onBeforeInput","beforeinput",null,r,p),v.push({event:p,listeners:h}),p.data=L))}Lk(v,e)})}function xh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Mm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hh(t,r),s!=null&&n.unshift(xh(t,s,i)),s=hh(t,e),s!=null&&n.push(xh(t,s,i))),t=t.return}return n}function tu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k2(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var l=r,f=l.alternate,h=l.stateNode;if(f!==null&&f===n)break;l.tag===5&&h!==null&&(l=h,i?(f=hh(r,s),f!=null&&o.unshift(xh(r,f,l))):i||(f=hh(r,s),f!=null&&o.push(xh(r,f,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var MB=/\r\n?/g,AB=/\u0000|\uFFFD/g;function T2(t){return(typeof t=="string"?t:""+t).replace(MB,`
`).replace(AB,"")}function Jp(t,e,r){if(e=T2(e),T2(t)!==e&&r)throw Error(Ce(425))}function Am(){}var k1=null,T1=null;function I1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var C1=typeof setTimeout=="function"?setTimeout:void 0,RB=typeof clearTimeout=="function"?clearTimeout:void 0,I2=typeof Promise=="function"?Promise:void 0,kB=typeof queueMicrotask=="function"?queueMicrotask:typeof I2<"u"?function(t){return I2.resolve(null).then(t).catch(TB)}:C1;function TB(t){setTimeout(function(){throw t})}function Pv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),gh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);gh(e)}function sl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Vd=Math.random().toString(36).slice(2),ro="__reactFiber$"+Vd,bh="__reactProps$"+Vd,sa="__reactContainer$"+Vd,j1="__reactEvents$"+Vd,IB="__reactListeners$"+Vd,CB="__reactHandles$"+Vd;function Ql(t){var e=t[ro];if(e)return e;for(var r=t.parentNode;r;){if(e=r[sa]||r[ro]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=C2(t);t!==null;){if(r=t[ro])return r;t=C2(t)}return e}t=r,r=t.parentNode}return null}function dp(t){return t=t[ro]||t[sa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ce(33))}function $g(t){return t[bh]||null}var O1=[],Au=-1;function kl(t){return{current:t}}function fr(t){0>Au||(t.current=O1[Au],O1[Au]=null,Au--)}function ar(t,e){Au++,O1[Au]=t.current,t.current=e}var gl={},On=kl(gl),As=kl(!1),Ec=gl;function fd(t,e){var r=t.type.contextTypes;if(!r)return gl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rs(t){return t=t.childContextTypes,t!=null}function Rm(){fr(As),fr(On)}function j2(t,e,r){if(On.current!==gl)throw Error(Ce(168));ar(On,e),ar(As,r)}function Bk(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ce(108,g8(t)||"Unknown",i));return Ar({},r,n)}function km(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gl,Ec=On.current,ar(On,t),ar(As,As.current),!0}function O2(t,e,r){var n=t.stateNode;if(!n)throw Error(Ce(169));r?(t=Bk(t,e,Ec),n.__reactInternalMemoizedMergedChildContext=t,fr(As),fr(On),ar(On,t)):fr(As),ar(As,r)}var Do=null,Vg=!1,Lv=!1;function Uk(t){Do===null?Do=[t]:Do.push(t)}function jB(t){Vg=!0,Uk(t)}function Tl(){if(!Lv&&Do!==null){Lv=!0;var t=0,e=er;try{var r=Do;for(er=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Do=null,Vg=!1}catch(i){throw Do!==null&&(Do=Do.slice(t+1)),uk(Yb,Tl),i}finally{er=e,Lv=!1}}return null}var Ru=[],ku=0,Tm=null,Im=0,ei=[],ti=0,Nc=null,Yo=1,Qo="";function Wl(t,e){Ru[ku++]=Im,Ru[ku++]=Tm,Tm=t,Im=e}function zk(t,e,r){ei[ti++]=Yo,ei[ti++]=Qo,ei[ti++]=Nc,Nc=t;var n=Yo;t=Qo;var i=32-Oi(n)-1;n&=~(1<<i),r+=1;var s=32-Oi(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Yo=1<<32-Oi(e)+i|r<<i|n,Qo=s+t}else Yo=1<<s|r<<i|n,Qo=t}function i_(t){t.return!==null&&(Wl(t,1),zk(t,1,0))}function o_(t){for(;t===Tm;)Tm=Ru[--ku],Ru[ku]=null,Im=Ru[--ku],Ru[ku]=null;for(;t===Nc;)Nc=ei[--ti],ei[ti]=null,Qo=ei[--ti],ei[ti]=null,Yo=ei[--ti],ei[ti]=null}var zs=null,Us=null,yr=!1,Mi=null;function Fk(t,e){var r=ni(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function P2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zs=t,Us=sl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zs=t,Us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Nc!==null?{id:Yo,overflow:Qo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ni(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,zs=t,Us=null,!0):!1;default:return!1}}function P1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function L1(t){if(yr){var e=Us;if(e){var r=e;if(!P2(t,e)){if(P1(t))throw Error(Ce(418));e=sl(r.nextSibling);var n=zs;e&&P2(t,e)?Fk(n,r):(t.flags=t.flags&-4097|2,yr=!1,zs=t)}}else{if(P1(t))throw Error(Ce(418));t.flags=t.flags&-4097|2,yr=!1,zs=t}}}function L2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zs=t}function Xp(t){if(t!==zs)return!1;if(!yr)return L2(t),yr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!I1(t.type,t.memoizedProps)),e&&(e=Us)){if(P1(t))throw Wk(),Error(Ce(418));for(;e;)Fk(t,e),e=sl(e.nextSibling)}if(L2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Us=sl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Us=null}}else Us=zs?sl(t.stateNode.nextSibling):null;return!0}function Wk(){for(var t=Us;t;)t=sl(t.nextSibling)}function hd(){Us=zs=null,yr=!1}function a_(t){Mi===null?Mi=[t]:Mi.push(t)}var OB=pa.ReactCurrentBatchConfig;function gf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ce(309));var n=r.stateNode}if(!n)throw Error(Ce(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ce(284));if(!r._owner)throw Error(Ce(290,t))}return t}function e0(t,e){throw t=Object.prototype.toString.call(e),Error(Ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function D2(t){var e=t._init;return e(t._payload)}function $k(t){function e(R,T){if(t){var C=R.deletions;C===null?(R.deletions=[T],R.flags|=16):C.push(T)}}function r(R,T){if(!t)return null;for(;T!==null;)e(R,T),T=T.sibling;return null}function n(R,T){for(R=new Map;T!==null;)T.key!==null?R.set(T.key,T):R.set(T.index,T),T=T.sibling;return R}function i(R,T){return R=ll(R,T),R.index=0,R.sibling=null,R}function s(R,T,C){return R.index=C,t?(C=R.alternate,C!==null?(C=C.index,C<T?(R.flags|=2,T):C):(R.flags|=2,T)):(R.flags|=1048576,T)}function o(R){return t&&R.alternate===null&&(R.flags|=2),R}function l(R,T,C,j){return T===null||T.tag!==6?(T=$v(C,R.mode,j),T.return=R,T):(T=i(T,C),T.return=R,T)}function f(R,T,C,j){var D=C.type;return D===_u?p(R,T,C.props.children,j,C.key):T!==null&&(T.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ia&&D2(D)===T.type)?(j=i(T,C.props),j.ref=gf(R,T,C),j.return=R,j):(j=$0(C.type,C.key,C.props,null,R.mode,j),j.ref=gf(R,T,C),j.return=R,j)}function h(R,T,C,j){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=Vv(C,R.mode,j),T.return=R,T):(T=i(T,C.children||[]),T.return=R,T)}function p(R,T,C,j,D){return T===null||T.tag!==7?(T=wc(C,R.mode,j,D),T.return=R,T):(T=i(T,C),T.return=R,T)}function v(R,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=$v(""+T,R.mode,C),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $p:return C=$0(T.type,T.key,T.props,null,R.mode,C),C.ref=gf(R,null,T),C.return=R,C;case bu:return T=Vv(T,R.mode,C),T.return=R,T;case Ia:var j=T._init;return v(R,j(T._payload),C)}if(kf(T)||df(T))return T=wc(T,R.mode,C,null),T.return=R,T;e0(R,T)}return null}function E(R,T,C,j){var D=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return D!==null?null:l(R,T,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $p:return C.key===D?f(R,T,C,j):null;case bu:return C.key===D?h(R,T,C,j):null;case Ia:return D=C._init,E(R,T,D(C._payload),j)}if(kf(C)||df(C))return D!==null?null:p(R,T,C,j,null);e0(R,C)}return null}function b(R,T,C,j,D){if(typeof j=="string"&&j!==""||typeof j=="number")return R=R.get(C)||null,l(T,R,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $p:return R=R.get(j.key===null?C:j.key)||null,f(T,R,j,D);case bu:return R=R.get(j.key===null?C:j.key)||null,h(T,R,j,D);case Ia:var U=j._init;return b(R,T,C,U(j._payload),D)}if(kf(j)||df(j))return R=R.get(C)||null,p(T,R,j,D,null);e0(T,j)}return null}function k(R,T,C,j){for(var D=null,U=null,L=T,F=T=0,W=null;L!==null&&F<C.length;F++){L.index>F?(W=L,L=null):W=L.sibling;var q=E(R,L,C[F],j);if(q===null){L===null&&(L=W);break}t&&L&&q.alternate===null&&e(R,L),T=s(q,T,F),U===null?D=q:U.sibling=q,U=q,L=W}if(F===C.length)return r(R,L),yr&&Wl(R,F),D;if(L===null){for(;F<C.length;F++)L=v(R,C[F],j),L!==null&&(T=s(L,T,F),U===null?D=L:U.sibling=L,U=L);return yr&&Wl(R,F),D}for(L=n(R,L);F<C.length;F++)W=b(L,R,F,C[F],j),W!==null&&(t&&W.alternate!==null&&L.delete(W.key===null?F:W.key),T=s(W,T,F),U===null?D=W:U.sibling=W,U=W);return t&&L.forEach(function(V){return e(R,V)}),yr&&Wl(R,F),D}function N(R,T,C,j){var D=df(C);if(typeof D!="function")throw Error(Ce(150));if(C=D.call(C),C==null)throw Error(Ce(151));for(var U=D=null,L=T,F=T=0,W=null,q=C.next();L!==null&&!q.done;F++,q=C.next()){L.index>F?(W=L,L=null):W=L.sibling;var V=E(R,L,q.value,j);if(V===null){L===null&&(L=W);break}t&&L&&V.alternate===null&&e(R,L),T=s(V,T,F),U===null?D=V:U.sibling=V,U=V,L=W}if(q.done)return r(R,L),yr&&Wl(R,F),D;if(L===null){for(;!q.done;F++,q=C.next())q=v(R,q.value,j),q!==null&&(T=s(q,T,F),U===null?D=q:U.sibling=q,U=q);return yr&&Wl(R,F),D}for(L=n(R,L);!q.done;F++,q=C.next())q=b(L,R,F,q.value,j),q!==null&&(t&&q.alternate!==null&&L.delete(q.key===null?F:q.key),T=s(q,T,F),U===null?D=q:U.sibling=q,U=q);return t&&L.forEach(function(K){return e(R,K)}),yr&&Wl(R,F),D}function A(R,T,C,j){if(typeof C=="object"&&C!==null&&C.type===_u&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case $p:e:{for(var D=C.key,U=T;U!==null;){if(U.key===D){if(D=C.type,D===_u){if(U.tag===7){r(R,U.sibling),T=i(U,C.props.children),T.return=R,R=T;break e}}else if(U.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ia&&D2(D)===U.type){r(R,U.sibling),T=i(U,C.props),T.ref=gf(R,U,C),T.return=R,R=T;break e}r(R,U);break}else e(R,U);U=U.sibling}C.type===_u?(T=wc(C.props.children,R.mode,j,C.key),T.return=R,R=T):(j=$0(C.type,C.key,C.props,null,R.mode,j),j.ref=gf(R,T,C),j.return=R,R=j)}return o(R);case bu:e:{for(U=C.key;T!==null;){if(T.key===U)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){r(R,T.sibling),T=i(T,C.children||[]),T.return=R,R=T;break e}else{r(R,T);break}else e(R,T);T=T.sibling}T=Vv(C,R.mode,j),T.return=R,R=T}return o(R);case Ia:return U=C._init,A(R,T,U(C._payload),j)}if(kf(C))return k(R,T,C,j);if(df(C))return N(R,T,C,j);e0(R,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(r(R,T.sibling),T=i(T,C),T.return=R,R=T):(r(R,T),T=$v(C,R.mode,j),T.return=R,R=T),o(R)):r(R,T)}return A}var pd=$k(!0),Vk=$k(!1),Cm=kl(null),jm=null,Tu=null,l_=null;function c_(){l_=Tu=jm=null}function u_(t){var e=Cm.current;fr(Cm),t._currentValue=e}function D1(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Wu(t,e){jm=t,l_=Tu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ns=!0),t.firstContext=null)}function ai(t){var e=t._currentValue;if(l_!==t)if(t={context:t,memoizedValue:e,next:null},Tu===null){if(jm===null)throw Error(Ce(308));Tu=t,jm.dependencies={lanes:0,firstContext:t}}else Tu=Tu.next=t;return e}var Jl=null;function d_(t){Jl===null?Jl=[t]:Jl.push(t)}function Hk(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,d_(e)):(r.next=i.next,i.next=r),e.interleaved=r,ia(t,n)}function ia(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ca=!1;function f_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ea(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function il(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$t&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ia(t,r)}return i=n.interleaved,i===null?(e.next=e,d_(n)):(e.next=i.next,i.next=e),n.interleaved=e,ia(t,r)}function D0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Qb(t,r)}}function B2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Om(t,e,r,n){var i=t.updateQueue;Ca=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var f=l,h=f.next;f.next=null,o===null?s=h:o.next=h,o=f;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=f))}if(s!==null){var v=i.baseState;o=0,p=h=f=null,l=s;do{var E=l.lane,b=l.eventTime;if((n&E)===E){p!==null&&(p=p.next={eventTime:b,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,N=l;switch(E=e,b=r,N.tag){case 1:if(k=N.payload,typeof k=="function"){v=k.call(b,v,E);break e}v=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=N.payload,E=typeof k=="function"?k.call(b,v,E):k,E==null)break e;v=Ar({},v,E);break e;case 2:Ca=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,E=i.effects,E===null?i.effects=[l]:E.push(l))}else b={eventTime:b,lane:E,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=b,f=v):p=p.next=b,o|=E;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;E=l,l=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(p===null&&(f=v),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ac|=o,t.lanes=o,t.memoizedState=v}}function U2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ce(191,i));i.call(n)}}}var fp={},uo=kl(fp),_h=kl(fp),Sh=kl(fp);function Xl(t){if(t===fp)throw Error(Ce(174));return t}function h_(t,e){switch(ar(Sh,e),ar(_h,t),ar(uo,fp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:y1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=y1(e,t)}fr(uo),ar(uo,e)}function md(){fr(uo),fr(_h),fr(Sh)}function qk(t){Xl(Sh.current);var e=Xl(uo.current),r=y1(e,t.type);e!==r&&(ar(_h,t),ar(uo,r))}function p_(t){_h.current===t&&(fr(uo),fr(_h))}var Er=kl(0);function Pm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dv=[];function m_(){for(var t=0;t<Dv.length;t++)Dv[t]._workInProgressVersionPrimary=null;Dv.length=0}var B0=pa.ReactCurrentDispatcher,Bv=pa.ReactCurrentBatchConfig,Mc=0,Mr=null,Qr=null,on=null,Lm=!1,qf=!1,Eh=0,PB=0;function bn(){throw Error(Ce(321))}function g_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Bi(t[r],e[r]))return!1;return!0}function y_(t,e,r,n,i,s){if(Mc=s,Mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,B0.current=t===null||t.memoizedState===null?UB:zB,t=r(n,i),qf){s=0;do{if(qf=!1,Eh=0,25<=s)throw Error(Ce(301));s+=1,on=Qr=null,e.updateQueue=null,B0.current=FB,t=r(n,i)}while(qf)}if(B0.current=Dm,e=Qr!==null&&Qr.next!==null,Mc=0,on=Qr=Mr=null,Lm=!1,e)throw Error(Ce(300));return t}function v_(){var t=Eh!==0;return Eh=0,t}function Zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Mr.memoizedState=on=t:on=on.next=t,on}function li(){if(Qr===null){var t=Mr.alternate;t=t!==null?t.memoizedState:null}else t=Qr.next;var e=on===null?Mr.memoizedState:on.next;if(e!==null)on=e,Qr=t;else{if(t===null)throw Error(Ce(310));Qr=t,t={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},on===null?Mr.memoizedState=on=t:on=on.next=t}return on}function Nh(t,e){return typeof e=="function"?e(t):e}function Uv(t){var e=li(),r=e.queue;if(r===null)throw Error(Ce(311));r.lastRenderedReducer=t;var n=Qr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,f=null,h=s;do{var p=h.lane;if((Mc&p)===p)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(l=f=v,o=n):f=f.next=v,Mr.lanes|=p,Ac|=p}h=h.next}while(h!==null&&h!==s);f===null?o=n:f.next=l,Bi(n,e.memoizedState)||(Ns=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=f,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Mr.lanes|=s,Ac|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zv(t){var e=li(),r=e.queue;if(r===null)throw Error(Ce(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bi(s,e.memoizedState)||(Ns=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Gk(){}function Zk(t,e){var r=Mr,n=li(),i=e(),s=!Bi(n.memoizedState,i);if(s&&(n.memoizedState=i,Ns=!0),n=n.queue,w_(Jk.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||on!==null&&on.memoizedState.tag&1){if(r.flags|=2048,Mh(9,Qk.bind(null,r,n,i,e),void 0,null),ln===null)throw Error(Ce(349));Mc&30||Yk(r,e,i)}return i}function Yk(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Qk(t,e,r,n){e.value=r,e.getSnapshot=n,Xk(e)&&eT(t)}function Jk(t,e,r){return r(function(){Xk(e)&&eT(t)})}function Xk(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Bi(t,r)}catch{return!0}}function eT(t){var e=ia(t,1);e!==null&&Pi(e,t,1,-1)}function z2(t){var e=Zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:t},e.queue=t,t=t.dispatch=BB.bind(null,Mr,t),[e.memoizedState,t]}function Mh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function tT(){return li().memoizedState}function U0(t,e,r,n){var i=Zi();Mr.flags|=t,i.memoizedState=Mh(1|e,r,void 0,n===void 0?null:n)}function Hg(t,e,r,n){var i=li();n=n===void 0?null:n;var s=void 0;if(Qr!==null){var o=Qr.memoizedState;if(s=o.destroy,n!==null&&g_(n,o.deps)){i.memoizedState=Mh(e,r,s,n);return}}Mr.flags|=t,i.memoizedState=Mh(1|e,r,s,n)}function F2(t,e){return U0(8390656,8,t,e)}function w_(t,e){return Hg(2048,8,t,e)}function rT(t,e){return Hg(4,2,t,e)}function nT(t,e){return Hg(4,4,t,e)}function sT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iT(t,e,r){return r=r!=null?r.concat([t]):null,Hg(4,4,sT.bind(null,e,t),r)}function x_(){}function oT(t,e){var r=li();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&g_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function aT(t,e){var r=li();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&g_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function lT(t,e,r){return Mc&21?(Bi(r,e)||(r=hk(),Mr.lanes|=r,Ac|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ns=!0),t.memoizedState=r)}function LB(t,e){var r=er;er=r!==0&&4>r?r:4,t(!0);var n=Bv.transition;Bv.transition={};try{t(!1),e()}finally{er=r,Bv.transition=n}}function cT(){return li().memoizedState}function DB(t,e,r){var n=al(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uT(t))dT(e,r);else if(r=Hk(t,e,r,n),r!==null){var i=ds();Pi(r,t,n,i),fT(r,e,n)}}function BB(t,e,r){var n=al(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uT(t))dT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,Bi(l,o)){var f=e.interleaved;f===null?(i.next=i,d_(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}r=Hk(t,e,i,n),r!==null&&(i=ds(),Pi(r,t,n,i),fT(r,e,n))}}function uT(t){var e=t.alternate;return t===Mr||e!==null&&e===Mr}function dT(t,e){qf=Lm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function fT(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Qb(t,r)}}var Dm={readContext:ai,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},UB={readContext:ai,useCallback:function(t,e){return Zi().memoizedState=[t,e===void 0?null:e],t},useContext:ai,useEffect:F2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,U0(4194308,4,sT.bind(null,e,t),r)},useLayoutEffect:function(t,e){return U0(4194308,4,t,e)},useInsertionEffect:function(t,e){return U0(4,2,t,e)},useMemo:function(t,e){var r=Zi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Zi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=DB.bind(null,Mr,t),[n.memoizedState,t]},useRef:function(t){var e=Zi();return t={current:t},e.memoizedState=t},useState:z2,useDebugValue:x_,useDeferredValue:function(t){return Zi().memoizedState=t},useTransition:function(){var t=z2(!1),e=t[0];return t=LB.bind(null,t[1]),Zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Mr,i=Zi();if(yr){if(r===void 0)throw Error(Ce(407));r=r()}else{if(r=e(),ln===null)throw Error(Ce(349));Mc&30||Yk(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,F2(Jk.bind(null,n,s,t),[t]),n.flags|=2048,Mh(9,Qk.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Zi(),e=ln.identifierPrefix;if(yr){var r=Qo,n=Yo;r=(n&~(1<<32-Oi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Eh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=PB++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zB={readContext:ai,useCallback:oT,useContext:ai,useEffect:w_,useImperativeHandle:iT,useInsertionEffect:rT,useLayoutEffect:nT,useMemo:aT,useReducer:Uv,useRef:tT,useState:function(){return Uv(Nh)},useDebugValue:x_,useDeferredValue:function(t){var e=li();return lT(e,Qr.memoizedState,t)},useTransition:function(){var t=Uv(Nh)[0],e=li().memoizedState;return[t,e]},useMutableSource:Gk,useSyncExternalStore:Zk,useId:cT,unstable_isNewReconciler:!1},FB={readContext:ai,useCallback:oT,useContext:ai,useEffect:w_,useImperativeHandle:iT,useInsertionEffect:rT,useLayoutEffect:nT,useMemo:aT,useReducer:zv,useRef:tT,useState:function(){return zv(Nh)},useDebugValue:x_,useDeferredValue:function(t){var e=li();return Qr===null?e.memoizedState=t:lT(e,Qr.memoizedState,t)},useTransition:function(){var t=zv(Nh)[0],e=li().memoizedState;return[t,e]},useMutableSource:Gk,useSyncExternalStore:Zk,useId:cT,unstable_isNewReconciler:!1};function xi(t,e){if(t&&t.defaultProps){e=Ar({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function B1(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ar({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Kg={isMounted:function(t){return(t=t._reactInternals)?Vc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ds(),i=al(t),s=ea(n,i);s.payload=e,r!=null&&(s.callback=r),e=il(t,s,i),e!==null&&(Pi(e,t,i,n),D0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ds(),i=al(t),s=ea(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=il(t,s,i),e!==null&&(Pi(e,t,i,n),D0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ds(),n=al(t),i=ea(r,n);i.tag=2,e!=null&&(i.callback=e),e=il(t,i,n),e!==null&&(Pi(e,t,n,r),D0(e,t,n))}};function W2(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!vh(r,n)||!vh(i,s):!0}function hT(t,e,r){var n=!1,i=gl,s=e.contextType;return typeof s=="object"&&s!==null?s=ai(s):(i=Rs(e)?Ec:On.current,n=e.contextTypes,s=(n=n!=null)?fd(t,i):gl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Kg.enqueueReplaceState(e,e.state,null)}function U1(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},f_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ai(s):(s=Rs(e)?Ec:On.current,i.context=fd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(B1(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kg.enqueueReplaceState(i,i.state,null),Om(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gd(t,e){try{var r="",n=e;do r+=m8(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function z1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var WB=typeof WeakMap=="function"?WeakMap:Map;function pT(t,e,r){r=ea(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Um||(Um=!0,Y1=n),z1(t,e)},r}function mT(t,e,r){r=ea(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){z1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){z1(t,e),typeof n!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function V2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new WB;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=rU.bind(null,t,e,r),e.then(t,t))}function H2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function K2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ea(-1,1),e.tag=2,il(r,e,1))),r.lanes|=1),t)}var $B=pa.ReactCurrentOwner,Ns=!1;function os(t,e,r,n){e.child=t===null?Vk(e,null,r,n):pd(e,t.child,r,n)}function q2(t,e,r,n,i){r=r.render;var s=e.ref;return Wu(e,i),n=y_(t,e,r,n,s,i),r=v_(),t!==null&&!Ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oa(t,e,i)):(yr&&r&&i_(e),e.flags|=1,os(t,e,n,i),e.child)}function G2(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!R_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,gT(t,e,s,n,i)):(t=$0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:vh,r(o,n)&&t.ref===e.ref)return oa(t,e,i)}return e.flags|=1,t=ll(s,n),t.ref=e.ref,t.return=e,e.child=t}function gT(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(vh(s,n)&&t.ref===e.ref)if(Ns=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Ns=!0);else return e.lanes=t.lanes,oa(t,e,i)}return F1(t,e,r,n,i)}function yT(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Cu,js),js|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ar(Cu,js),js|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ar(Cu,js),js|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ar(Cu,js),js|=n;return os(t,e,i,r),e.child}function vT(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function F1(t,e,r,n,i){var s=Rs(r)?Ec:On.current;return s=fd(e,s),Wu(e,i),r=y_(t,e,r,n,s,i),n=v_(),t!==null&&!Ns?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oa(t,e,i)):(yr&&n&&i_(e),e.flags|=1,os(t,e,r,i),e.child)}function Z2(t,e,r,n,i){if(Rs(r)){var s=!0;km(e)}else s=!1;if(Wu(e,i),e.stateNode===null)z0(t,e),hT(e,r,n),U1(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var f=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=ai(h):(h=Rs(r)?Ec:On.current,h=fd(e,h));var p=r.getDerivedStateFromProps,v=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||f!==h)&&$2(e,o,n,h),Ca=!1;var E=e.memoizedState;o.state=E,Om(e,n,o,i),f=e.memoizedState,l!==n||E!==f||As.current||Ca?(typeof p=="function"&&(B1(e,r,p,n),f=e.memoizedState),(l=Ca||W2(e,r,l,n,E,f,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=f),o.props=n,o.state=f,o.context=h,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Kk(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:xi(e.type,l),o.props=h,v=e.pendingProps,E=o.context,f=r.contextType,typeof f=="object"&&f!==null?f=ai(f):(f=Rs(r)?Ec:On.current,f=fd(e,f));var b=r.getDerivedStateFromProps;(p=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==v||E!==f)&&$2(e,o,n,f),Ca=!1,E=e.memoizedState,o.state=E,Om(e,n,o,i);var k=e.memoizedState;l!==v||E!==k||As.current||Ca?(typeof b=="function"&&(B1(e,r,b,n),k=e.memoizedState),(h=Ca||W2(e,r,h,n,E,k,f)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,k,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,k,f)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=k),o.props=n,o.state=k,o.context=f,n=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),n=!1)}return W1(t,e,r,n,s,i)}function W1(t,e,r,n,i,s){vT(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&O2(e,r,!1),oa(t,e,s);n=e.stateNode,$B.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=pd(e,t.child,null,s),e.child=pd(e,null,l,s)):os(t,e,l,s),e.memoizedState=n.state,i&&O2(e,r,!0),e.child}function wT(t){var e=t.stateNode;e.pendingContext?j2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j2(t,e.context,!1),h_(t,e.containerInfo)}function Y2(t,e,r,n,i){return hd(),a_(i),e.flags|=256,os(t,e,r,n),e.child}var $1={dehydrated:null,treeContext:null,retryLane:0};function V1(t){return{baseLanes:t,cachePool:null,transitions:null}}function xT(t,e,r){var n=e.pendingProps,i=Er.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ar(Er,i&1),t===null)return L1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zg(o,n,0,null),t=wc(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=V1(r),e.memoizedState=$1,t):b_(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return VB(t,e,o,n,l,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,l=i.sibling;var f={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=f,e.deletions=null):(n=ll(i,f),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ll(l,s):(s=wc(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?V1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=$1,n}return s=t.child,t=s.sibling,n=ll(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function b_(t,e){return e=Zg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function t0(t,e,r,n){return n!==null&&a_(n),pd(e,t.child,null,r),t=b_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VB(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Fv(Error(Ce(422))),t0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Zg({mode:"visible",children:n.children},i,0,null),s=wc(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&pd(e,t.child,null,o),e.child.memoizedState=V1(o),e.memoizedState=$1,s);if(!(e.mode&1))return t0(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ce(419)),n=Fv(s,n,void 0),t0(t,e,o,n)}if(l=(o&t.childLanes)!==0,Ns||l){if(n=ln,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ia(t,i),Pi(n,t,i,-1))}return A_(),n=Fv(Error(Ce(421))),t0(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nU.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Us=sl(i.nextSibling),zs=e,yr=!0,Mi=null,t!==null&&(ei[ti++]=Yo,ei[ti++]=Qo,ei[ti++]=Nc,Yo=t.id,Qo=t.overflow,Nc=e),e=b_(e,n.children),e.flags|=4096,e)}function Q2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),D1(t.return,e,r)}function Wv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function bT(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(os(t,e,n.children,r),n=Er.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q2(t,r,e);else if(t.tag===19)Q2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ar(Er,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Pm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Wv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Wv(e,!0,r,null,s);break;case"together":Wv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function z0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ac|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ce(153));if(e.child!==null){for(t=e.child,r=ll(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ll(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function HB(t,e,r){switch(e.tag){case 3:wT(e),hd();break;case 5:qk(e);break;case 1:Rs(e.type)&&km(e);break;case 4:h_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ar(Cm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ar(Er,Er.current&1),e.flags|=128,null):r&e.child.childLanes?xT(t,e,r):(ar(Er,Er.current&1),t=oa(t,e,r),t!==null?t.sibling:null);ar(Er,Er.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return bT(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ar(Er,Er.current),n)break;return null;case 22:case 23:return e.lanes=0,yT(t,e,r)}return oa(t,e,r)}var _T,H1,ST,ET;_T=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};H1=function(){};ST=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Xl(uo.current);var s=null;switch(r){case"input":i=h1(t,i),n=h1(t,n),s=[];break;case"select":i=Ar({},i,{value:void 0}),n=Ar({},n,{value:void 0}),s=[];break;case"textarea":i=g1(t,i),n=g1(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Am)}v1(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(dh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var f=n[h];if(l=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&f!==l&&(f!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in f)f.hasOwnProperty(o)&&l[o]!==f[o]&&(r||(r={}),r[o]=f[o])}else r||(s||(s=[]),s.push(h,r)),r=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,l=l?l.__html:void 0,f!=null&&l!==f&&(s=s||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(dh.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&cr("scroll",t),s||l===f||(s=[])):(s=s||[]).push(h,f))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};ET=function(t,e,r,n){r!==n&&(e.flags|=4)};function yf(t,e){if(!yr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function KB(t,e,r){var n=e.pendingProps;switch(o_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return Rs(e.type)&&Rm(),_n(e),null;case 3:return n=e.stateNode,md(),fr(As),fr(On),m_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mi!==null&&(X1(Mi),Mi=null))),H1(t,e),_n(e),null;case 5:p_(e);var i=Xl(Sh.current);if(r=e.type,t!==null&&e.stateNode!=null)ST(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ce(166));return _n(e),null}if(t=Xl(uo.current),Xp(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ro]=e,n[bh]=s,t=(e.mode&1)!==0,r){case"dialog":cr("cancel",n),cr("close",n);break;case"iframe":case"object":case"embed":cr("load",n);break;case"video":case"audio":for(i=0;i<If.length;i++)cr(If[i],n);break;case"source":cr("error",n);break;case"img":case"image":case"link":cr("error",n),cr("load",n);break;case"details":cr("toggle",n);break;case"input":o2(n,s),cr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},cr("invalid",n);break;case"textarea":l2(n,s),cr("invalid",n)}v1(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Jp(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Jp(n.textContent,l,t),i=["children",""+l]):dh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&cr("scroll",n)}switch(r){case"input":Vp(n),a2(n,s,!0);break;case"textarea":Vp(n),c2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Am)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JR(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ro]=e,t[bh]=n,_T(t,e,!1,!1),e.stateNode=t;e:{switch(o=w1(r,n),r){case"dialog":cr("cancel",t),cr("close",t),i=n;break;case"iframe":case"object":case"embed":cr("load",t),i=n;break;case"video":case"audio":for(i=0;i<If.length;i++)cr(If[i],t);i=n;break;case"source":cr("error",t),i=n;break;case"img":case"image":case"link":cr("error",t),cr("load",t),i=n;break;case"details":cr("toggle",t),i=n;break;case"input":o2(t,n),i=h1(t,n),cr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ar({},n,{value:void 0}),cr("invalid",t);break;case"textarea":l2(t,n),i=g1(t,n),cr("invalid",t);break;default:i=n}v1(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];s==="style"?tk(t,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&XR(t,f)):s==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&fh(t,f):typeof f=="number"&&fh(t,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dh.hasOwnProperty(s)?f!=null&&s==="onScroll"&&cr("scroll",t):f!=null&&Hb(t,s,f,o))}switch(r){case"input":Vp(t),a2(t,n,!1);break;case"textarea":Vp(t),c2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ml(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Bu(t,!!n.multiple,s,!1):n.defaultValue!=null&&Bu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Am)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)ET(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ce(166));if(r=Xl(Sh.current),Xl(uo.current),Xp(e)){if(n=e.stateNode,r=e.memoizedProps,n[ro]=e,(s=n.nodeValue!==r)&&(t=zs,t!==null))switch(t.tag){case 3:Jp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jp(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ro]=e,e.stateNode=n}return _n(e),null;case 13:if(fr(Er),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yr&&Us!==null&&e.mode&1&&!(e.flags&128))Wk(),hd(),e.flags|=98560,s=!1;else if(s=Xp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ce(317));s[ro]=e}else hd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),s=!1}else Mi!==null&&(X1(Mi),Mi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Er.current&1?Jr===0&&(Jr=3):A_())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return md(),H1(t,e),t===null&&wh(e.stateNode.containerInfo),_n(e),null;case 10:return u_(e.type._context),_n(e),null;case 17:return Rs(e.type)&&Rm(),_n(e),null;case 19:if(fr(Er),s=e.memoizedState,s===null)return _n(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)yf(s,!1);else{if(Jr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pm(t),o!==null){for(e.flags|=128,yf(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ar(Er,Er.current&1|2),e.child}t=t.sibling}s.tail!==null&&Dr()>yd&&(e.flags|=128,n=!0,yf(s,!1),e.lanes=4194304)}else{if(!n)if(t=Pm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),yf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yr)return _n(e),null}else 2*Dr()-s.renderingStartTime>yd&&r!==1073741824&&(e.flags|=128,n=!0,yf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Dr(),e.sibling=null,r=Er.current,ar(Er,n?r&1|2:r&1),e):(_n(e),null);case 22:case 23:return M_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?js&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function qB(t,e){switch(o_(e),e.tag){case 1:return Rs(e.type)&&Rm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return md(),fr(As),fr(On),m_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return p_(e),null;case 13:if(fr(Er),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));hd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fr(Er),null;case 4:return md(),null;case 10:return u_(e.type._context),null;case 22:case 23:return M_(),null;case 24:return null;default:return null}}var r0=!1,Tn=!1,GB=typeof WeakSet=="function"?WeakSet:Set,st=null;function Iu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ir(t,e,n)}else r.current=null}function K1(t,e,r){try{r()}catch(n){Ir(t,e,n)}}var J2=!1;function ZB(t,e){if(k1=Em,t=kk(),s_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,f=-1,h=0,p=0,v=t,E=null;t:for(;;){for(var b;v!==r||i!==0&&v.nodeType!==3||(l=o+i),v!==s||n!==0&&v.nodeType!==3||(f=o+n),v.nodeType===3&&(o+=v.nodeValue.length),(b=v.firstChild)!==null;)E=v,v=b;for(;;){if(v===t)break t;if(E===r&&++h===i&&(l=o),E===s&&++p===n&&(f=o),(b=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=b}r=l===-1||f===-1?null:{start:l,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(T1={focusedElem:t,selectionRange:r},Em=!1,st=e;st!==null;)if(e=st,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,st=t;else for(;st!==null;){e=st;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var N=k.memoizedProps,A=k.memoizedState,R=e.stateNode,T=R.getSnapshotBeforeUpdate(e.elementType===e.type?N:xi(e.type,N),A);R.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(j){Ir(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}return k=J2,J2=!1,k}function Gf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&K1(e,r,s)}i=i.next}while(i!==n)}}function qg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function q1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function NT(t){var e=t.alternate;e!==null&&(t.alternate=null,NT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ro],delete e[bh],delete e[j1],delete e[IB],delete e[CB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MT(t){return t.tag===5||t.tag===3||t.tag===4}function X2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function G1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Am));else if(n!==4&&(t=t.child,t!==null))for(G1(t,e,r),t=t.sibling;t!==null;)G1(t,e,r),t=t.sibling}function Z1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Z1(t,e,r),t=t.sibling;t!==null;)Z1(t,e,r),t=t.sibling}var fn=null,Ni=!1;function wa(t,e,r){for(r=r.child;r!==null;)AT(t,e,r),r=r.sibling}function AT(t,e,r){if(co&&typeof co.onCommitFiberUnmount=="function")try{co.onCommitFiberUnmount(Ug,r)}catch{}switch(r.tag){case 5:Tn||Iu(r,e);case 6:var n=fn,i=Ni;fn=null,wa(t,e,r),fn=n,Ni=i,fn!==null&&(Ni?(t=fn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):fn.removeChild(r.stateNode));break;case 18:fn!==null&&(Ni?(t=fn,r=r.stateNode,t.nodeType===8?Pv(t.parentNode,r):t.nodeType===1&&Pv(t,r),gh(t)):Pv(fn,r.stateNode));break;case 4:n=fn,i=Ni,fn=r.stateNode.containerInfo,Ni=!0,wa(t,e,r),fn=n,Ni=i;break;case 0:case 11:case 14:case 15:if(!Tn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&K1(r,e,o),i=i.next}while(i!==n)}wa(t,e,r);break;case 1:if(!Tn&&(Iu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ir(r,e,l)}wa(t,e,r);break;case 21:wa(t,e,r);break;case 22:r.mode&1?(Tn=(n=Tn)||r.memoizedState!==null,wa(t,e,r),Tn=n):wa(t,e,r);break;default:wa(t,e,r)}}function eN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new GB),e.forEach(function(n){var i=sU.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function yi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:fn=l.stateNode,Ni=!1;break e;case 3:fn=l.stateNode.containerInfo,Ni=!0;break e;case 4:fn=l.stateNode.containerInfo,Ni=!0;break e}l=l.return}if(fn===null)throw Error(Ce(160));AT(s,o,i),fn=null,Ni=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){Ir(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RT(e,t),e=e.sibling}function RT(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yi(e,t),Hi(t),n&4){try{Gf(3,t,t.return),qg(3,t)}catch(N){Ir(t,t.return,N)}try{Gf(5,t,t.return)}catch(N){Ir(t,t.return,N)}}break;case 1:yi(e,t),Hi(t),n&512&&r!==null&&Iu(r,r.return);break;case 5:if(yi(e,t),Hi(t),n&512&&r!==null&&Iu(r,r.return),t.flags&32){var i=t.stateNode;try{fh(i,"")}catch(N){Ir(t,t.return,N)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,l=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&YR(i,s),w1(l,o);var h=w1(l,s);for(o=0;o<f.length;o+=2){var p=f[o],v=f[o+1];p==="style"?tk(i,v):p==="dangerouslySetInnerHTML"?XR(i,v):p==="children"?fh(i,v):Hb(i,p,v,h)}switch(l){case"input":p1(i,s);break;case"textarea":QR(i,s);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?Bu(i,!!s.multiple,b,!1):E!==!!s.multiple&&(s.defaultValue!=null?Bu(i,!!s.multiple,s.defaultValue,!0):Bu(i,!!s.multiple,s.multiple?[]:"",!1))}i[bh]=s}catch(N){Ir(t,t.return,N)}}break;case 6:if(yi(e,t),Hi(t),n&4){if(t.stateNode===null)throw Error(Ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){Ir(t,t.return,N)}}break;case 3:if(yi(e,t),Hi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gh(e.containerInfo)}catch(N){Ir(t,t.return,N)}break;case 4:yi(e,t),Hi(t);break;case 13:yi(e,t),Hi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(E_=Dr())),n&4&&eN(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(Tn=(h=Tn)||p,yi(e,t),Tn=h):yi(e,t),Hi(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(st=t,p=t.child;p!==null;){for(v=st=p;st!==null;){switch(E=st,b=E.child,E.tag){case 0:case 11:case 14:case 15:Gf(4,E,E.return);break;case 1:Iu(E,E.return);var k=E.stateNode;if(typeof k.componentWillUnmount=="function"){n=E,r=E.return;try{e=n,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(N){Ir(n,r,N)}}break;case 5:Iu(E,E.return);break;case 22:if(E.memoizedState!==null){rN(v);continue}}b!==null?(b.return=E,st=b):rN(v)}p=p.sibling}e:for(p=null,v=t;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,f=v.memoizedProps.style,o=f!=null&&f.hasOwnProperty("display")?f.display:null,l.style.display=ek("display",o))}catch(N){Ir(t,t.return,N)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(N){Ir(t,t.return,N)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:yi(e,t),Hi(t),n&4&&eN(t);break;case 21:break;default:yi(e,t),Hi(t)}}function Hi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(MT(r)){var n=r;break e}r=r.return}throw Error(Ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(fh(i,""),n.flags&=-33);var s=X2(t);Z1(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=X2(t);G1(t,l,o);break;default:throw Error(Ce(161))}}catch(f){Ir(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YB(t,e,r){st=t,kT(t)}function kT(t,e,r){for(var n=(t.mode&1)!==0;st!==null;){var i=st,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||r0;if(!o){var l=i.alternate,f=l!==null&&l.memoizedState!==null||Tn;l=r0;var h=Tn;if(r0=o,(Tn=f)&&!h)for(st=i;st!==null;)o=st,f=o.child,o.tag===22&&o.memoizedState!==null?nN(i):f!==null?(f.return=o,st=f):nN(i);for(;s!==null;)st=s,kT(s),s=s.sibling;st=i,r0=l,Tn=h}tN(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,st=s):tN(t)}}function tN(t){for(;st!==null;){var e=st;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||qg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Tn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:xi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U2(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}U2(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&gh(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Tn||e.flags&512&&q1(e)}catch(E){Ir(e,e.return,E)}}if(e===t){st=null;break}if(r=e.sibling,r!==null){r.return=e.return,st=r;break}st=e.return}}function rN(t){for(;st!==null;){var e=st;if(e===t){st=null;break}var r=e.sibling;if(r!==null){r.return=e.return,st=r;break}st=e.return}}function nN(t){for(;st!==null;){var e=st;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{qg(4,e)}catch(f){Ir(e,r,f)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(f){Ir(e,i,f)}}var s=e.return;try{q1(e)}catch(f){Ir(e,s,f)}break;case 5:var o=e.return;try{q1(e)}catch(f){Ir(e,o,f)}}}catch(f){Ir(e,e.return,f)}if(e===t){st=null;break}var l=e.sibling;if(l!==null){l.return=e.return,st=l;break}st=e.return}}var QB=Math.ceil,Bm=pa.ReactCurrentDispatcher,__=pa.ReactCurrentOwner,si=pa.ReactCurrentBatchConfig,$t=0,ln=null,qr=null,yn=0,js=0,Cu=kl(0),Jr=0,Ah=null,Ac=0,Gg=0,S_=0,Zf=null,_s=null,E_=0,yd=1/0,Lo=null,Um=!1,Y1=null,ol=null,n0=!1,Ka=null,zm=0,Yf=0,Q1=null,F0=-1,W0=0;function ds(){return $t&6?Dr():F0!==-1?F0:F0=Dr()}function al(t){return t.mode&1?$t&2&&yn!==0?yn&-yn:OB.transition!==null?(W0===0&&(W0=hk()),W0):(t=er,t!==0||(t=window.event,t=t===void 0?16:xk(t.type)),t):1}function Pi(t,e,r,n){if(50<Yf)throw Yf=0,Q1=null,Error(Ce(185));cp(t,r,n),(!($t&2)||t!==ln)&&(t===ln&&(!($t&2)&&(Gg|=r),Jr===4&&La(t,yn)),ks(t,n),r===1&&$t===0&&!(e.mode&1)&&(yd=Dr()+500,Vg&&Tl()))}function ks(t,e){var r=t.callbackNode;O8(t,e);var n=Sm(t,t===ln?yn:0);if(n===0)r!==null&&f2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&f2(r),e===1)t.tag===0?jB(sN.bind(null,t)):Uk(sN.bind(null,t)),kB(function(){!($t&6)&&Tl()}),r=null;else{switch(pk(n)){case 1:r=Yb;break;case 4:r=dk;break;case 16:r=_m;break;case 536870912:r=fk;break;default:r=_m}r=DT(r,TT.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function TT(t,e){if(F0=-1,W0=0,$t&6)throw Error(Ce(327));var r=t.callbackNode;if($u()&&t.callbackNode!==r)return null;var n=Sm(t,t===ln?yn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Fm(t,n);else{e=n;var i=$t;$t|=2;var s=CT();(ln!==t||yn!==e)&&(Lo=null,yd=Dr()+500,vc(t,e));do try{eU();break}catch(l){IT(t,l)}while(!0);c_(),Bm.current=s,$t=i,qr!==null?e=0:(ln=null,yn=0,e=Jr)}if(e!==0){if(e===2&&(i=E1(t),i!==0&&(n=i,e=J1(t,i))),e===1)throw r=Ah,vc(t,0),La(t,n),ks(t,Dr()),r;if(e===6)La(t,n);else{if(i=t.current.alternate,!(n&30)&&!JB(i)&&(e=Fm(t,n),e===2&&(s=E1(t),s!==0&&(n=s,e=J1(t,s))),e===1))throw r=Ah,vc(t,0),La(t,n),ks(t,Dr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ce(345));case 2:$l(t,_s,Lo);break;case 3:if(La(t,n),(n&130023424)===n&&(e=E_+500-Dr(),10<e)){if(Sm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ds(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=C1($l.bind(null,t,_s,Lo),e);break}$l(t,_s,Lo);break;case 4:if(La(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Oi(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Dr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QB(n/1960))-n,10<n){t.timeoutHandle=C1($l.bind(null,t,_s,Lo),n);break}$l(t,_s,Lo);break;case 5:$l(t,_s,Lo);break;default:throw Error(Ce(329))}}}return ks(t,Dr()),t.callbackNode===r?TT.bind(null,t):null}function J1(t,e){var r=Zf;return t.current.memoizedState.isDehydrated&&(vc(t,e).flags|=256),t=Fm(t,e),t!==2&&(e=_s,_s=r,e!==null&&X1(e)),t}function X1(t){_s===null?_s=t:_s.push.apply(_s,t)}function JB(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Bi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function La(t,e){for(e&=~S_,e&=~Gg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Oi(e),n=1<<r;t[r]=-1,e&=~n}}function sN(t){if($t&6)throw Error(Ce(327));$u();var e=Sm(t,0);if(!(e&1))return ks(t,Dr()),null;var r=Fm(t,e);if(t.tag!==0&&r===2){var n=E1(t);n!==0&&(e=n,r=J1(t,n))}if(r===1)throw r=Ah,vc(t,0),La(t,e),ks(t,Dr()),r;if(r===6)throw Error(Ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$l(t,_s,Lo),ks(t,Dr()),null}function N_(t,e){var r=$t;$t|=1;try{return t(e)}finally{$t=r,$t===0&&(yd=Dr()+500,Vg&&Tl())}}function Rc(t){Ka!==null&&Ka.tag===0&&!($t&6)&&$u();var e=$t;$t|=1;var r=si.transition,n=er;try{if(si.transition=null,er=1,t)return t()}finally{er=n,si.transition=r,$t=e,!($t&6)&&Tl()}}function M_(){js=Cu.current,fr(Cu)}function vc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,RB(r)),qr!==null)for(r=qr.return;r!==null;){var n=r;switch(o_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rm();break;case 3:md(),fr(As),fr(On),m_();break;case 5:p_(n);break;case 4:md();break;case 13:fr(Er);break;case 19:fr(Er);break;case 10:u_(n.type._context);break;case 22:case 23:M_()}r=r.return}if(ln=t,qr=t=ll(t.current,null),yn=js=e,Jr=0,Ah=null,S_=Gg=Ac=0,_s=Zf=null,Jl!==null){for(e=0;e<Jl.length;e++)if(r=Jl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Jl=null}return t}function IT(t,e){do{var r=qr;try{if(c_(),B0.current=Dm,Lm){for(var n=Mr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Lm=!1}if(Mc=0,on=Qr=Mr=null,qf=!1,Eh=0,__.current=null,r===null||r.return===null){Jr=1,Ah=e,qr=null;break}e:{var s=t,o=r.return,l=r,f=e;if(e=yn,l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,p=l,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var E=p.alternate;E?(p.updateQueue=E.updateQueue,p.memoizedState=E.memoizedState,p.lanes=E.lanes):(p.updateQueue=null,p.memoizedState=null)}var b=H2(o);if(b!==null){b.flags&=-257,K2(b,o,l,s,e),b.mode&1&&V2(s,h,e),e=b,f=h;var k=e.updateQueue;if(k===null){var N=new Set;N.add(f),e.updateQueue=N}else k.add(f);break e}else{if(!(e&1)){V2(s,h,e),A_();break e}f=Error(Ce(426))}}else if(yr&&l.mode&1){var A=H2(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),K2(A,o,l,s,e),a_(gd(f,l));break e}}s=f=gd(f,l),Jr!==4&&(Jr=2),Zf===null?Zf=[s]:Zf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var R=pT(s,f,e);B2(s,R);break e;case 1:l=f;var T=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ol===null||!ol.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=mT(s,l,e);B2(s,j);break e}}s=s.return}while(s!==null)}OT(r)}catch(D){e=D,qr===r&&r!==null&&(qr=r=r.return);continue}break}while(!0)}function CT(){var t=Bm.current;return Bm.current=Dm,t===null?Dm:t}function A_(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),ln===null||!(Ac&268435455)&&!(Gg&268435455)||La(ln,yn)}function Fm(t,e){var r=$t;$t|=2;var n=CT();(ln!==t||yn!==e)&&(Lo=null,vc(t,e));do try{XB();break}catch(i){IT(t,i)}while(!0);if(c_(),$t=r,Bm.current=n,qr!==null)throw Error(Ce(261));return ln=null,yn=0,Jr}function XB(){for(;qr!==null;)jT(qr)}function eU(){for(;qr!==null&&!N8();)jT(qr)}function jT(t){var e=LT(t.alternate,t,js);t.memoizedProps=t.pendingProps,e===null?OT(t):qr=e,__.current=null}function OT(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=qB(r,e),r!==null){r.flags&=32767,qr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jr=6,qr=null;return}}else if(r=KB(r,e,js),r!==null){qr=r;return}if(e=e.sibling,e!==null){qr=e;return}qr=e=t}while(e!==null);Jr===0&&(Jr=5)}function $l(t,e,r){var n=er,i=si.transition;try{si.transition=null,er=1,tU(t,e,r,n)}finally{si.transition=i,er=n}return null}function tU(t,e,r,n){do $u();while(Ka!==null);if($t&6)throw Error(Ce(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ce(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(P8(t,s),t===ln&&(qr=ln=null,yn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||n0||(n0=!0,DT(_m,function(){return $u(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=si.transition,si.transition=null;var o=er;er=1;var l=$t;$t|=4,__.current=null,ZB(t,r),RT(r,t),bB(T1),Em=!!k1,T1=k1=null,t.current=r,YB(r),M8(),$t=l,er=o,si.transition=s}else t.current=r;if(n0&&(n0=!1,Ka=t,zm=i),s=t.pendingLanes,s===0&&(ol=null),k8(r.stateNode),ks(t,Dr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Um)throw Um=!1,t=Y1,Y1=null,t;return zm&1&&t.tag!==0&&$u(),s=t.pendingLanes,s&1?t===Q1?Yf++:(Yf=0,Q1=t):Yf=0,Tl(),null}function $u(){if(Ka!==null){var t=pk(zm),e=si.transition,r=er;try{if(si.transition=null,er=16>t?16:t,Ka===null)var n=!1;else{if(t=Ka,Ka=null,zm=0,$t&6)throw Error(Ce(331));var i=$t;for($t|=4,st=t.current;st!==null;){var s=st,o=s.child;if(st.flags&16){var l=s.deletions;if(l!==null){for(var f=0;f<l.length;f++){var h=l[f];for(st=h;st!==null;){var p=st;switch(p.tag){case 0:case 11:case 15:Gf(8,p,s)}var v=p.child;if(v!==null)v.return=p,st=v;else for(;st!==null;){p=st;var E=p.sibling,b=p.return;if(NT(p),p===h){st=null;break}if(E!==null){E.return=b,st=E;break}st=b}}}var k=s.alternate;if(k!==null){var N=k.child;if(N!==null){k.child=null;do{var A=N.sibling;N.sibling=null,N=A}while(N!==null)}}st=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,st=o;else e:for(;st!==null;){if(s=st,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gf(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,st=R;break e}st=s.return}}var T=t.current;for(st=T;st!==null;){o=st;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,st=C;else e:for(o=T;st!==null;){if(l=st,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qg(9,l)}}catch(D){Ir(l,l.return,D)}if(l===o){st=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,st=j;break e}st=l.return}}if($t=i,Tl(),co&&typeof co.onPostCommitFiberRoot=="function")try{co.onPostCommitFiberRoot(Ug,t)}catch{}n=!0}return n}finally{er=r,si.transition=e}}return!1}function iN(t,e,r){e=gd(r,e),e=pT(t,e,1),t=il(t,e,1),e=ds(),t!==null&&(cp(t,1,e),ks(t,e))}function Ir(t,e,r){if(t.tag===3)iN(t,t,r);else for(;e!==null;){if(e.tag===3){iN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ol===null||!ol.has(n))){t=gd(r,t),t=mT(e,t,1),e=il(e,t,1),t=ds(),e!==null&&(cp(e,1,t),ks(e,t));break}}e=e.return}}function rU(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ds(),t.pingedLanes|=t.suspendedLanes&r,ln===t&&(yn&r)===r&&(Jr===4||Jr===3&&(yn&130023424)===yn&&500>Dr()-E_?vc(t,0):S_|=r),ks(t,e)}function PT(t,e){e===0&&(t.mode&1?(e=qp,qp<<=1,!(qp&130023424)&&(qp=4194304)):e=1);var r=ds();t=ia(t,e),t!==null&&(cp(t,e,r),ks(t,r))}function nU(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),PT(t,r)}function sU(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ce(314))}n!==null&&n.delete(e),PT(t,r)}var LT;LT=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||As.current)Ns=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ns=!1,HB(t,e,r);Ns=!!(t.flags&131072)}else Ns=!1,yr&&e.flags&1048576&&zk(e,Im,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;z0(t,e),t=e.pendingProps;var i=fd(e,On.current);Wu(e,r),i=y_(null,e,n,t,i,r);var s=v_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rs(n)?(s=!0,km(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f_(e),i.updater=Kg,e.stateNode=i,i._reactInternals=e,U1(e,n,t,r),e=W1(null,e,n,!0,s,r)):(e.tag=0,yr&&s&&i_(e),os(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(z0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=oU(n),t=xi(n,t),i){case 0:e=F1(null,e,n,t,r);break e;case 1:e=Z2(null,e,n,t,r);break e;case 11:e=q2(null,e,n,t,r);break e;case 14:e=G2(null,e,n,xi(n.type,t),r);break e}throw Error(Ce(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xi(n,i),F1(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xi(n,i),Z2(t,e,n,i,r);case 3:e:{if(wT(e),t===null)throw Error(Ce(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Kk(t,e),Om(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gd(Error(Ce(423)),e),e=Y2(t,e,n,r,i);break e}else if(n!==i){i=gd(Error(Ce(424)),e),e=Y2(t,e,n,r,i);break e}else for(Us=sl(e.stateNode.containerInfo.firstChild),zs=e,yr=!0,Mi=null,r=Vk(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hd(),n===i){e=oa(t,e,r);break e}os(t,e,n,r)}e=e.child}return e;case 5:return qk(e),t===null&&L1(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,I1(n,i)?o=null:s!==null&&I1(n,s)&&(e.flags|=32),vT(t,e),os(t,e,o,r),e.child;case 6:return t===null&&L1(e),null;case 13:return xT(t,e,r);case 4:return h_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=pd(e,null,n,r):os(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xi(n,i),q2(t,e,n,i,r);case 7:return os(t,e,e.pendingProps,r),e.child;case 8:return os(t,e,e.pendingProps.children,r),e.child;case 12:return os(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ar(Cm,n._currentValue),n._currentValue=o,s!==null)if(Bi(s.value,o)){if(s.children===i.children&&!As.current){e=oa(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var f=l.firstContext;f!==null;){if(f.context===n){if(s.tag===1){f=ea(-1,r&-r),f.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?f.next=f:(f.next=p.next,p.next=f),h.pending=f}}s.lanes|=r,f=s.alternate,f!==null&&(f.lanes|=r),D1(s.return,r,e),l.lanes|=r;break}f=f.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ce(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),D1(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}os(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Wu(e,r),i=ai(i),n=n(i),e.flags|=1,os(t,e,n,r),e.child;case 14:return n=e.type,i=xi(n,e.pendingProps),i=xi(n.type,i),G2(t,e,n,i,r);case 15:return gT(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xi(n,i),z0(t,e),e.tag=1,Rs(n)?(t=!0,km(e)):t=!1,Wu(e,r),hT(e,n,i),U1(e,n,i,r),W1(null,e,n,!0,t,r);case 19:return bT(t,e,r);case 22:return yT(t,e,r)}throw Error(Ce(156,e.tag))};function DT(t,e){return uk(t,e)}function iU(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(t,e,r,n){return new iU(t,e,r,n)}function R_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oU(t){if(typeof t=="function")return R_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qb)return 11;if(t===Gb)return 14}return 2}function ll(t,e){var r=t.alternate;return r===null?(r=ni(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $0(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")R_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _u:return wc(r.children,i,s,e);case Kb:o=8,i|=8;break;case c1:return t=ni(12,r,e,i|2),t.elementType=c1,t.lanes=s,t;case u1:return t=ni(13,r,e,i),t.elementType=u1,t.lanes=s,t;case d1:return t=ni(19,r,e,i),t.elementType=d1,t.lanes=s,t;case qR:return Zg(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HR:o=10;break e;case KR:o=9;break e;case qb:o=11;break e;case Gb:o=14;break e;case Ia:o=16,n=null;break e}throw Error(Ce(130,t==null?t:typeof t,""))}return e=ni(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function wc(t,e,r,n){return t=ni(7,t,n,e),t.lanes=r,t}function Zg(t,e,r,n){return t=ni(22,t,n,e),t.elementType=qR,t.lanes=r,t.stateNode={isHidden:!1},t}function $v(t,e,r){return t=ni(6,t,null,e),t.lanes=r,t}function Vv(t,e,r){return e=ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aU(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ev(0),this.expirationTimes=Ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ev(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function k_(t,e,r,n,i,s,o,l,f){return t=new aU(t,e,r,l,f),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ni(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},f_(s),t}function lU(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function BT(t){if(!t)return gl;t=t._reactInternals;e:{if(Vc(t)!==t||t.tag!==1)throw Error(Ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(t.tag===1){var r=t.type;if(Rs(r))return Bk(t,r,e)}return e}function UT(t,e,r,n,i,s,o,l,f){return t=k_(r,n,!0,t,i,s,o,l,f),t.context=BT(null),r=t.current,n=ds(),i=al(r),s=ea(n,i),s.callback=e??null,il(r,s,i),t.current.lanes=i,cp(t,i,n),ks(t,n),t}function Yg(t,e,r,n){var i=e.current,s=ds(),o=al(i);return r=BT(r),e.context===null?e.context=r:e.pendingContext=r,e=ea(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=il(i,e,o),t!==null&&(Pi(t,i,o,s),D0(t,i,o)),o}function Wm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function T_(t,e){oN(t,e),(t=t.alternate)&&oN(t,e)}function cU(){return null}var zT=typeof reportError=="function"?reportError:function(t){console.error(t)};function I_(t){this._internalRoot=t}Qg.prototype.render=I_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ce(409));Yg(t,e,null,null)};Qg.prototype.unmount=I_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rc(function(){Yg(null,t,null,null)}),e[sa]=null}};function Qg(t){this._internalRoot=t}Qg.prototype.unstable_scheduleHydration=function(t){if(t){var e=yk();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pa.length&&e!==0&&e<Pa[r].priority;r++);Pa.splice(r,0,t),r===0&&wk(t)}};function C_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aN(){}function uU(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=Wm(o);s.call(h)}}var o=UT(e,n,t,0,null,!1,!1,"",aN);return t._reactRootContainer=o,t[sa]=o.current,wh(t.nodeType===8?t.parentNode:t),Rc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var h=Wm(f);l.call(h)}}var f=k_(t,0,!1,null,null,!1,!1,"",aN);return t._reactRootContainer=f,t[sa]=f.current,wh(t.nodeType===8?t.parentNode:t),Rc(function(){Yg(e,f,r,n)}),f}function Xg(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var f=Wm(o);l.call(f)}}Yg(e,o,t,i)}else o=uU(r,e,t,i,n);return Wm(o)}mk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Tf(e.pendingLanes);r!==0&&(Qb(e,r|1),ks(e,Dr()),!($t&6)&&(yd=Dr()+500,Tl()))}break;case 13:Rc(function(){var n=ia(t,1);if(n!==null){var i=ds();Pi(n,t,1,i)}}),T_(t,1)}};Jb=function(t){if(t.tag===13){var e=ia(t,134217728);if(e!==null){var r=ds();Pi(e,t,134217728,r)}T_(t,134217728)}};gk=function(t){if(t.tag===13){var e=al(t),r=ia(t,e);if(r!==null){var n=ds();Pi(r,t,e,n)}T_(t,e)}};yk=function(){return er};vk=function(t,e){var r=er;try{return er=t,e()}finally{er=r}};b1=function(t,e,r){switch(e){case"input":if(p1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$g(n);if(!i)throw Error(Ce(90));ZR(n),p1(n,i)}}}break;case"textarea":QR(t,r);break;case"select":e=r.value,e!=null&&Bu(t,!!r.multiple,e,!1)}};sk=N_;ik=Rc;var dU={usingClientEntryPoint:!1,Events:[dp,Mu,$g,rk,nk,N_]},vf={findFiberByHostInstance:Ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fU={bundleType:vf.bundleType,version:vf.version,rendererPackageName:vf.rendererPackageName,rendererConfig:vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lk(t),t===null?null:t.stateNode},findFiberByHostInstance:vf.findFiberByHostInstance||cU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s0.isDisabled&&s0.supportsFiber)try{Ug=s0.inject(fU),co=s0}catch{}}Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dU;Vs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C_(e))throw Error(Ce(200));return lU(t,e,null,r)};Vs.createRoot=function(t,e){if(!C_(t))throw Error(Ce(299));var r=!1,n="",i=zT;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=k_(t,1,!1,null,null,r,!1,n,i),t[sa]=e.current,wh(t.nodeType===8?t.parentNode:t),new I_(e)};Vs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ce(188)):(t=Object.keys(t).join(","),Error(Ce(268,t)));return t=lk(e),t=t===null?null:t.stateNode,t};Vs.flushSync=function(t){return Rc(t)};Vs.hydrate=function(t,e,r){if(!Jg(e))throw Error(Ce(200));return Xg(null,t,e,!0,r)};Vs.hydrateRoot=function(t,e,r){if(!C_(t))throw Error(Ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=zT;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=UT(e,null,t,1,r??null,i,!1,s,o),t[sa]=e.current,wh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Qg(e)};Vs.render=function(t,e,r){if(!Jg(e))throw Error(Ce(200));return Xg(null,t,e,!1,r)};Vs.unmountComponentAtNode=function(t){if(!Jg(t))throw Error(Ce(40));return t._reactRootContainer?(Rc(function(){Xg(null,null,t,!1,function(){t._reactRootContainer=null,t[sa]=null})}),!0):!1};Vs.unstable_batchedUpdates=N_;Vs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Jg(r))throw Error(Ce(200));if(t==null||t._reactInternals===void 0)throw Error(Ce(38));return Xg(t,e,r,!1,n)};Vs.version="18.3.1-next-f1338f8080-20240426";function FT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FT)}catch(t){console.error(t)}}FT(),FR.exports=Vs;var Il=FR.exports;const WT=fi(Il);var $T,lN=Il;$T=lN.createRoot,lN.hydrateRoot;var en={},ey={};ey.byteLength=mU;ey.toByteArray=yU;ey.fromByteArray=xU;var no=[],Qs=[],hU=typeof Uint8Array<"u"?Uint8Array:Array,Hv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ru=0,pU=Hv.length;ru<pU;++ru)no[ru]=Hv[ru],Qs[Hv.charCodeAt(ru)]=ru;Qs[45]=62;Qs[95]=63;function VT(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function mU(t){var e=VT(t),r=e[0],n=e[1];return(r+n)*3/4-n}function gU(t,e,r){return(e+r)*3/4-r}function yU(t){var e,r=VT(t),n=r[0],i=r[1],s=new hU(gU(t,n,i)),o=0,l=i>0?n-4:n,f;for(f=0;f<l;f+=4)e=Qs[t.charCodeAt(f)]<<18|Qs[t.charCodeAt(f+1)]<<12|Qs[t.charCodeAt(f+2)]<<6|Qs[t.charCodeAt(f+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Qs[t.charCodeAt(f)]<<2|Qs[t.charCodeAt(f+1)]>>4,s[o++]=e&255),i===1&&(e=Qs[t.charCodeAt(f)]<<10|Qs[t.charCodeAt(f+1)]<<4|Qs[t.charCodeAt(f+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function vU(t){return no[t>>18&63]+no[t>>12&63]+no[t>>6&63]+no[t&63]}function wU(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(vU(n));return i.join("")}function xU(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,l=r-n;o<l;o+=s)i.push(wU(t,o,o+s>l?l:o+s));return n===1?(e=t[r-1],i.push(no[e>>2]+no[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(no[e>>10]+no[e>>4&63]+no[e<<2&63]+"=")),i.join("")}var j_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */j_.read=function(t,e,r,n,i){var s,o,l=i*8-n-1,f=(1<<l)-1,h=f>>1,p=-7,v=r?i-1:0,E=r?-1:1,b=t[e+v];for(v+=E,s=b&(1<<-p)-1,b>>=-p,p+=l;p>0;s=s*256+t[e+v],v+=E,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=n;p>0;o=o*256+t[e+v],v+=E,p-=8);if(s===0)s=1-h;else{if(s===f)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(b?-1:1)*o*Math.pow(2,s-n)};j_.write=function(t,e,r,n,i,s){var o,l,f,h=s*8-i-1,p=(1<<h)-1,v=p>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:s-1,k=n?1:-1,N=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+v>=1?e+=E/f:e+=E*Math.pow(2,1-v),e*f>=2&&(o++,f/=2),o+v>=p?(l=0,o=p):o+v>=1?(l=(e*f-1)*Math.pow(2,i),o=o+v):(l=e*Math.pow(2,v-1)*Math.pow(2,i),o=0));i>=8;t[r+b]=l&255,b+=k,l/=256,i-=8);for(o=o<<i|l,h+=i;h>0;t[r+b]=o&255,b+=k,o/=256,h-=8);t[r+b-k]|=N*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=ey,r=j_,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=p,t.SlowBuffer=D,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:l}=globalThis;p.TYPED_ARRAY_SUPPORT=f(),!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const B=new s(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,s.prototype),Object.setPrototypeOf(B,P),B.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function h(B){if(B>i)throw new RangeError('The value "'+B+'" is invalid for option "size"');const P=new s(B);return Object.setPrototypeOf(P,p.prototype),P}function p(B,P,O){if(typeof B=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(B)}return v(B,P,O)}p.poolSize=8192;function v(B,P,O){if(typeof B=="string")return N(B,P);if(o.isView(B))return R(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Ie(B,o)||B&&Ie(B.buffer,o)||typeof l<"u"&&(Ie(B,l)||B&&Ie(B.buffer,l)))return T(B,P,O);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=B.valueOf&&B.valueOf();if(z!=null&&z!==B)return p.from(z,P,O);const ee=C(B);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return p.from(B[Symbol.toPrimitive]("string"),P,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}p.from=function(B,P,O){return v(B,P,O)},Object.setPrototypeOf(p.prototype,s.prototype),Object.setPrototypeOf(p,s);function E(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function b(B,P,O){return E(B),B<=0?h(B):P!==void 0?typeof O=="string"?h(B).fill(P,O):h(B).fill(P):h(B)}p.alloc=function(B,P,O){return b(B,P,O)};function k(B){return E(B),h(B<0?0:j(B)|0)}p.allocUnsafe=function(B){return k(B)},p.allocUnsafeSlow=function(B){return k(B)};function N(B,P){if((typeof P!="string"||P==="")&&(P="utf8"),!p.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const O=U(B,P)|0;let z=h(O);const ee=z.write(B,P);return ee!==O&&(z=z.slice(0,ee)),z}function A(B){const P=B.length<0?0:j(B.length)|0,O=h(P);for(let z=0;z<P;z+=1)O[z]=B[z]&255;return O}function R(B){if(Ie(B,s)){const P=new s(B);return T(P.buffer,P.byteOffset,P.byteLength)}return A(B)}function T(B,P,O){if(P<0||B.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<P+(O||0))throw new RangeError('"length" is outside of buffer bounds');let z;return P===void 0&&O===void 0?z=new s(B):O===void 0?z=new s(B,P):z=new s(B,P,O),Object.setPrototypeOf(z,p.prototype),z}function C(B){if(p.isBuffer(B)){const P=j(B.length)|0,O=h(P);return O.length===0||B.copy(O,0,0,P),O}if(B.length!==void 0)return typeof B.length!="number"||se(B.length)?h(0):A(B);if(B.type==="Buffer"&&Array.isArray(B.data))return A(B.data)}function j(B){if(B>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return B|0}function D(B){return+B!=B&&(B=0),p.alloc(+B)}p.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==p.prototype},p.compare=function(P,O){if(Ie(P,s)&&(P=p.from(P,P.offset,P.byteLength)),Ie(O,s)&&(O=p.from(O,O.offset,O.byteLength)),!p.isBuffer(P)||!p.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===O)return 0;let z=P.length,ee=O.length;for(let Y=0,te=Math.min(z,ee);Y<te;++Y)if(P[Y]!==O[Y]){z=P[Y],ee=O[Y];break}return z<ee?-1:ee<z?1:0},p.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(P,O){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return p.alloc(0);let z;if(O===void 0)for(O=0,z=0;z<P.length;++z)O+=P[z].length;const ee=p.allocUnsafe(O);let Y=0;for(z=0;z<P.length;++z){let te=P[z];if(Ie(te,s))Y+te.length>ee.length?(p.isBuffer(te)||(te=p.from(te)),te.copy(ee,Y)):s.prototype.set.call(ee,te,Y);else if(p.isBuffer(te))te.copy(ee,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=te.length}return ee};function U(B,P){if(p.isBuffer(B))return B.length;if(o.isView(B)||Ie(B,o))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const O=B.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&O===0)return 0;let ee=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return Te(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return Z(B).length;default:if(ee)return z?-1:Te(B).length;P=(""+P).toLowerCase(),ee=!0}}p.byteLength=U;function L(B,P,O){let z=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,P>>>=0,O<=P))return"";for(B||(B="utf8");;)switch(B){case"hex":return c(this,P,O);case"utf8":case"utf-8":return y(this,P,O);case"ascii":return I(this,P,O);case"latin1":case"binary":return w(this,P,O);case"base64":return m(this,P,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,P,O);default:if(z)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),z=!0}}p.prototype._isBuffer=!0;function F(B,P,O){const z=B[P];B[P]=B[O],B[O]=z}p.prototype.swap16=function(){const P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<P;O+=2)F(this,O,O+1);return this},p.prototype.swap32=function(){const P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<P;O+=4)F(this,O,O+3),F(this,O+1,O+2);return this},p.prototype.swap64=function(){const P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<P;O+=8)F(this,O,O+7),F(this,O+1,O+6),F(this,O+2,O+5),F(this,O+3,O+4);return this},p.prototype.toString=function(){const P=this.length;return P===0?"":arguments.length===0?y(this,0,P):L.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(P){if(!p.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:p.compare(this,P)===0},p.prototype.inspect=function(){let P="";const O=t.INSPECT_MAX_BYTES;return P=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(P+=" ... "),"<Buffer "+P+">"},n&&(p.prototype[n]=p.prototype.inspect),p.prototype.compare=function(P,O,z,ee,Y){if(Ie(P,s)&&(P=p.from(P,P.offset,P.byteLength)),!p.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(O===void 0&&(O=0),z===void 0&&(z=P?P.length:0),ee===void 0&&(ee=0),Y===void 0&&(Y=this.length),O<0||z>P.length||ee<0||Y>this.length)throw new RangeError("out of range index");if(ee>=Y&&O>=z)return 0;if(ee>=Y)return-1;if(O>=z)return 1;if(O>>>=0,z>>>=0,ee>>>=0,Y>>>=0,this===P)return 0;let te=Y-ee,ht=z-O;const ve=Math.min(te,ht),we=this.slice(ee,Y),Pt=P.slice(O,z);for(let ge=0;ge<ve;++ge)if(we[ge]!==Pt[ge]){te=we[ge],ht=Pt[ge];break}return te<ht?-1:ht<te?1:0};function W(B,P,O,z,ee){if(B.length===0)return-1;if(typeof O=="string"?(z=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,se(O)&&(O=ee?0:B.length-1),O<0&&(O=B.length+O),O>=B.length){if(ee)return-1;O=B.length-1}else if(O<0)if(ee)O=0;else return-1;if(typeof P=="string"&&(P=p.from(P,z)),p.isBuffer(P))return P.length===0?-1:q(B,P,O,z,ee);if(typeof P=="number")return P=P&255,typeof s.prototype.indexOf=="function"?ee?s.prototype.indexOf.call(B,P,O):s.prototype.lastIndexOf.call(B,P,O):q(B,[P],O,z,ee);throw new TypeError("val must be string, number or Buffer")}function q(B,P,O,z,ee){let Y=1,te=B.length,ht=P.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(B.length<2||P.length<2)return-1;Y=2,te/=2,ht/=2,O/=2}function ve(Pt,ge){return Y===1?Pt[ge]:Pt.readUInt16BE(ge*Y)}let we;if(ee){let Pt=-1;for(we=O;we<te;we++)if(ve(B,we)===ve(P,Pt===-1?0:we-Pt)){if(Pt===-1&&(Pt=we),we-Pt+1===ht)return Pt*Y}else Pt!==-1&&(we-=we-Pt),Pt=-1}else for(O+ht>te&&(O=te-ht),we=O;we>=0;we--){let Pt=!0;for(let ge=0;ge<ht;ge++)if(ve(B,we+ge)!==ve(P,ge)){Pt=!1;break}if(Pt)return we}return-1}p.prototype.includes=function(P,O,z){return this.indexOf(P,O,z)!==-1},p.prototype.indexOf=function(P,O,z){return W(this,P,O,z,!0)},p.prototype.lastIndexOf=function(P,O,z){return W(this,P,O,z,!1)};function V(B,P,O,z){O=Number(O)||0;const ee=B.length-O;z?(z=Number(z),z>ee&&(z=ee)):z=ee;const Y=P.length;z>Y/2&&(z=Y/2);let te;for(te=0;te<z;++te){const ht=parseInt(P.substr(te*2,2),16);if(se(ht))return te;B[O+te]=ht}return te}function K(B,P,O,z){return X(Te(P,B.length-O),B,O,z)}function x(B,P,O,z){return X(ke(P),B,O,z)}function a(B,P,O,z){return X(Z(P),B,O,z)}function d(B,P,O,z){return X(Q(P,B.length-O),B,O,z)}p.prototype.write=function(P,O,z,ee){if(O===void 0)ee="utf8",z=this.length,O=0;else if(z===void 0&&typeof O=="string")ee=O,z=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(z)?(z=z>>>0,ee===void 0&&(ee="utf8")):(ee=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Y=this.length-O;if((z===void 0||z>Y)&&(z=Y),P.length>0&&(z<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let te=!1;for(;;)switch(ee){case"hex":return V(this,P,O,z);case"utf8":case"utf-8":return K(this,P,O,z);case"ascii":case"latin1":case"binary":return x(this,P,O,z);case"base64":return a(this,P,O,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,P,O,z);default:if(te)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),te=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(B,P,O){return P===0&&O===B.length?e.fromByteArray(B):e.fromByteArray(B.slice(P,O))}function y(B,P,O){O=Math.min(B.length,O);const z=[];let ee=P;for(;ee<O;){const Y=B[ee];let te=null,ht=Y>239?4:Y>223?3:Y>191?2:1;if(ee+ht<=O){let ve,we,Pt,ge;switch(ht){case 1:Y<128&&(te=Y);break;case 2:ve=B[ee+1],(ve&192)===128&&(ge=(Y&31)<<6|ve&63,ge>127&&(te=ge));break;case 3:ve=B[ee+1],we=B[ee+2],(ve&192)===128&&(we&192)===128&&(ge=(Y&15)<<12|(ve&63)<<6|we&63,ge>2047&&(ge<55296||ge>57343)&&(te=ge));break;case 4:ve=B[ee+1],we=B[ee+2],Pt=B[ee+3],(ve&192)===128&&(we&192)===128&&(Pt&192)===128&&(ge=(Y&15)<<18|(ve&63)<<12|(we&63)<<6|Pt&63,ge>65535&&ge<1114112&&(te=ge))}}te===null?(te=65533,ht=1):te>65535&&(te-=65536,z.push(te>>>10&1023|55296),te=56320|te&1023),z.push(te),ee+=ht}return S(z)}const g=4096;function S(B){const P=B.length;if(P<=g)return String.fromCharCode.apply(String,B);let O="",z=0;for(;z<P;)O+=String.fromCharCode.apply(String,B.slice(z,z+=g));return O}function I(B,P,O){let z="";O=Math.min(B.length,O);for(let ee=P;ee<O;++ee)z+=String.fromCharCode(B[ee]&127);return z}function w(B,P,O){let z="";O=Math.min(B.length,O);for(let ee=P;ee<O;++ee)z+=String.fromCharCode(B[ee]);return z}function c(B,P,O){const z=B.length;(!P||P<0)&&(P=0),(!O||O<0||O>z)&&(O=z);let ee="";for(let Y=P;Y<O;++Y)ee+=ne[B[Y]];return ee}function _(B,P,O){const z=B.slice(P,O);let ee="";for(let Y=0;Y<z.length-1;Y+=2)ee+=String.fromCharCode(z[Y]+z[Y+1]*256);return ee}p.prototype.slice=function(P,O){const z=this.length;P=~~P,O=O===void 0?z:~~O,P<0?(P+=z,P<0&&(P=0)):P>z&&(P=z),O<0?(O+=z,O<0&&(O=0)):O>z&&(O=z),O<P&&(O=P);const ee=this.subarray(P,O);return Object.setPrototypeOf(ee,p.prototype),ee};function $(B,P,O){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+P>O)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(P,O,z){P=P>>>0,O=O>>>0,z||$(P,O,this.length);let ee=this[P],Y=1,te=0;for(;++te<O&&(Y*=256);)ee+=this[P+te]*Y;return ee},p.prototype.readUintBE=p.prototype.readUIntBE=function(P,O,z){P=P>>>0,O=O>>>0,z||$(P,O,this.length);let ee=this[P+--O],Y=1;for(;O>0&&(Y*=256);)ee+=this[P+--O]*Y;return ee},p.prototype.readUint8=p.prototype.readUInt8=function(P,O){return P=P>>>0,O||$(P,1,this.length),this[P]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(P,O){return P=P>>>0,O||$(P,2,this.length),this[P]|this[P+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(P,O){return P=P>>>0,O||$(P,2,this.length),this[P]<<8|this[P+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(P,O){return P=P>>>0,O||$(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(P,O){return P=P>>>0,O||$(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},p.prototype.readBigUInt64LE=De(function(P){P=P>>>0,Ft(P,"offset");const O=this[P],z=this[P+7];(O===void 0||z===void 0)&&_e(P,this.length-8);const ee=O+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,Y=this[++P]+this[++P]*2**8+this[++P]*2**16+z*2**24;return BigInt(ee)+(BigInt(Y)<<BigInt(32))}),p.prototype.readBigUInt64BE=De(function(P){P=P>>>0,Ft(P,"offset");const O=this[P],z=this[P+7];(O===void 0||z===void 0)&&_e(P,this.length-8);const ee=O*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],Y=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+z;return(BigInt(ee)<<BigInt(32))+BigInt(Y)}),p.prototype.readIntLE=function(P,O,z){P=P>>>0,O=O>>>0,z||$(P,O,this.length);let ee=this[P],Y=1,te=0;for(;++te<O&&(Y*=256);)ee+=this[P+te]*Y;return Y*=128,ee>=Y&&(ee-=Math.pow(2,8*O)),ee},p.prototype.readIntBE=function(P,O,z){P=P>>>0,O=O>>>0,z||$(P,O,this.length);let ee=O,Y=1,te=this[P+--ee];for(;ee>0&&(Y*=256);)te+=this[P+--ee]*Y;return Y*=128,te>=Y&&(te-=Math.pow(2,8*O)),te},p.prototype.readInt8=function(P,O){return P=P>>>0,O||$(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},p.prototype.readInt16LE=function(P,O){P=P>>>0,O||$(P,2,this.length);const z=this[P]|this[P+1]<<8;return z&32768?z|4294901760:z},p.prototype.readInt16BE=function(P,O){P=P>>>0,O||$(P,2,this.length);const z=this[P+1]|this[P]<<8;return z&32768?z|4294901760:z},p.prototype.readInt32LE=function(P,O){return P=P>>>0,O||$(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},p.prototype.readInt32BE=function(P,O){return P=P>>>0,O||$(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},p.prototype.readBigInt64LE=De(function(P){P=P>>>0,Ft(P,"offset");const O=this[P],z=this[P+7];(O===void 0||z===void 0)&&_e(P,this.length-8);const ee=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(z<<24);return(BigInt(ee)<<BigInt(32))+BigInt(O+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),p.prototype.readBigInt64BE=De(function(P){P=P>>>0,Ft(P,"offset");const O=this[P],z=this[P+7];(O===void 0||z===void 0)&&_e(P,this.length-8);const ee=(O<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(ee)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+z)}),p.prototype.readFloatLE=function(P,O){return P=P>>>0,O||$(P,4,this.length),r.read(this,P,!0,23,4)},p.prototype.readFloatBE=function(P,O){return P=P>>>0,O||$(P,4,this.length),r.read(this,P,!1,23,4)},p.prototype.readDoubleLE=function(P,O){return P=P>>>0,O||$(P,8,this.length),r.read(this,P,!0,52,8)},p.prototype.readDoubleBE=function(P,O){return P=P>>>0,O||$(P,8,this.length),r.read(this,P,!1,52,8)};function H(B,P,O,z,ee,Y){if(!p.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>ee||P<Y)throw new RangeError('"value" argument is out of bounds');if(O+z>B.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(P,O,z,ee){if(P=+P,O=O>>>0,z=z>>>0,!ee){const ht=Math.pow(2,8*z)-1;H(this,P,O,z,ht,0)}let Y=1,te=0;for(this[O]=P&255;++te<z&&(Y*=256);)this[O+te]=P/Y&255;return O+z},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(P,O,z,ee){if(P=+P,O=O>>>0,z=z>>>0,!ee){const ht=Math.pow(2,8*z)-1;H(this,P,O,z,ht,0)}let Y=z-1,te=1;for(this[O+Y]=P&255;--Y>=0&&(te*=256);)this[O+Y]=P/te&255;return O+z},p.prototype.writeUint8=p.prototype.writeUInt8=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,1,255,0),this[O]=P&255,O+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,2,65535,0),this[O]=P&255,this[O+1]=P>>>8,O+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,2,65535,0),this[O]=P>>>8,this[O+1]=P&255,O+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,4,4294967295,0),this[O+3]=P>>>24,this[O+2]=P>>>16,this[O+1]=P>>>8,this[O]=P&255,O+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,4,4294967295,0),this[O]=P>>>24,this[O+1]=P>>>16,this[O+2]=P>>>8,this[O+3]=P&255,O+4};function G(B,P,O,z,ee){be(P,z,ee,B,O,7);let Y=Number(P&BigInt(4294967295));B[O++]=Y,Y=Y>>8,B[O++]=Y,Y=Y>>8,B[O++]=Y,Y=Y>>8,B[O++]=Y;let te=Number(P>>BigInt(32)&BigInt(4294967295));return B[O++]=te,te=te>>8,B[O++]=te,te=te>>8,B[O++]=te,te=te>>8,B[O++]=te,O}function re(B,P,O,z,ee){be(P,z,ee,B,O,7);let Y=Number(P&BigInt(4294967295));B[O+7]=Y,Y=Y>>8,B[O+6]=Y,Y=Y>>8,B[O+5]=Y,Y=Y>>8,B[O+4]=Y;let te=Number(P>>BigInt(32)&BigInt(4294967295));return B[O+3]=te,te=te>>8,B[O+2]=te,te=te>>8,B[O+1]=te,te=te>>8,B[O]=te,O+8}p.prototype.writeBigUInt64LE=De(function(P,O=0){return G(this,P,O,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=De(function(P,O=0){return re(this,P,O,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(P,O,z,ee){if(P=+P,O=O>>>0,!ee){const ve=Math.pow(2,8*z-1);H(this,P,O,z,ve-1,-ve)}let Y=0,te=1,ht=0;for(this[O]=P&255;++Y<z&&(te*=256);)P<0&&ht===0&&this[O+Y-1]!==0&&(ht=1),this[O+Y]=(P/te>>0)-ht&255;return O+z},p.prototype.writeIntBE=function(P,O,z,ee){if(P=+P,O=O>>>0,!ee){const ve=Math.pow(2,8*z-1);H(this,P,O,z,ve-1,-ve)}let Y=z-1,te=1,ht=0;for(this[O+Y]=P&255;--Y>=0&&(te*=256);)P<0&&ht===0&&this[O+Y+1]!==0&&(ht=1),this[O+Y]=(P/te>>0)-ht&255;return O+z},p.prototype.writeInt8=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,1,127,-128),P<0&&(P=255+P+1),this[O]=P&255,O+1},p.prototype.writeInt16LE=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,2,32767,-32768),this[O]=P&255,this[O+1]=P>>>8,O+2},p.prototype.writeInt16BE=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,2,32767,-32768),this[O]=P>>>8,this[O+1]=P&255,O+2},p.prototype.writeInt32LE=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,4,2147483647,-2147483648),this[O]=P&255,this[O+1]=P>>>8,this[O+2]=P>>>16,this[O+3]=P>>>24,O+4},p.prototype.writeInt32BE=function(P,O,z){return P=+P,O=O>>>0,z||H(this,P,O,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[O]=P>>>24,this[O+1]=P>>>16,this[O+2]=P>>>8,this[O+3]=P&255,O+4},p.prototype.writeBigInt64LE=De(function(P,O=0){return G(this,P,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=De(function(P,O=0){return re(this,P,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(B,P,O,z,ee,Y){if(O+z>B.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function le(B,P,O,z,ee){return P=+P,O=O>>>0,ee||ie(B,P,O,4),r.write(B,P,O,z,23,4),O+4}p.prototype.writeFloatLE=function(P,O,z){return le(this,P,O,!0,z)},p.prototype.writeFloatBE=function(P,O,z){return le(this,P,O,!1,z)};function nt(B,P,O,z,ee){return P=+P,O=O>>>0,ee||ie(B,P,O,8),r.write(B,P,O,z,52,8),O+8}p.prototype.writeDoubleLE=function(P,O,z){return nt(this,P,O,!0,z)},p.prototype.writeDoubleBE=function(P,O,z){return nt(this,P,O,!1,z)},p.prototype.copy=function(P,O,z,ee){if(!p.isBuffer(P))throw new TypeError("argument should be a Buffer");if(z||(z=0),!ee&&ee!==0&&(ee=this.length),O>=P.length&&(O=P.length),O||(O=0),ee>0&&ee<z&&(ee=z),ee===z||P.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),P.length-O<ee-z&&(ee=P.length-O+z);const Y=ee-z;return this===P&&typeof s.prototype.copyWithin=="function"?this.copyWithin(O,z,ee):s.prototype.set.call(P,this.subarray(z,ee),O),Y},p.prototype.fill=function(P,O,z,ee){if(typeof P=="string"){if(typeof O=="string"?(ee=O,O=0,z=this.length):typeof z=="string"&&(ee=z,z=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!p.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(P.length===1){const te=P.charCodeAt(0);(ee==="utf8"&&te<128||ee==="latin1")&&(P=te)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(O<0||this.length<O||this.length<z)throw new RangeError("Out of range index");if(z<=O)return this;O=O>>>0,z=z===void 0?this.length:z>>>0,P||(P=0);let Y;if(typeof P=="number")for(Y=O;Y<z;++Y)this[Y]=P;else{const te=p.isBuffer(P)?P:p.from(P,ee),ht=te.length;if(ht===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(Y=0;Y<z-O;++Y)this[Y+O]=te[Y%ht]}return this};const ue={};function de(B,P,O){ue[B]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}de("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),de("ERR_INVALID_ARG_TYPE",function(B,P){return`The "${B}" argument must be of type number. Received type ${typeof P}`},TypeError),de("ERR_OUT_OF_RANGE",function(B,P,O){let z=`The value of "${B}" is out of range.`,ee=O;return Number.isInteger(O)&&Math.abs(O)>2**32?ee=vt(String(O)):typeof O=="bigint"&&(ee=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(ee=vt(ee)),ee+="n"),z+=` It must be ${P}. Received ${ee}`,z},RangeError);function vt(B){let P="",O=B.length;const z=B[0]==="-"?1:0;for(;O>=z+4;O-=3)P=`_${B.slice(O-3,O)}${P}`;return`${B.slice(0,O)}${P}`}function ye(B,P,O){Ft(P,"offset"),(B[P]===void 0||B[P+O]===void 0)&&_e(P,B.length-(O+1))}function be(B,P,O,z,ee,Y){if(B>O||B<P){const te=typeof P=="bigint"?"n":"";let ht;throw P===0||P===BigInt(0)?ht=`>= 0${te} and < 2${te} ** ${(Y+1)*8}${te}`:ht=`>= -(2${te} ** ${(Y+1)*8-1}${te}) and < 2 ** ${(Y+1)*8-1}${te}`,new ue.ERR_OUT_OF_RANGE("value",ht,B)}ye(z,ee,Y)}function Ft(B,P){if(typeof B!="number")throw new ue.ERR_INVALID_ARG_TYPE(P,"number",B)}function _e(B,P,O){throw Math.floor(B)!==B?(Ft(B,O),new ue.ERR_OUT_OF_RANGE("offset","an integer",B)):P<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${P}`,B)}const Me=/[^+/0-9A-Za-z-_]/g;function hr(B){if(B=B.split("=")[0],B=B.trim().replace(Me,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function Te(B,P){P=P||1/0;let O;const z=B.length;let ee=null;const Y=[];for(let te=0;te<z;++te){if(O=B.charCodeAt(te),O>55295&&O<57344){if(!ee){if(O>56319){(P-=3)>-1&&Y.push(239,191,189);continue}else if(te+1===z){(P-=3)>-1&&Y.push(239,191,189);continue}ee=O;continue}if(O<56320){(P-=3)>-1&&Y.push(239,191,189),ee=O;continue}O=(ee-55296<<10|O-56320)+65536}else ee&&(P-=3)>-1&&Y.push(239,191,189);if(ee=null,O<128){if((P-=1)<0)break;Y.push(O)}else if(O<2048){if((P-=2)<0)break;Y.push(O>>6|192,O&63|128)}else if(O<65536){if((P-=3)<0)break;Y.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((P-=4)<0)break;Y.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return Y}function ke(B){const P=[];for(let O=0;O<B.length;++O)P.push(B.charCodeAt(O)&255);return P}function Q(B,P){let O,z,ee;const Y=[];for(let te=0;te<B.length&&!((P-=2)<0);++te)O=B.charCodeAt(te),z=O>>8,ee=O%256,Y.push(ee),Y.push(z);return Y}function Z(B){return e.toByteArray(hr(B))}function X(B,P,O,z){let ee;for(ee=0;ee<z&&!(ee+O>=P.length||ee>=B.length);++ee)P[ee+O]=B[ee];return ee}function Ie(B,P){return B instanceof P||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===P.name}function se(B){return B!==B}const ne=function(){const B="0123456789abcdef",P=new Array(256);for(let O=0;O<16;++O){const z=O*16;for(let ee=0;ee<16;++ee)P[z+ee]=B[O]+B[ee]}return P}();function De(B){return typeof BigInt>"u"?he:B}function he(){throw new Error("BigInt not supported")}})(en);const xt=en.Buffer,bU=en.Blob,_U=en.BlobOptions,it=en.Buffer,SU=en.File,EU=en.FileOptions,NU=en.INSPECT_MAX_BYTES,MU=en.SlowBuffer,AU=en.TranscodeEncoding,RU=en.atob,kU=en.btoa,TU=en.constants,IU=en.isAscii,CU=en.isUtf8,jU=en.kMaxLength,OU=en.kStringMaxLength,PU=en.resolveObjectURL,LU=en.transcode,DU=Object.freeze(Object.defineProperty({__proto__:null,Blob:bU,BlobOptions:_U,Buffer:it,File:SU,FileOptions:EU,INSPECT_MAX_BYTES:NU,SlowBuffer:MU,TranscodeEncoding:AU,atob:RU,btoa:kU,constants:TU,default:xt,isAscii:IU,isUtf8:CU,kMaxLength:jU,kStringMaxLength:OU,resolveObjectURL:PU,transcode:LU},Symbol.toStringTag,{value:"Module"})),nu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BU(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Rh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function kc(t,...e){if(!BU(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function UU(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Rh(t.outputLen),Rh(t.blockLen)}function vd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HT(t,e){kc(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function zU(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function yl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Kv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ki(t,e){return t<<32-e|t>>>e}const FU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function WU(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function $U(t){for(let e=0;e<t.length;e++)t[e]=WU(t[e]);return t}const cN=FU?t=>t:$U;function VU(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ty(t){return typeof t=="string"&&(t=VU(t)),kc(t),t}function HU(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];kc(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class O_{}function P_(t){const e=n=>t().update(ty(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function KT(t=32){if(nu&&typeof nu.getRandomValues=="function")return nu.getRandomValues(new Uint8Array(t));if(nu&&typeof nu.randomBytes=="function")return Uint8Array.from(nu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function KU(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),l=Number(r&s),f=n?4:0,h=n?0:4;t.setUint32(e+f,o,n),t.setUint32(e+h,l,n)}function qU(t,e,r){return t&e^~t&r}function GU(t,e,r){return t&e^t&r^e&r}class qT extends O_{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Kv(this.buffer)}update(e){vd(this),e=ty(e),kc(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const l=Math.min(i-this.pos,s-o);if(l===i){const f=Kv(e);for(;i<=s-o;o+=i)this.process(f,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vd(this),HT(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,yl(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let v=o;v<i;v++)r[v]=0;KU(n,i-8,BigInt(this.length*8),s),this.process(n,0);const l=Kv(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<h;v++)l.setUint32(4*v,p[v],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:l}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=l,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const xa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),i0=BigInt(2**32-1),uN=BigInt(32);function ZU(t,e=!1){return e?{h:Number(t&i0),l:Number(t>>uN&i0)}:{h:Number(t>>uN&i0)|0,l:Number(t&i0)|0}}function GT(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l}=ZU(t[s],e);[n[s],i[s]]=[o,l]}return[n,i]}const dN=(t,e,r)=>t>>>r,fN=(t,e,r)=>t<<32-r|e>>>r,su=(t,e,r)=>t>>>r|e<<32-r,iu=(t,e,r)=>t<<32-r|e>>>r,o0=(t,e,r)=>t<<64-r|e>>>r-32,a0=(t,e,r)=>t>>>r-32|e<<64-r,YU=(t,e,r)=>t<<r|e>>>32-r,QU=(t,e,r)=>e<<r|t>>>32-r,JU=(t,e,r)=>e<<r-32|t>>>64-r,XU=(t,e,r)=>t<<r-32|e>>>64-r;function Ao(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const ez=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),tz=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,rz=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),nz=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,sz=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),iz=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,oz=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ba=new Uint32Array(64);class az extends qT{constructor(e=32){super(64,e,8,!1),this.A=xa[0]|0,this.B=xa[1]|0,this.C=xa[2]|0,this.D=xa[3]|0,this.E=xa[4]|0,this.F=xa[5]|0,this.G=xa[6]|0,this.H=xa[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:l,H:f}=this;return[e,r,n,i,s,o,l,f]}set(e,r,n,i,s,o,l,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=l|0,this.H=f|0}process(e,r){for(let v=0;v<16;v++,r+=4)ba[v]=e.getUint32(r,!1);for(let v=16;v<64;v++){const E=ba[v-15],b=ba[v-2],k=Ki(E,7)^Ki(E,18)^E>>>3,N=Ki(b,17)^Ki(b,19)^b>>>10;ba[v]=N+ba[v-7]+k+ba[v-16]|0}let{A:n,B:i,C:s,D:o,E:l,F:f,G:h,H:p}=this;for(let v=0;v<64;v++){const E=Ki(l,6)^Ki(l,11)^Ki(l,25),b=p+E+qU(l,f,h)+oz[v]+ba[v]|0,N=(Ki(n,2)^Ki(n,13)^Ki(n,22))+GU(n,i,s)|0;p=h,h=f,f=l,l=o+b|0,o=s,s=i,i=n,n=b+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,l=l+this.E|0,f=f+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(n,i,s,o,l,f,h,p)}roundClean(){yl(ba)}destroy(){this.set(0,0,0,0,0,0,0,0),yl(this.buffer)}}const ZT=GT(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),lz=ZT[0],cz=ZT[1],_a=new Uint32Array(80),Sa=new Uint32Array(80);class uz extends qT{constructor(e=64){super(128,e,16,!1),this.Ah=Sn[0]|0,this.Al=Sn[1]|0,this.Bh=Sn[2]|0,this.Bl=Sn[3]|0,this.Ch=Sn[4]|0,this.Cl=Sn[5]|0,this.Dh=Sn[6]|0,this.Dl=Sn[7]|0,this.Eh=Sn[8]|0,this.El=Sn[9]|0,this.Fh=Sn[10]|0,this.Fl=Sn[11]|0,this.Gh=Sn[12]|0,this.Gl=Sn[13]|0,this.Hh=Sn[14]|0,this.Hl=Sn[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:l,Dl:f,Eh:h,El:p,Fh:v,Fl:E,Gh:b,Gl:k,Hh:N,Hl:A}=this;return[e,r,n,i,s,o,l,f,h,p,v,E,b,k,N,A]}set(e,r,n,i,s,o,l,f,h,p,v,E,b,k,N,A){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=l|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=v|0,this.Fl=E|0,this.Gh=b|0,this.Gl=k|0,this.Hh=N|0,this.Hl=A|0}process(e,r){for(let C=0;C<16;C++,r+=4)_a[C]=e.getUint32(r),Sa[C]=e.getUint32(r+=4);for(let C=16;C<80;C++){const j=_a[C-15]|0,D=Sa[C-15]|0,U=su(j,D,1)^su(j,D,8)^dN(j,D,7),L=iu(j,D,1)^iu(j,D,8)^fN(j,D,7),F=_a[C-2]|0,W=Sa[C-2]|0,q=su(F,W,19)^o0(F,W,61)^dN(F,W,6),V=iu(F,W,19)^a0(F,W,61)^fN(F,W,6),K=rz(L,V,Sa[C-7],Sa[C-16]),x=nz(K,U,q,_a[C-7],_a[C-16]);_a[C]=x|0,Sa[C]=K|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:l,Cl:f,Dh:h,Dl:p,Eh:v,El:E,Fh:b,Fl:k,Gh:N,Gl:A,Hh:R,Hl:T}=this;for(let C=0;C<80;C++){const j=su(v,E,14)^su(v,E,18)^o0(v,E,41),D=iu(v,E,14)^iu(v,E,18)^a0(v,E,41),U=v&b^~v&N,L=E&k^~E&A,F=sz(T,D,L,cz[C],Sa[C]),W=iz(F,R,j,U,lz[C],_a[C]),q=F|0,V=su(n,i,28)^o0(n,i,34)^o0(n,i,39),K=iu(n,i,28)^a0(n,i,34)^a0(n,i,39),x=n&s^n&l^s&l,a=i&o^i&f^o&f;R=N|0,T=A|0,N=b|0,A=k|0,b=v|0,k=E|0,{h:v,l:E}=Ao(h|0,p|0,W|0,q|0),h=l|0,p=f|0,l=s|0,f=o|0,s=n|0,o=i|0;const d=ez(q,K,a);n=tz(d,W,V,x),i=d|0}({h:n,l:i}=Ao(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Ao(this.Bh|0,this.Bl|0,s|0,o|0),{h:l,l:f}=Ao(this.Ch|0,this.Cl|0,l|0,f|0),{h,l:p}=Ao(this.Dh|0,this.Dl|0,h|0,p|0),{h:v,l:E}=Ao(this.Eh|0,this.El|0,v|0,E|0),{h:b,l:k}=Ao(this.Fh|0,this.Fl|0,b|0,k|0),{h:N,l:A}=Ao(this.Gh|0,this.Gl|0,N|0,A|0),{h:R,l:T}=Ao(this.Hh|0,this.Hl|0,R|0,T|0),this.set(n,i,s,o,l,f,h,p,v,E,b,k,N,A,R,T)}roundClean(){yl(_a,Sa)}destroy(){yl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const YT=P_(()=>new az),dz=P_(()=>new uz);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L_=BigInt(0),ex=BigInt(1);function wd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function D_(t){if(!wd(t))throw new Error("Uint8Array expected")}function cl(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function l0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function QT(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?L_:BigInt("0x"+t)}const JT=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",fz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xd(t){if(D_(t),JT)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=fz[t[r]];return e}const Ro={_0:48,_9:57,A:65,F:70,a:97,f:102};function hN(t){if(t>=Ro._0&&t<=Ro._9)return t-Ro._0;if(t>=Ro.A&&t<=Ro.F)return t-(Ro.A-10);if(t>=Ro.a&&t<=Ro.f)return t-(Ro.a-10)}function $m(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(JT)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=hN(t.charCodeAt(s)),l=hN(t.charCodeAt(s+1));if(o===void 0||l===void 0){const f=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}n[i]=o*16+l}return n}function xc(t){return QT(xd(t))}function Qf(t){return D_(t),QT(xd(Uint8Array.from(t).reverse()))}function kh(t,e){return $m(t.toString(16).padStart(e*2,"0"))}function Vm(t,e){return kh(t,e).reverse()}function Hr(t,e,r){let n;if(typeof e=="string")try{n=$m(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(wd(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function bd(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];D_(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const qv=t=>typeof t=="bigint"&&L_<=t;function B_(t,e,r){return qv(t)&&qv(e)&&qv(r)&&e<=t&&t<r}function Ai(t,e,r,n){if(!B_(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function hz(t){let e;for(e=0;t>L_;t>>=ex,e+=1);return e}const ry=t=>(ex<<BigInt(t))-ex,Gv=t=>new Uint8Array(t),pN=t=>Uint8Array.from(t);function pz(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Gv(t),i=Gv(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},l=(...v)=>r(i,n,...v),f=(v=Gv(0))=>{i=l(pN([0]),v),n=l(),v.length!==0&&(i=l(pN([1]),v),n=l())},h=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const E=[];for(;v<e;){n=l();const b=n.slice();E.push(b),v+=n.length}return bd(...E)};return(v,E)=>{o(),f(v);let b;for(;!(b=E(h()));)f();return o(),b}}const mz={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||wd(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function hp(t,e,r={}){const n=(i,s,o)=>{const l=mz[s];if(typeof l!="function")throw new Error("invalid validator function");const f=t[i];if(!(o&&f===void 0)&&!l(f,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+f)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function Hm(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ms=BigInt(0),an=BigInt(1),ec=BigInt(2),gz=BigInt(3),tx=BigInt(4),mN=BigInt(5),gN=BigInt(8);function gr(t,e){const r=t%e;return r>=Ms?r:e+r}function Tr(t,e,r){let n=t;for(;e-- >Ms;)n*=n,n%=r;return n}function rx(t,e){if(t===Ms)throw new Error("invert: expected non-zero number");if(e<=Ms)throw new Error("invert: expected positive modulus, got "+e);let r=gr(t,e),n=e,i=Ms,s=an;for(;r!==Ms;){const l=n/r,f=n%r,h=i-s*l;n=r,r=f,i=s,s=h}if(n!==an)throw new Error("invert: does not exist");return gr(i,e)}function yz(t){let e=t-an,r=0;for(;e%ec===Ms;)e/=ec,r++;let n=ec;const i=pp(t);for(;n<t&&yN(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1){const o=(t+an)/tx;return function(f,h){const p=f.pow(h,o);if(!f.eql(f.sqr(p),h))throw new Error("Cannot find square root");return p}}const s=(e+an)/ec;return function(l,f){if(!yN(l,f))throw new Error("Cannot find square root");let h=r,p=l.pow(l.mul(l.ONE,n),e),v=l.pow(f,s),E=l.pow(f,e);for(;!l.eql(E,l.ONE);){if(l.eql(E,l.ZERO))return l.ZERO;let b=1;for(let N=l.sqr(E);b<h&&!l.eql(N,l.ONE);b++)N=l.sqr(N);const k=l.pow(p,an<<BigInt(h-b-1));p=l.sqr(k),v=l.mul(v,k),E=l.mul(E,p),h=b}return v}}function vz(t){return t%tx===gz?function(r,n){const i=(t+an)/tx,s=r.pow(n,i);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}:t%gN===mN?function(r,n){const i=r.mul(n,ec),s=(t-mN)/gN,o=r.pow(i,s),l=r.mul(n,o),f=r.mul(r.mul(l,ec),o),h=r.mul(l,r.sub(f,r.ONE));if(!r.eql(r.sqr(h),n))throw new Error("Cannot find square root");return h}:yz(t)}const wz=(t,e)=>(gr(t,e)&an)===an,xz=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bz(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=xz.reduce((n,i)=>(n[i]="function",n),e);return hp(t,r)}function _z(t,e,r){if(r<Ms)throw new Error("invalid exponent, negatives unsupported");if(r===Ms)return t.ONE;if(r===an)return e;let n=t.ONE,i=e;for(;r>Ms;)r&an&&(n=t.mul(n,i)),i=t.sqr(i),r>>=an;return n}function U_(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,l,f)=>t.is0(l)?o:(n[f]=o,t.mul(o,l)),t.ONE),s=t.inv(i);return e.reduceRight((o,l,f)=>t.is0(l)?o:(n[f]=t.mul(o,n[f]),t.mul(o,l)),s),n}function Sz(t,e){const r=(t.ORDER-an)/ec,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("Cannot find square root: probably non-prime P");return i?1:s?0:-1}function yN(t,e){const r=Sz(t,e);return r===0||r===1}function XT(t,e){e!==void 0&&Rh(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function pp(t,e,r=!1,n={}){if(t<=Ms)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=XT(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const l=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:ry(i),ZERO:Ms,ONE:an,create:f=>gr(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return Ms<=f&&f<t},is0:f=>f===Ms,isOdd:f=>(f&an)===an,neg:f=>gr(-f,t),eql:(f,h)=>f===h,sqr:f=>gr(f*f,t),add:(f,h)=>gr(f+h,t),sub:(f,h)=>gr(f-h,t),mul:(f,h)=>gr(f*h,t),pow:(f,h)=>_z(l,f,h),div:(f,h)=>gr(f*rx(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>rx(f,t),sqrt:n.sqrt||(f=>(o||(o=vz(t)),o(l,f))),toBytes:f=>r?Vm(f,s):kh(f,s),fromBytes:f=>{if(f.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+f.length);return r?Qf(f):xc(f)},invertBatch:f=>U_(l,f),cmov:(f,h,p)=>p?h:f});return Object.freeze(l)}function eI(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function tI(t){const e=eI(t);return e+Math.ceil(e/2)}function Ez(t,e,r=!1){const n=t.length,i=eI(e),s=tI(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?Qf(t):xc(t),l=gr(o,e-an)+an;return r?Vm(l,i):kh(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vN=BigInt(0),nx=BigInt(1);function Zv(t,e){const r=e.negate();return t?r:e}function rI(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Yv(t,e){rI(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=ry(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function wN(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let l=Number(t&i),f=t>>o;l>n&&(l-=s,f+=nx);const h=e*n,p=h+Math.abs(l)-1,v=l===0,E=l<0,b=e%2!==0;return{nextN:f,offset:p,isZero:v,isNeg:E,isNegF:b,offsetF:h}}function Nz(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Mz(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Qv=new WeakMap,nI=new WeakMap;function Jv(t){return nI.get(t)||1}function sI(t,e){return{constTimeNegate:Zv,hasPrecomputes(r){return Jv(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>vN;)n&nx&&(i=i.add(s)),s=s.double(),n>>=nx;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Yv(n,e),o=[];let l=r,f=l;for(let h=0;h<i;h++){f=l,o.push(f);for(let p=1;p<s;p++)f=f.add(l),o.push(f);l=f.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const l=Yv(r,e);for(let f=0;f<l.windows;f++){const{nextN:h,offset:p,isZero:v,isNeg:E,isNegF:b,offsetF:k}=wN(i,f,l);i=h,v?o=o.add(Zv(b,n[k])):s=s.add(Zv(E,n[p]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=Yv(r,e);for(let l=0;l<o.windows&&i!==vN;l++){const{nextN:f,offset:h,isZero:p,isNeg:v}=wN(i,l,o);if(i=f,!p){const E=n[h];s=s.add(v?E.negate():E)}}return s},getPrecomputes(r,n,i){let s=Qv.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Qv.set(n,i(s))),s},wNAFCached(r,n,i){const s=Jv(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Jv(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){rI(n,e),nI.set(r,n),Qv.delete(r)}}}function iI(t,e,r,n){if(Nz(r,t),Mz(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=hz(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,l=ry(o),f=new Array(Number(l)+1).fill(i),h=Math.floor((e.BITS-1)/o)*o;let p=i;for(let v=h;v>=0;v-=o){f.fill(i);for(let b=0;b<n.length;b++){const k=n[b],N=Number(k>>BigInt(v)&l);f[N]=f[N].add(r[b])}let E=i;for(let b=f.length-1,k=i;b>0;b--)k=k.add(f[b]),E=E.add(k);if(p=p.add(E),v!==0)for(let b=0;b<o;b++)p=p.double()}return p}function z_(t){return bz(t.Fp),hp(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...XT(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qi=BigInt(0),rs=BigInt(1),xN=BigInt(2),Az=BigInt(8),Rz={zip215:!0};function kz(t){const e=z_(t);return hp(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Tz(t){const e=kz(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:l,h:f}=e,h=xN<<BigInt(l*8)-rs,p=r.create,v=pp(e.n,e.nBitLength),E=e.uvRatio||((y,g)=>{try{return{isValid:!0,value:r.sqrt(y*r.inv(g))}}catch{return{isValid:!1,value:qi}}}),b=e.adjustScalarBytes||(y=>y),k=e.domain||((y,g,S)=>{if(cl("phflag",S),g.length||S)throw new Error("Contexts/pre-hash are not supported");return y});function N(y,g,S=!1){const I=S?rs:qi;Ai("coordinate "+y,g,I,h)}function A(y){if(!(y instanceof C))throw new Error("ExtendedPoint expected")}const R=Hm((y,g)=>{const{ex:S,ey:I,ez:w}=y,c=y.is0();g==null&&(g=c?Az:r.inv(w));const _=p(S*g),$=p(I*g),H=p(w*g);if(c)return{x:qi,y:rs};if(H!==rs)throw new Error("invZ was invalid");return{x:_,y:$}}),T=Hm(y=>{const{a:g,d:S}=e;if(y.is0())throw new Error("bad point: ZERO");const{ex:I,ey:w,ez:c,et:_}=y,$=p(I*I),H=p(w*w),G=p(c*c),re=p(G*G),ie=p($*g),le=p(G*p(ie+H)),nt=p(re+p(S*p($*H)));if(le!==nt)throw new Error("bad point: equation left != right (1)");const ue=p(I*w),de=p(c*_);if(ue!==de)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor(g,S,I,w){N("x",g),N("y",S),N("z",I,!0),N("t",w),this.ex=g,this.ey=S,this.ez=I,this.et=w,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof C)throw new Error("extended point not allowed");const{x:S,y:I}=g||{};return N("x",S),N("y",I),new C(S,I,rs,p(S*I))}static normalizeZ(g){const S=U_(r,g.map(I=>I.ez));return g.map((I,w)=>I.toAffine(S[w])).map(C.fromAffine)}static msm(g,S){return iI(C,v,g,S)}_setWindowSize(g){U.setWindowSize(this,g)}assertValidity(){T(this)}equals(g){A(g);const{ex:S,ey:I,ez:w}=this,{ex:c,ey:_,ez:$}=g,H=p(S*$),G=p(c*w),re=p(I*$),ie=p(_*w);return H===G&&re===ie}is0(){return this.equals(C.ZERO)}negate(){return new C(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:g}=e,{ex:S,ey:I,ez:w}=this,c=p(S*S),_=p(I*I),$=p(xN*p(w*w)),H=p(g*c),G=S+I,re=p(p(G*G)-c-_),ie=H+_,le=ie-$,nt=H-_,ue=p(re*le),de=p(ie*nt),vt=p(re*nt),ye=p(le*ie);return new C(ue,de,ye,vt)}add(g){A(g);const{a:S,d:I}=e,{ex:w,ey:c,ez:_,et:$}=this,{ex:H,ey:G,ez:re,et:ie}=g,le=p(w*H),nt=p(c*G),ue=p($*I*ie),de=p(_*re),vt=p((w+c)*(H+G)-le-nt),ye=de-ue,be=de+ue,Ft=p(nt-S*le),_e=p(vt*ye),Me=p(be*Ft),hr=p(vt*Ft),Te=p(ye*be);return new C(_e,Me,Te,hr)}subtract(g){return this.add(g.negate())}wNAF(g){return U.wNAFCached(this,g,C.normalizeZ)}multiply(g){const S=g;Ai("scalar",S,rs,n);const{p:I,f:w}=this.wNAF(S);return C.normalizeZ([I,w])[0]}multiplyUnsafe(g,S=C.ZERO){const I=g;return Ai("scalar",I,qi,n),I===qi?D:this.is0()||I===rs?this:U.wNAFCachedUnsafe(this,I,C.normalizeZ,S)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return U.unsafeLadder(this,n).is0()}toAffine(g){return R(this,g)}clearCofactor(){const{h:g}=e;return g===rs?this:this.multiplyUnsafe(g)}static fromHex(g,S=!1){const{d:I,a:w}=e,c=r.BYTES;g=Hr("pointHex",g,c),cl("zip215",S);const _=g.slice(),$=g[c-1];_[c-1]=$&-129;const H=Qf(_),G=S?h:r.ORDER;Ai("pointHex.y",H,qi,G);const re=p(H*H),ie=p(re-rs),le=p(I*re-w);let{isValid:nt,value:ue}=E(ie,le);if(!nt)throw new Error("Point.fromHex: invalid y coordinate");const de=(ue&rs)===rs,vt=($&128)!==0;if(!S&&ue===qi&&vt)throw new Error("Point.fromHex: x=0 and x_0=1");return vt!==de&&(ue=p(-ue)),C.fromAffine({x:ue,y:H})}static fromPrivateKey(g){const{scalar:S}=W(g);return j.multiply(S)}toRawBytes(){const{x:g,y:S}=this.toAffine(),I=Vm(S,r.BYTES);return I[I.length-1]|=g&rs?128:0,I}toHex(){return xd(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,rs,p(e.Gx*e.Gy)),C.ZERO=new C(qi,rs,rs,qi);const{BASE:j,ZERO:D}=C,U=sI(C,l*8);function L(y){return gr(y,n)}function F(y){return L(Qf(y))}function W(y){const g=r.BYTES;y=Hr("private key",y,g);const S=Hr("hashed private key",s(y),2*g),I=b(S.slice(0,g)),w=S.slice(g,2*g),c=F(I);return{head:I,prefix:w,scalar:c}}function q(y){const{head:g,prefix:S,scalar:I}=W(y),w=j.multiply(I),c=w.toRawBytes();return{head:g,prefix:S,scalar:I,point:w,pointBytes:c}}function V(y){return q(y).pointBytes}function K(y=Uint8Array.of(),...g){const S=bd(...g);return F(s(k(S,Hr("context",y),!!i)))}function x(y,g,S={}){y=Hr("message",y),i&&(y=i(y));const{prefix:I,scalar:w,pointBytes:c}=q(g),_=K(S.context,I,y),$=j.multiply(_).toRawBytes(),H=K(S.context,$,c,y),G=L(_+H*w);Ai("signature.s",G,qi,n);const re=bd($,Vm(G,r.BYTES));return Hr("result",re,r.BYTES*2)}const a=Rz;function d(y,g,S,I=a){const{context:w,zip215:c}=I,_=r.BYTES;y=Hr("signature",y,2*_),g=Hr("message",g),S=Hr("publicKey",S,_),c!==void 0&&cl("zip215",c),i&&(g=i(g));const $=Qf(y.slice(_,2*_));let H,G,re;try{H=C.fromHex(S,c),G=C.fromHex(y.slice(0,_),c),re=j.multiplyUnsafe($)}catch{return!1}if(!c&&H.isSmallOrder())return!1;const ie=K(w,G.toRawBytes(),H.toRawBytes(),g);return G.add(H.multiplyUnsafe(ie)).subtract(re).clearCofactor().equals(C.ZERO)}return j._setWindowSize(8),{CURVE:e,getPublicKey:V,sign:x,verify:d,ExtendedPoint:C,utils:{getExtendedPublicKey:q,randomPrivateKey:()=>o(r.BYTES),precompute(y=8,g=C.BASE){return g._setWindowSize(y),g.multiply(BigInt(3)),g}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),bN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Iz=BigInt(1),_N=BigInt(2);BigInt(3);const Cz=BigInt(5),jz=BigInt(8);function Oz(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=F_,l=t*t%s*t%s,f=Tr(l,_N,s)*l%s,h=Tr(f,Iz,s)*t%s,p=Tr(h,Cz,s)*h%s,v=Tr(p,e,s)*p%s,E=Tr(v,r,s)*v%s,b=Tr(E,n,s)*E%s,k=Tr(b,i,s)*b%s,N=Tr(k,i,s)*b%s,A=Tr(N,e,s)*p%s;return{pow_p_5_8:Tr(A,_N,s)*t%s,b2:l}}function Pz(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Lz(t,e){const r=F_,n=gr(e*e*e,r),i=gr(n*n*e,r),s=Oz(t*i).pow_p_5_8;let o=gr(t*n*s,r);const l=gr(e*o*o,r),f=o,h=gr(o*bN,r),p=l===t,v=l===gr(-t,r),E=l===gr(-t*bN,r);return p&&(o=f),(v||E)&&(o=h),wz(o,r)&&(o=gr(-o,r)),{isValid:p||v,value:o}}const SN=pp(F_,void 0,!0),Dz={a:SN.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:SN,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:jz,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:dz,randomBytes:KT,adjustScalarBytes:Pz,uvRatio:Lz},Hd=Tz(Dz);var W_={exports:{}};const Kd=Dg(DU);W_.exports;(function(t){(function(e,r){function n(x,a){if(!x)throw new Error(a||"Assertion failed")}function i(x,a){x.super_=a;var d=function(){};d.prototype=a.prototype,x.prototype=new d,x.prototype.constructor=x}function s(x,a,d){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((a==="le"||a==="be")&&(d=a,a=10),this._init(x||0,a||10,d||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Kd.Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,d){return a.cmp(d)>0?a:d},s.min=function(a,d){return a.cmp(d)<0?a:d},s.prototype._init=function(a,d,m){if(typeof a=="number")return this._initNumber(a,d,m);if(typeof a=="object")return this._initArray(a,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(d===16?this._parseHex(a,y,m):(this._parseBase(a,d,y),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(a,d,m){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,S,I=0;if(m==="be")for(y=a.length-1,g=0;y>=0;y-=3)S=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(m==="le")for(y=0,g=0;y<a.length;y+=3)S=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this._strip()};function l(x,a){var d=x.charCodeAt(a);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+x)}function f(x,a,d){var m=l(x,d);return d-1>=a&&(m|=l(x,d-1)<<4),m}s.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,S=0,I;if(m==="be")for(y=a.length-1;y>=d;y-=2)I=f(a,d,y)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var w=a.length-d;for(y=w%2===0?d+1:d;y<a.length;y+=2)I=f(a,d,y)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this._strip()};function h(x,a,d,m){for(var y=0,g=0,S=Math.min(x.length,d),I=a;I<S;I++){var w=x.charCodeAt(I)-48;y*=m,w>=49?g=w-49+10:w>=17?g=w-17+10:g=w,n(w>=0&&g<m,"Invalid character"),y+=g}return y}s.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=d)y++;y--,g=g/d|0;for(var S=a.length-m,I=S%y,w=Math.min(S,S-I)+m,c=0,_=m;_<w;_+=y)c=h(a,_,_+y,d),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(I!==0){var $=1;for(c=h(a,_,a.length,d),_=0;_<I;_++)$*=d;this.imuln($),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red};function p(x,a){x.words=a.words,x.length=a.length,x.negative=a.negative,x.red=a.red}if(s.prototype._move=function(a){p(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,d){a=a||10,d=d|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,g=0,S=0;S<this.length;S++){var I=this.words[S],w=((I<<y|g)&16777215).toString(16);g=I>>>24-y&16777215,y+=2,y>=26&&(y-=26,S--),g!==0||S!==this.length-1?m=E[6-w.length]+w+m:m=w+m}for(g!==0&&(m=g.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var c=b[a],_=k[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var H=$.modrn(_).toString(a);$=$.idivn(_),$.isZero()?m=H+m:m=E[c-H.length]+H+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(a,d){return this.toArrayLike(o,a,d)}),s.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)};var N=function(a,d){return a.allocUnsafe?a.allocUnsafe(d):new a(d)};s.prototype.toArrayLike=function(a,d,m){this._strip();var y=this.byteLength(),g=m||Math.max(1,y);n(y<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0");var S=N(a,g),I=d==="le"?"LE":"BE";return this["_toArrayLike"+I](S,y),S},s.prototype._toArrayLikeLE=function(a,d){for(var m=0,y=0,g=0,S=0;g<this.length;g++){var I=this.words[g]<<S|y;a[m++]=I&255,m<a.length&&(a[m++]=I>>8&255),m<a.length&&(a[m++]=I>>16&255),S===6?(m<a.length&&(a[m++]=I>>24&255),y=0,S=0):(y=I>>>24,S+=2)}if(m<a.length)for(a[m++]=y;m<a.length;)a[m++]=0},s.prototype._toArrayLikeBE=function(a,d){for(var m=a.length-1,y=0,g=0,S=0;g<this.length;g++){var I=this.words[g]<<S|y;a[m--]=I&255,m>=0&&(a[m--]=I>>8&255),m>=0&&(a[m--]=I>>16&255),S===6?(m>=0&&(a[m--]=I>>24&255),y=0,S=0):(y=I>>>24,S+=2)}if(m>=0)for(a[m--]=y;m>=0;)a[m--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(a){if(a===0)return 26;var d=a,m=0;return d&8191||(m+=13,d>>>=13),d&127||(m+=7,d>>>=7),d&15||(m+=4,d>>>=4),d&3||(m+=2,d>>>=2),d&1||m++,m},s.prototype.bitLength=function(){var a=this.words[this.length-1],d=this._countBits(a);return(this.length-1)*26+d};function A(x){for(var a=new Array(x.bitLength()),d=0;d<a.length;d++){var m=d/26|0,y=d%26;a[d]=x.words[m]>>>y&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,m!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this._strip()},s.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var d;this.length>a.length?d=a:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this._strip()},s.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=d.words[y]^m.words[y];if(this!==d)for(;y<d.length;y++)this.words[y]=d.words[y];return this.length=d.length,this._strip()},s.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var d=Math.ceil(a/26)|0,m=a%26;this._expand(d),m>0&&d--;for(var y=0;y<d;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,d){n(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this._strip()},s.prototype.iadd=function(a){var d;if(this.negative!==0&&a.negative===0)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var g=0,S=0;S<y.length;S++)d=(m.words[S]|0)+(y.words[S]|0)+g,this.words[S]=d&67108863,g=d>>>26;for(;g!==0&&S<m.length;S++)d=(m.words[S]|0)+g,this.words[S]=d&67108863,g=d>>>26;if(this.length=m.length,g!==0)this.words[this.length]=g,this.length++;else if(m!==this)for(;S<m.length;S++)this.words[S]=m.words[S];return this},s.prototype.add=function(a){var d;return a.negative!==0&&this.negative===0?(a.negative=0,d=this.sub(a),a.negative^=1,d):a.negative===0&&this.negative!==0?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;m>0?(y=this,g=a):(y=a,g=this);for(var S=0,I=0;I<g.length;I++)d=(y.words[I]|0)-(g.words[I]|0)+S,S=d>>26,this.words[I]=d&67108863;for(;S!==0&&I<y.length;I++)d=(y.words[I]|0)+S,S=d>>26,this.words[I]=d&67108863;if(S===0&&I<y.length&&y!==this)for(;I<y.length;I++)this.words[I]=y.words[I];return this.length=Math.max(this.length,I),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function R(x,a,d){d.negative=a.negative^x.negative;var m=x.length+a.length|0;d.length=m,m=m-1|0;var y=x.words[0]|0,g=a.words[0]|0,S=y*g,I=S&67108863,w=S/67108864|0;d.words[0]=I;for(var c=1;c<m;c++){for(var _=w>>>26,$=w&67108863,H=Math.min(c,a.length-1),G=Math.max(0,c-x.length+1);G<=H;G++){var re=c-G|0;y=x.words[re]|0,g=a.words[G]|0,S=y*g+$,_+=S/67108864|0,$=S&67108863}d.words[c]=$|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d._strip()}var T=function(a,d,m){var y=a.words,g=d.words,S=m.words,I=0,w,c,_,$=y[0]|0,H=$&8191,G=$>>>13,re=y[1]|0,ie=re&8191,le=re>>>13,nt=y[2]|0,ue=nt&8191,de=nt>>>13,vt=y[3]|0,ye=vt&8191,be=vt>>>13,Ft=y[4]|0,_e=Ft&8191,Me=Ft>>>13,hr=y[5]|0,Te=hr&8191,ke=hr>>>13,Q=y[6]|0,Z=Q&8191,X=Q>>>13,Ie=y[7]|0,se=Ie&8191,ne=Ie>>>13,De=y[8]|0,he=De&8191,B=De>>>13,P=y[9]|0,O=P&8191,z=P>>>13,ee=g[0]|0,Y=ee&8191,te=ee>>>13,ht=g[1]|0,ve=ht&8191,we=ht>>>13,Pt=g[2]|0,ge=Pt&8191,Le=Pt>>>13,Wr=g[3]|0,Be=Wr&8191,fe=Wr>>>13,At=g[4]|0,xe=At&8191,Ae=At>>>13,vr=g[5]|0,je=vr&8191,Pe=vr>>>13,wr=g[6]|0,Oe=wr&8191,ze=wr>>>13,pi=g[7]|0,Fe=pi&8191,We=pi>>>13,mi=g[8]|0,$e=mi&8191,Ve=mi>>>13,gi=g[9]|0,He=gi&8191,Ke=gi>>>13;m.negative=a.negative^d.negative,m.length=19,w=Math.imul(H,Y),c=Math.imul(H,te),c=c+Math.imul(G,Y)|0,_=Math.imul(G,te);var Dn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,w=Math.imul(ie,Y),c=Math.imul(ie,te),c=c+Math.imul(le,Y)|0,_=Math.imul(le,te),w=w+Math.imul(H,ve)|0,c=c+Math.imul(H,we)|0,c=c+Math.imul(G,ve)|0,_=_+Math.imul(G,we)|0;var Bn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,w=Math.imul(ue,Y),c=Math.imul(ue,te),c=c+Math.imul(de,Y)|0,_=Math.imul(de,te),w=w+Math.imul(ie,ve)|0,c=c+Math.imul(ie,we)|0,c=c+Math.imul(le,ve)|0,_=_+Math.imul(le,we)|0,w=w+Math.imul(H,ge)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(G,ge)|0,_=_+Math.imul(G,Le)|0;var Un=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ye,Y),c=Math.imul(ye,te),c=c+Math.imul(be,Y)|0,_=Math.imul(be,te),w=w+Math.imul(ue,ve)|0,c=c+Math.imul(ue,we)|0,c=c+Math.imul(de,ve)|0,_=_+Math.imul(de,we)|0,w=w+Math.imul(ie,ge)|0,c=c+Math.imul(ie,Le)|0,c=c+Math.imul(le,ge)|0,_=_+Math.imul(le,Le)|0,w=w+Math.imul(H,Be)|0,c=c+Math.imul(H,fe)|0,c=c+Math.imul(G,Be)|0,_=_+Math.imul(G,fe)|0;var zn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(zn>>>26)|0,zn&=67108863,w=Math.imul(_e,Y),c=Math.imul(_e,te),c=c+Math.imul(Me,Y)|0,_=Math.imul(Me,te),w=w+Math.imul(ye,ve)|0,c=c+Math.imul(ye,we)|0,c=c+Math.imul(be,ve)|0,_=_+Math.imul(be,we)|0,w=w+Math.imul(ue,ge)|0,c=c+Math.imul(ue,Le)|0,c=c+Math.imul(de,ge)|0,_=_+Math.imul(de,Le)|0,w=w+Math.imul(ie,Be)|0,c=c+Math.imul(ie,fe)|0,c=c+Math.imul(le,Be)|0,_=_+Math.imul(le,fe)|0,w=w+Math.imul(H,xe)|0,c=c+Math.imul(H,Ae)|0,c=c+Math.imul(G,xe)|0,_=_+Math.imul(G,Ae)|0;var Fn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(Te,Y),c=Math.imul(Te,te),c=c+Math.imul(ke,Y)|0,_=Math.imul(ke,te),w=w+Math.imul(_e,ve)|0,c=c+Math.imul(_e,we)|0,c=c+Math.imul(Me,ve)|0,_=_+Math.imul(Me,we)|0,w=w+Math.imul(ye,ge)|0,c=c+Math.imul(ye,Le)|0,c=c+Math.imul(be,ge)|0,_=_+Math.imul(be,Le)|0,w=w+Math.imul(ue,Be)|0,c=c+Math.imul(ue,fe)|0,c=c+Math.imul(de,Be)|0,_=_+Math.imul(de,fe)|0,w=w+Math.imul(ie,xe)|0,c=c+Math.imul(ie,Ae)|0,c=c+Math.imul(le,xe)|0,_=_+Math.imul(le,Ae)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(G,je)|0,_=_+Math.imul(G,Pe)|0;var Wn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,w=Math.imul(Z,Y),c=Math.imul(Z,te),c=c+Math.imul(X,Y)|0,_=Math.imul(X,te),w=w+Math.imul(Te,ve)|0,c=c+Math.imul(Te,we)|0,c=c+Math.imul(ke,ve)|0,_=_+Math.imul(ke,we)|0,w=w+Math.imul(_e,ge)|0,c=c+Math.imul(_e,Le)|0,c=c+Math.imul(Me,ge)|0,_=_+Math.imul(Me,Le)|0,w=w+Math.imul(ye,Be)|0,c=c+Math.imul(ye,fe)|0,c=c+Math.imul(be,Be)|0,_=_+Math.imul(be,fe)|0,w=w+Math.imul(ue,xe)|0,c=c+Math.imul(ue,Ae)|0,c=c+Math.imul(de,xe)|0,_=_+Math.imul(de,Ae)|0,w=w+Math.imul(ie,je)|0,c=c+Math.imul(ie,Pe)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Pe)|0,w=w+Math.imul(H,Oe)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(G,Oe)|0,_=_+Math.imul(G,ze)|0;var $n=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(se,Y),c=Math.imul(se,te),c=c+Math.imul(ne,Y)|0,_=Math.imul(ne,te),w=w+Math.imul(Z,ve)|0,c=c+Math.imul(Z,we)|0,c=c+Math.imul(X,ve)|0,_=_+Math.imul(X,we)|0,w=w+Math.imul(Te,ge)|0,c=c+Math.imul(Te,Le)|0,c=c+Math.imul(ke,ge)|0,_=_+Math.imul(ke,Le)|0,w=w+Math.imul(_e,Be)|0,c=c+Math.imul(_e,fe)|0,c=c+Math.imul(Me,Be)|0,_=_+Math.imul(Me,fe)|0,w=w+Math.imul(ye,xe)|0,c=c+Math.imul(ye,Ae)|0,c=c+Math.imul(be,xe)|0,_=_+Math.imul(be,Ae)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Pe)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Pe)|0,w=w+Math.imul(ie,Oe)|0,c=c+Math.imul(ie,ze)|0,c=c+Math.imul(le,Oe)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(H,Fe)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(G,Fe)|0,_=_+Math.imul(G,We)|0;var Vn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(he,Y),c=Math.imul(he,te),c=c+Math.imul(B,Y)|0,_=Math.imul(B,te),w=w+Math.imul(se,ve)|0,c=c+Math.imul(se,we)|0,c=c+Math.imul(ne,ve)|0,_=_+Math.imul(ne,we)|0,w=w+Math.imul(Z,ge)|0,c=c+Math.imul(Z,Le)|0,c=c+Math.imul(X,ge)|0,_=_+Math.imul(X,Le)|0,w=w+Math.imul(Te,Be)|0,c=c+Math.imul(Te,fe)|0,c=c+Math.imul(ke,Be)|0,_=_+Math.imul(ke,fe)|0,w=w+Math.imul(_e,xe)|0,c=c+Math.imul(_e,Ae)|0,c=c+Math.imul(Me,xe)|0,_=_+Math.imul(Me,Ae)|0,w=w+Math.imul(ye,je)|0,c=c+Math.imul(ye,Pe)|0,c=c+Math.imul(be,je)|0,_=_+Math.imul(be,Pe)|0,w=w+Math.imul(ue,Oe)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(de,Oe)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ie,Fe)|0,c=c+Math.imul(ie,We)|0,c=c+Math.imul(le,Fe)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(G,$e)|0,_=_+Math.imul(G,Ve)|0;var Hn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,w=Math.imul(O,Y),c=Math.imul(O,te),c=c+Math.imul(z,Y)|0,_=Math.imul(z,te),w=w+Math.imul(he,ve)|0,c=c+Math.imul(he,we)|0,c=c+Math.imul(B,ve)|0,_=_+Math.imul(B,we)|0,w=w+Math.imul(se,ge)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(ne,ge)|0,_=_+Math.imul(ne,Le)|0,w=w+Math.imul(Z,Be)|0,c=c+Math.imul(Z,fe)|0,c=c+Math.imul(X,Be)|0,_=_+Math.imul(X,fe)|0,w=w+Math.imul(Te,xe)|0,c=c+Math.imul(Te,Ae)|0,c=c+Math.imul(ke,xe)|0,_=_+Math.imul(ke,Ae)|0,w=w+Math.imul(_e,je)|0,c=c+Math.imul(_e,Pe)|0,c=c+Math.imul(Me,je)|0,_=_+Math.imul(Me,Pe)|0,w=w+Math.imul(ye,Oe)|0,c=c+Math.imul(ye,ze)|0,c=c+Math.imul(be,Oe)|0,_=_+Math.imul(be,ze)|0,w=w+Math.imul(ue,Fe)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(de,Fe)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ie,$e)|0,c=c+Math.imul(ie,Ve)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(H,He)|0,c=c+Math.imul(H,Ke)|0,c=c+Math.imul(G,He)|0,_=_+Math.imul(G,Ke)|0;var Kn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,w=Math.imul(O,ve),c=Math.imul(O,we),c=c+Math.imul(z,ve)|0,_=Math.imul(z,we),w=w+Math.imul(he,ge)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(B,ge)|0,_=_+Math.imul(B,Le)|0,w=w+Math.imul(se,Be)|0,c=c+Math.imul(se,fe)|0,c=c+Math.imul(ne,Be)|0,_=_+Math.imul(ne,fe)|0,w=w+Math.imul(Z,xe)|0,c=c+Math.imul(Z,Ae)|0,c=c+Math.imul(X,xe)|0,_=_+Math.imul(X,Ae)|0,w=w+Math.imul(Te,je)|0,c=c+Math.imul(Te,Pe)|0,c=c+Math.imul(ke,je)|0,_=_+Math.imul(ke,Pe)|0,w=w+Math.imul(_e,Oe)|0,c=c+Math.imul(_e,ze)|0,c=c+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(ye,Fe)|0,c=c+Math.imul(ye,We)|0,c=c+Math.imul(be,Fe)|0,_=_+Math.imul(be,We)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ie,He)|0,c=c+Math.imul(ie,Ke)|0,c=c+Math.imul(le,He)|0,_=_+Math.imul(le,Ke)|0;var qn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,w=Math.imul(O,ge),c=Math.imul(O,Le),c=c+Math.imul(z,ge)|0,_=Math.imul(z,Le),w=w+Math.imul(he,Be)|0,c=c+Math.imul(he,fe)|0,c=c+Math.imul(B,Be)|0,_=_+Math.imul(B,fe)|0,w=w+Math.imul(se,xe)|0,c=c+Math.imul(se,Ae)|0,c=c+Math.imul(ne,xe)|0,_=_+Math.imul(ne,Ae)|0,w=w+Math.imul(Z,je)|0,c=c+Math.imul(Z,Pe)|0,c=c+Math.imul(X,je)|0,_=_+Math.imul(X,Pe)|0,w=w+Math.imul(Te,Oe)|0,c=c+Math.imul(Te,ze)|0,c=c+Math.imul(ke,Oe)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(_e,Fe)|0,c=c+Math.imul(_e,We)|0,c=c+Math.imul(Me,Fe)|0,_=_+Math.imul(Me,We)|0,w=w+Math.imul(ye,$e)|0,c=c+Math.imul(ye,Ve)|0,c=c+Math.imul(be,$e)|0,_=_+Math.imul(be,Ve)|0,w=w+Math.imul(ue,He)|0,c=c+Math.imul(ue,Ke)|0,c=c+Math.imul(de,He)|0,_=_+Math.imul(de,Ke)|0;var Gn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(O,Be),c=Math.imul(O,fe),c=c+Math.imul(z,Be)|0,_=Math.imul(z,fe),w=w+Math.imul(he,xe)|0,c=c+Math.imul(he,Ae)|0,c=c+Math.imul(B,xe)|0,_=_+Math.imul(B,Ae)|0,w=w+Math.imul(se,je)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(ne,je)|0,_=_+Math.imul(ne,Pe)|0,w=w+Math.imul(Z,Oe)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(X,Oe)|0,_=_+Math.imul(X,ze)|0,w=w+Math.imul(Te,Fe)|0,c=c+Math.imul(Te,We)|0,c=c+Math.imul(ke,Fe)|0,_=_+Math.imul(ke,We)|0,w=w+Math.imul(_e,$e)|0,c=c+Math.imul(_e,Ve)|0,c=c+Math.imul(Me,$e)|0,_=_+Math.imul(Me,Ve)|0,w=w+Math.imul(ye,He)|0,c=c+Math.imul(ye,Ke)|0,c=c+Math.imul(be,He)|0,_=_+Math.imul(be,Ke)|0;var Zn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(O,xe),c=Math.imul(O,Ae),c=c+Math.imul(z,xe)|0,_=Math.imul(z,Ae),w=w+Math.imul(he,je)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(B,je)|0,_=_+Math.imul(B,Pe)|0,w=w+Math.imul(se,Oe)|0,c=c+Math.imul(se,ze)|0,c=c+Math.imul(ne,Oe)|0,_=_+Math.imul(ne,ze)|0,w=w+Math.imul(Z,Fe)|0,c=c+Math.imul(Z,We)|0,c=c+Math.imul(X,Fe)|0,_=_+Math.imul(X,We)|0,w=w+Math.imul(Te,$e)|0,c=c+Math.imul(Te,Ve)|0,c=c+Math.imul(ke,$e)|0,_=_+Math.imul(ke,Ve)|0,w=w+Math.imul(_e,He)|0,c=c+Math.imul(_e,Ke)|0,c=c+Math.imul(Me,He)|0,_=_+Math.imul(Me,Ke)|0;var Yn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(O,je),c=Math.imul(O,Pe),c=c+Math.imul(z,je)|0,_=Math.imul(z,Pe),w=w+Math.imul(he,Oe)|0,c=c+Math.imul(he,ze)|0,c=c+Math.imul(B,Oe)|0,_=_+Math.imul(B,ze)|0,w=w+Math.imul(se,Fe)|0,c=c+Math.imul(se,We)|0,c=c+Math.imul(ne,Fe)|0,_=_+Math.imul(ne,We)|0,w=w+Math.imul(Z,$e)|0,c=c+Math.imul(Z,Ve)|0,c=c+Math.imul(X,$e)|0,_=_+Math.imul(X,Ve)|0,w=w+Math.imul(Te,He)|0,c=c+Math.imul(Te,Ke)|0,c=c+Math.imul(ke,He)|0,_=_+Math.imul(ke,Ke)|0;var Qn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(O,Oe),c=Math.imul(O,ze),c=c+Math.imul(z,Oe)|0,_=Math.imul(z,ze),w=w+Math.imul(he,Fe)|0,c=c+Math.imul(he,We)|0,c=c+Math.imul(B,Fe)|0,_=_+Math.imul(B,We)|0,w=w+Math.imul(se,$e)|0,c=c+Math.imul(se,Ve)|0,c=c+Math.imul(ne,$e)|0,_=_+Math.imul(ne,Ve)|0,w=w+Math.imul(Z,He)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(X,He)|0,_=_+Math.imul(X,Ke)|0;var Jn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,w=Math.imul(O,Fe),c=Math.imul(O,We),c=c+Math.imul(z,Fe)|0,_=Math.imul(z,We),w=w+Math.imul(he,$e)|0,c=c+Math.imul(he,Ve)|0,c=c+Math.imul(B,$e)|0,_=_+Math.imul(B,Ve)|0,w=w+Math.imul(se,He)|0,c=c+Math.imul(se,Ke)|0,c=c+Math.imul(ne,He)|0,_=_+Math.imul(ne,Ke)|0;var Xn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(O,$e),c=Math.imul(O,Ve),c=c+Math.imul(z,$e)|0,_=Math.imul(z,Ve),w=w+Math.imul(he,He)|0,c=c+Math.imul(he,Ke)|0,c=c+Math.imul(B,He)|0,_=_+Math.imul(B,Ke)|0;var es=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(es>>>26)|0,es&=67108863,w=Math.imul(O,He),c=Math.imul(O,Ke),c=c+Math.imul(z,He)|0,_=Math.imul(z,Ke);var ts=(I+w|0)+((c&8191)<<13)|0;return I=(_+(c>>>13)|0)+(ts>>>26)|0,ts&=67108863,S[0]=Dn,S[1]=Bn,S[2]=Un,S[3]=zn,S[4]=Fn,S[5]=Wn,S[6]=$n,S[7]=Vn,S[8]=Hn,S[9]=Kn,S[10]=qn,S[11]=Gn,S[12]=Zn,S[13]=Yn,S[14]=Qn,S[15]=Jn,S[16]=Xn,S[17]=es,S[18]=ts,I!==0&&(S[19]=I,m.length++),m};Math.imul||(T=R);function C(x,a,d){d.negative=a.negative^x.negative,d.length=x.length+a.length;for(var m=0,y=0,g=0;g<d.length-1;g++){var S=y;y=0;for(var I=m&67108863,w=Math.min(g,a.length-1),c=Math.max(0,g-x.length+1);c<=w;c++){var _=g-c,$=x.words[_]|0,H=a.words[c]|0,G=$*H,re=G&67108863;S=S+(G/67108864|0)|0,re=re+I|0,I=re&67108863,S=S+(re>>>26)|0,y+=S>>>26,S&=67108863}d.words[g]=I,m=S,S=y}return m!==0?d.words[g]=m:d.length--,d._strip()}function j(x,a,d){return C(x,a,d)}s.prototype.mulTo=function(a,d){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=T(this,a,d):y<63?m=R(this,a,d):y<1024?m=C(this,a,d):m=j(this,a,d),m},s.prototype.mul=function(a){var d=new s(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},s.prototype.mulf=function(a){var d=new s(null);return d.words=new Array(this.length+a.length),j(this,a,d)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var d=a<0;d&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var m=0,y=0;y<this.length;y++){var g=(this.words[y]|0)*a,S=(g&67108863)+(m&67108863);m>>=26,m+=g/67108864|0,m+=S>>>26,this.words[y]=S&67108863}return m!==0&&(this.words[y]=m,this.length++),this.length=a===0?1:this.length,d?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var d=A(a);if(d.length===0)return new s(1);for(var m=this,y=0;y<d.length&&d[y]===0;y++,m=m.sqr());if(++y<d.length)for(var g=m.sqr();y<d.length;y++,g=g.sqr())d[y]!==0&&(m=m.mul(g));return m},s.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26,y=67108863>>>26-d<<26-d,g;if(d!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&y,w=(this.words[g]|0)-I<<d;this.words[g]=w|S,S=I>>>26-d}S&&(this.words[g]=S,this.length++)}if(m!==0){for(g=this.length-1;g>=0;g--)this.words[g+m]=this.words[g];for(g=0;g<m;g++)this.words[g]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,d,m){n(typeof a=="number"&&a>=0);var y;d?y=(d-d%26)/26:y=0;var g=a%26,S=Math.min((a-g)/26,this.length),I=67108863^67108863>>>g<<g,w=m;if(y-=S,y=Math.max(0,y),w){for(var c=0;c<S;c++)w.words[c]=this.words[c];w.length=S}if(S!==0)if(this.length>S)for(this.length-=S,c=0;c<this.length;c++)this.words[c]=this.words[c+S];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=y);c--){var $=this.words[c]|0;this.words[c]=_<<26-g|$>>>g,_=$&I}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,d,m){return n(this.negative===0),this.iushrn(a,d,m)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26,y=1<<d;if(this.length<=m)return!1;var g=this.words[m];return!!(g&y)},s.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var y=67108863^67108863>>>d<<d;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,d,m){var y=a.length+m,g;this._expand(y);var S,I=0;for(g=0;g<a.length;g++){S=(this.words[g+m]|0)+I;var w=(a.words[g]|0)*d;S-=w&67108863,I=(S>>26)-(w/67108864|0),this.words[g+m]=S&67108863}for(;g<this.length-m;g++)S=(this.words[g+m]|0)+I,I=S>>26,this.words[g+m]=S&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,d){var m=this.length-a.length,y=this.clone(),g=a,S=g.words[g.length-1]|0,I=this._countBits(S);m=26-I,m!==0&&(g=g.ushln(m),y.iushln(m),S=g.words[g.length-1]|0);var w=y.length-g.length,c;if(d!=="mod"){c=new s(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var $=y.clone()._ishlnsubmul(g,1,w);$.negative===0&&(y=$,c&&(c.words[w]=1));for(var H=w-1;H>=0;H--){var G=(y.words[g.length+H]|0)*67108864+(y.words[g.length+H-1]|0);for(G=Math.min(G/S|0,67108863),y._ishlnsubmul(g,G,H);y.negative!==0;)G--,y.negative=0,y._ishlnsubmul(g,1,H),y.isZero()||(y.negative^=1);c&&(c.words[H]=G)}return c&&c._strip(),y._strip(),d!=="div"&&m!==0&&y.iushrn(m),{div:c||null,mod:y}},s.prototype.divmod=function(a,d,m){if(n(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,g,S;return this.negative!==0&&a.negative===0?(S=this.neg().divmod(a,d),d!=="mod"&&(y=S.div.neg()),d!=="div"&&(g=S.mod.neg(),m&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(S=this.divmod(a.neg(),d),d!=="mod"&&(y=S.div.neg()),{div:y,mod:S.mod}):this.negative&a.negative?(S=this.neg().divmod(a.neg(),d),d!=="div"&&(g=S.mod.neg(),m&&g.negative!==0&&g.isub(a)),{div:S.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?d==="div"?{div:this.divn(a.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,d)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(a):d.mod,y=a.ushrn(1),g=a.andln(1),S=m.cmp(y);return S<0||g===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(a){var d=a<0;d&&(a=-a),n(a<=67108863);for(var m=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(m*y+(this.words[g]|0))%a;return d?-y:y},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var d=a<0;d&&(a=-a),n(a<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var g=(this.words[y]|0)+m*67108864;this.words[y]=g/a|0,m=g%a}return this._strip(),d?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var d=this,m=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var y=new s(1),g=new s(0),S=new s(0),I=new s(1),w=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++w;for(var c=m.clone(),_=d.clone();!d.isZero();){for(var $=0,H=1;!(d.words[0]&H)&&$<26;++$,H<<=1);if($>0)for(d.iushrn($);$-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(_)),y.iushrn(1),g.iushrn(1);for(var G=0,re=1;!(m.words[0]&re)&&G<26;++G,re<<=1);if(G>0)for(m.iushrn(G);G-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(c),I.isub(_)),S.iushrn(1),I.iushrn(1);d.cmp(m)>=0?(d.isub(m),y.isub(S),g.isub(I)):(m.isub(d),S.isub(y),I.isub(g))}return{a:S,b:I,gcd:m.iushln(w)}},s.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var d=this,m=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var y=new s(1),g=new s(0),S=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var I=0,w=1;!(d.words[0]&w)&&I<26;++I,w<<=1);if(I>0)for(d.iushrn(I);I-- >0;)y.isOdd()&&y.iadd(S),y.iushrn(1);for(var c=0,_=1;!(m.words[0]&_)&&c<26;++c,_<<=1);if(c>0)for(m.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);d.cmp(m)>=0?(d.isub(m),y.isub(g)):(m.isub(d),g.isub(y))}var $;return d.cmpn(1)===0?$=y:$=g,$.cmpn(0)<0&&$.iadd(a),$},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var y=0;d.isEven()&&m.isEven();y++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var g=d.cmp(m);if(g<0){var S=d;d=m,m=S}else if(g===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(y)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){n(typeof a=="number");var d=a%26,m=(a-d)/26,y=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var g=y,S=m;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var d=a<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(a=-a),n(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var d=this.ucmp(a);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,g=a.words[m]|0;if(y!==g){y<g?d=-1:y>g&&(d=1);break}}return d},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new V(a)},s.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function U(x,a){this.name=x,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},U.prototype.ireduce=function(a){var d=a,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var y=m<this.n?-1:d.ucmp(this.p);return y===0?(d.words[0]=0,d.length=1):y>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},U.prototype.split=function(a,d){a.iushrn(this.n,0,d)},U.prototype.imulK=function(a){return a.imul(this.k)};function L(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,U),L.prototype.split=function(a,d){for(var m=4194303,y=Math.min(a.length,9),g=0;g<y;g++)d.words[g]=a.words[g];if(d.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var S=a.words[9];for(d.words[d.length++]=S&m,g=10;g<a.length;g++){var I=a.words[g]|0;a.words[g-10]=(I&m)<<4|S>>>22,S=I}S>>>=22,a.words[g-10]=S,S===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var y=a.words[m]|0;d+=y*977,a.words[m]=d&67108863,d=y*64+(d/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function F(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,U);function W(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,U);function q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(q,U),q.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+d,g=y&67108863;y>>>=26,a.words[m]=g,d=y}return d!==0&&(a.words[a.length++]=d),a},s._prime=function(a){if(D[a])return D[a];var d;if(a==="k256")d=new L;else if(a==="p224")d=new F;else if(a==="p192")d=new W;else if(a==="p25519")d=new q;else throw new Error("Unknown prime "+a);return D[a]=d,d};function V(x){if(typeof x=="string"){var a=s._prime(x);this.m=a.p,this.prime=a}else n(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}V.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},V.prototype._verify2=function(a,d){n((a.negative|d.negative)===0,"red works only with positives"),n(a.red&&a.red===d.red,"red works only with red numbers")},V.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(p(a,a.umod(this.m)._forceRed(this)),a)},V.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},V.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},V.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},V.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},V.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},V.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},V.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},V.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},V.prototype.isqr=function(a){return this.imul(a,a.clone())},V.prototype.sqr=function(a){return this.mul(a,a)},V.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);n(!y.isZero());var S=new s(1).toRed(this),I=S.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,w).cmp(I)!==0;)c.redIAdd(I);for(var _=this.pow(c,y),$=this.pow(a,y.addn(1).iushrn(1)),H=this.pow(a,y),G=g;H.cmp(S)!==0;){for(var re=H,ie=0;re.cmp(S)!==0;ie++)re=re.redSqr();n(ie<G);var le=this.pow(_,new s(1).iushln(G-ie-1));$=$.redMul(le),_=le.redSqr(),H=H.redMul(_),G=ie}return $},V.prototype.invm=function(a){var d=a._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},V.prototype.pow=function(a,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new s(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var S=y[0],I=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),g=d.length-1;g>=0;g--){for(var _=d.words[g],$=c-1;$>=0;$--){var H=_>>$&1;if(S!==y[0]&&(S=this.sqr(S)),H===0&&I===0){w=0;continue}I<<=1,I|=H,w++,!(w!==m&&(g!==0||$!==0))&&(S=this.mul(S,y[I]),w=0,I=0)}c=26}return S},V.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},V.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},s.mont=function(a){return new K(a)};function K(x){V.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,V),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},K.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(y).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},K.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new s(0)._forceRed(this);var m=a.mul(d),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(y).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},K.prototype.invm=function(a){var d=this.imod(a._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,jn)})(W_);var Bz=W_.exports;const EN=fi(Bz);var sx={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Kd,n=r.Buffer;function i(o,l){for(var f in o)l[f]=o[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,l,f){return n(o,l,f)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,l,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,f)},s.alloc=function(o,l,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=n(o);return l!==void 0?typeof f=="string"?h.fill(l,f):h.fill(l):h.fill(0),h},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(sx,sx.exports);var $_=sx.exports,c0=$_.Buffer;function Uz(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,l=t.charAt(0),f=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function p(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=c0.from(b)),!c0.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var k=0,N=0,A=0,R=b.length;A!==R&&b[A]===0;)A++,k++;for(var T=(R-A)*h+1>>>0,C=new Uint8Array(T);A!==R;){for(var j=b[A],D=0,U=T-1;(j!==0||D<N)&&U!==-1;U--,D++)j+=256*C[U]>>>0,C[U]=j%o>>>0,j=j/o>>>0;if(j!==0)throw new Error("Non-zero carry");N=D,A++}for(var L=T-N;L!==T&&C[L]===0;)L++;for(var F=l.repeat(k);L<T;++L)F+=t.charAt(C[L]);return F}function v(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return c0.alloc(0);for(var k=0,N=0,A=0;b[k]===l;)N++,k++;for(var R=(b.length-k)*f+1>>>0,T=new Uint8Array(R);k<b.length;){var C=b.charCodeAt(k);if(C>255)return;var j=e[C];if(j===255)return;for(var D=0,U=R-1;(j!==0||D<A)&&U!==-1;U--,D++)j+=o*T[U]>>>0,T[U]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");A=D,k++}for(var L=R-A;L!==R&&T[L]===0;)L++;var F=c0.allocUnsafe(N+(R-L));F.fill(0,0,N);for(var W=N;L!==R;)F[W++]=T[L++];return F}function E(b){var k=v(b);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:v,decode:E}}var zz=Uz,Fz=zz,Wz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",$z=Fz(Wz);const mn=fi($z),NN=YT;var pn={},V_={exports:{}};V_.exports;(function(t){(function(e,r){function n(x,a){if(!x)throw new Error(a||"Assertion failed")}function i(x,a){x.super_=a;var d=function(){};d.prototype=a.prototype,x.prototype=new d,x.prototype.constructor=x}function s(x,a,d){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((a==="le"||a==="be")&&(d=a,a=10),this._init(x||0,a||10,d||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Kd.Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,d){return a.cmp(d)>0?a:d},s.min=function(a,d){return a.cmp(d)<0?a:d},s.prototype._init=function(a,d,m){if(typeof a=="number")return this._initNumber(a,d,m);if(typeof a=="object")return this._initArray(a,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(d===16?this._parseHex(a,y,m):(this._parseBase(a,d,y),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(a,d,m){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,S,I=0;if(m==="be")for(y=a.length-1,g=0;y>=0;y-=3)S=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(m==="le")for(y=0,g=0;y<a.length;y+=3)S=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this._strip()};function l(x,a){var d=x.charCodeAt(a);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+x)}function f(x,a,d){var m=l(x,d);return d-1>=a&&(m|=l(x,d-1)<<4),m}s.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,S=0,I;if(m==="be")for(y=a.length-1;y>=d;y-=2)I=f(a,d,y)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var w=a.length-d;for(y=w%2===0?d+1:d;y<a.length;y+=2)I=f(a,d,y)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this._strip()};function h(x,a,d,m){for(var y=0,g=0,S=Math.min(x.length,d),I=a;I<S;I++){var w=x.charCodeAt(I)-48;y*=m,w>=49?g=w-49+10:w>=17?g=w-17+10:g=w,n(w>=0&&g<m,"Invalid character"),y+=g}return y}s.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=d)y++;y--,g=g/d|0;for(var S=a.length-m,I=S%y,w=Math.min(S,S-I)+m,c=0,_=m;_<w;_+=y)c=h(a,_,_+y,d),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(I!==0){var $=1;for(c=h(a,_,a.length,d),_=0;_<I;_++)$*=d;this.imuln($),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red};function p(x,a){x.words=a.words,x.length=a.length,x.negative=a.negative,x.red=a.red}if(s.prototype._move=function(a){p(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,d){a=a||10,d=d|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,g=0,S=0;S<this.length;S++){var I=this.words[S],w=((I<<y|g)&16777215).toString(16);g=I>>>24-y&16777215,y+=2,y>=26&&(y-=26,S--),g!==0||S!==this.length-1?m=E[6-w.length]+w+m:m=w+m}for(g!==0&&(m=g.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var c=b[a],_=k[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var H=$.modrn(_).toString(a);$=$.idivn(_),$.isZero()?m=H+m:m=E[c-H.length]+H+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(a,d){return this.toArrayLike(o,a,d)}),s.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)};var N=function(a,d){return a.allocUnsafe?a.allocUnsafe(d):new a(d)};s.prototype.toArrayLike=function(a,d,m){this._strip();var y=this.byteLength(),g=m||Math.max(1,y);n(y<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0");var S=N(a,g),I=d==="le"?"LE":"BE";return this["_toArrayLike"+I](S,y),S},s.prototype._toArrayLikeLE=function(a,d){for(var m=0,y=0,g=0,S=0;g<this.length;g++){var I=this.words[g]<<S|y;a[m++]=I&255,m<a.length&&(a[m++]=I>>8&255),m<a.length&&(a[m++]=I>>16&255),S===6?(m<a.length&&(a[m++]=I>>24&255),y=0,S=0):(y=I>>>24,S+=2)}if(m<a.length)for(a[m++]=y;m<a.length;)a[m++]=0},s.prototype._toArrayLikeBE=function(a,d){for(var m=a.length-1,y=0,g=0,S=0;g<this.length;g++){var I=this.words[g]<<S|y;a[m--]=I&255,m>=0&&(a[m--]=I>>8&255),m>=0&&(a[m--]=I>>16&255),S===6?(m>=0&&(a[m--]=I>>24&255),y=0,S=0):(y=I>>>24,S+=2)}if(m>=0)for(a[m--]=y;m>=0;)a[m--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(a){if(a===0)return 26;var d=a,m=0;return d&8191||(m+=13,d>>>=13),d&127||(m+=7,d>>>=7),d&15||(m+=4,d>>>=4),d&3||(m+=2,d>>>=2),d&1||m++,m},s.prototype.bitLength=function(){var a=this.words[this.length-1],d=this._countBits(a);return(this.length-1)*26+d};function A(x){for(var a=new Array(x.bitLength()),d=0;d<a.length;d++){var m=d/26|0,y=d%26;a[d]=x.words[m]>>>y&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,m!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this._strip()},s.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var d;this.length>a.length?d=a:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this._strip()},s.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=d.words[y]^m.words[y];if(this!==d)for(;y<d.length;y++)this.words[y]=d.words[y];return this.length=d.length,this._strip()},s.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var d=Math.ceil(a/26)|0,m=a%26;this._expand(d),m>0&&d--;for(var y=0;y<d;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,d){n(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this._strip()},s.prototype.iadd=function(a){var d;if(this.negative!==0&&a.negative===0)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var g=0,S=0;S<y.length;S++)d=(m.words[S]|0)+(y.words[S]|0)+g,this.words[S]=d&67108863,g=d>>>26;for(;g!==0&&S<m.length;S++)d=(m.words[S]|0)+g,this.words[S]=d&67108863,g=d>>>26;if(this.length=m.length,g!==0)this.words[this.length]=g,this.length++;else if(m!==this)for(;S<m.length;S++)this.words[S]=m.words[S];return this},s.prototype.add=function(a){var d;return a.negative!==0&&this.negative===0?(a.negative=0,d=this.sub(a),a.negative^=1,d):a.negative===0&&this.negative!==0?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;m>0?(y=this,g=a):(y=a,g=this);for(var S=0,I=0;I<g.length;I++)d=(y.words[I]|0)-(g.words[I]|0)+S,S=d>>26,this.words[I]=d&67108863;for(;S!==0&&I<y.length;I++)d=(y.words[I]|0)+S,S=d>>26,this.words[I]=d&67108863;if(S===0&&I<y.length&&y!==this)for(;I<y.length;I++)this.words[I]=y.words[I];return this.length=Math.max(this.length,I),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function R(x,a,d){d.negative=a.negative^x.negative;var m=x.length+a.length|0;d.length=m,m=m-1|0;var y=x.words[0]|0,g=a.words[0]|0,S=y*g,I=S&67108863,w=S/67108864|0;d.words[0]=I;for(var c=1;c<m;c++){for(var _=w>>>26,$=w&67108863,H=Math.min(c,a.length-1),G=Math.max(0,c-x.length+1);G<=H;G++){var re=c-G|0;y=x.words[re]|0,g=a.words[G]|0,S=y*g+$,_+=S/67108864|0,$=S&67108863}d.words[c]=$|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d._strip()}var T=function(a,d,m){var y=a.words,g=d.words,S=m.words,I=0,w,c,_,$=y[0]|0,H=$&8191,G=$>>>13,re=y[1]|0,ie=re&8191,le=re>>>13,nt=y[2]|0,ue=nt&8191,de=nt>>>13,vt=y[3]|0,ye=vt&8191,be=vt>>>13,Ft=y[4]|0,_e=Ft&8191,Me=Ft>>>13,hr=y[5]|0,Te=hr&8191,ke=hr>>>13,Q=y[6]|0,Z=Q&8191,X=Q>>>13,Ie=y[7]|0,se=Ie&8191,ne=Ie>>>13,De=y[8]|0,he=De&8191,B=De>>>13,P=y[9]|0,O=P&8191,z=P>>>13,ee=g[0]|0,Y=ee&8191,te=ee>>>13,ht=g[1]|0,ve=ht&8191,we=ht>>>13,Pt=g[2]|0,ge=Pt&8191,Le=Pt>>>13,Wr=g[3]|0,Be=Wr&8191,fe=Wr>>>13,At=g[4]|0,xe=At&8191,Ae=At>>>13,vr=g[5]|0,je=vr&8191,Pe=vr>>>13,wr=g[6]|0,Oe=wr&8191,ze=wr>>>13,pi=g[7]|0,Fe=pi&8191,We=pi>>>13,mi=g[8]|0,$e=mi&8191,Ve=mi>>>13,gi=g[9]|0,He=gi&8191,Ke=gi>>>13;m.negative=a.negative^d.negative,m.length=19,w=Math.imul(H,Y),c=Math.imul(H,te),c=c+Math.imul(G,Y)|0,_=Math.imul(G,te);var Dn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,w=Math.imul(ie,Y),c=Math.imul(ie,te),c=c+Math.imul(le,Y)|0,_=Math.imul(le,te),w=w+Math.imul(H,ve)|0,c=c+Math.imul(H,we)|0,c=c+Math.imul(G,ve)|0,_=_+Math.imul(G,we)|0;var Bn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,w=Math.imul(ue,Y),c=Math.imul(ue,te),c=c+Math.imul(de,Y)|0,_=Math.imul(de,te),w=w+Math.imul(ie,ve)|0,c=c+Math.imul(ie,we)|0,c=c+Math.imul(le,ve)|0,_=_+Math.imul(le,we)|0,w=w+Math.imul(H,ge)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(G,ge)|0,_=_+Math.imul(G,Le)|0;var Un=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ye,Y),c=Math.imul(ye,te),c=c+Math.imul(be,Y)|0,_=Math.imul(be,te),w=w+Math.imul(ue,ve)|0,c=c+Math.imul(ue,we)|0,c=c+Math.imul(de,ve)|0,_=_+Math.imul(de,we)|0,w=w+Math.imul(ie,ge)|0,c=c+Math.imul(ie,Le)|0,c=c+Math.imul(le,ge)|0,_=_+Math.imul(le,Le)|0,w=w+Math.imul(H,Be)|0,c=c+Math.imul(H,fe)|0,c=c+Math.imul(G,Be)|0,_=_+Math.imul(G,fe)|0;var zn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(zn>>>26)|0,zn&=67108863,w=Math.imul(_e,Y),c=Math.imul(_e,te),c=c+Math.imul(Me,Y)|0,_=Math.imul(Me,te),w=w+Math.imul(ye,ve)|0,c=c+Math.imul(ye,we)|0,c=c+Math.imul(be,ve)|0,_=_+Math.imul(be,we)|0,w=w+Math.imul(ue,ge)|0,c=c+Math.imul(ue,Le)|0,c=c+Math.imul(de,ge)|0,_=_+Math.imul(de,Le)|0,w=w+Math.imul(ie,Be)|0,c=c+Math.imul(ie,fe)|0,c=c+Math.imul(le,Be)|0,_=_+Math.imul(le,fe)|0,w=w+Math.imul(H,xe)|0,c=c+Math.imul(H,Ae)|0,c=c+Math.imul(G,xe)|0,_=_+Math.imul(G,Ae)|0;var Fn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(Te,Y),c=Math.imul(Te,te),c=c+Math.imul(ke,Y)|0,_=Math.imul(ke,te),w=w+Math.imul(_e,ve)|0,c=c+Math.imul(_e,we)|0,c=c+Math.imul(Me,ve)|0,_=_+Math.imul(Me,we)|0,w=w+Math.imul(ye,ge)|0,c=c+Math.imul(ye,Le)|0,c=c+Math.imul(be,ge)|0,_=_+Math.imul(be,Le)|0,w=w+Math.imul(ue,Be)|0,c=c+Math.imul(ue,fe)|0,c=c+Math.imul(de,Be)|0,_=_+Math.imul(de,fe)|0,w=w+Math.imul(ie,xe)|0,c=c+Math.imul(ie,Ae)|0,c=c+Math.imul(le,xe)|0,_=_+Math.imul(le,Ae)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(G,je)|0,_=_+Math.imul(G,Pe)|0;var Wn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,w=Math.imul(Z,Y),c=Math.imul(Z,te),c=c+Math.imul(X,Y)|0,_=Math.imul(X,te),w=w+Math.imul(Te,ve)|0,c=c+Math.imul(Te,we)|0,c=c+Math.imul(ke,ve)|0,_=_+Math.imul(ke,we)|0,w=w+Math.imul(_e,ge)|0,c=c+Math.imul(_e,Le)|0,c=c+Math.imul(Me,ge)|0,_=_+Math.imul(Me,Le)|0,w=w+Math.imul(ye,Be)|0,c=c+Math.imul(ye,fe)|0,c=c+Math.imul(be,Be)|0,_=_+Math.imul(be,fe)|0,w=w+Math.imul(ue,xe)|0,c=c+Math.imul(ue,Ae)|0,c=c+Math.imul(de,xe)|0,_=_+Math.imul(de,Ae)|0,w=w+Math.imul(ie,je)|0,c=c+Math.imul(ie,Pe)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Pe)|0,w=w+Math.imul(H,Oe)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(G,Oe)|0,_=_+Math.imul(G,ze)|0;var $n=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(se,Y),c=Math.imul(se,te),c=c+Math.imul(ne,Y)|0,_=Math.imul(ne,te),w=w+Math.imul(Z,ve)|0,c=c+Math.imul(Z,we)|0,c=c+Math.imul(X,ve)|0,_=_+Math.imul(X,we)|0,w=w+Math.imul(Te,ge)|0,c=c+Math.imul(Te,Le)|0,c=c+Math.imul(ke,ge)|0,_=_+Math.imul(ke,Le)|0,w=w+Math.imul(_e,Be)|0,c=c+Math.imul(_e,fe)|0,c=c+Math.imul(Me,Be)|0,_=_+Math.imul(Me,fe)|0,w=w+Math.imul(ye,xe)|0,c=c+Math.imul(ye,Ae)|0,c=c+Math.imul(be,xe)|0,_=_+Math.imul(be,Ae)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Pe)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Pe)|0,w=w+Math.imul(ie,Oe)|0,c=c+Math.imul(ie,ze)|0,c=c+Math.imul(le,Oe)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(H,Fe)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(G,Fe)|0,_=_+Math.imul(G,We)|0;var Vn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(he,Y),c=Math.imul(he,te),c=c+Math.imul(B,Y)|0,_=Math.imul(B,te),w=w+Math.imul(se,ve)|0,c=c+Math.imul(se,we)|0,c=c+Math.imul(ne,ve)|0,_=_+Math.imul(ne,we)|0,w=w+Math.imul(Z,ge)|0,c=c+Math.imul(Z,Le)|0,c=c+Math.imul(X,ge)|0,_=_+Math.imul(X,Le)|0,w=w+Math.imul(Te,Be)|0,c=c+Math.imul(Te,fe)|0,c=c+Math.imul(ke,Be)|0,_=_+Math.imul(ke,fe)|0,w=w+Math.imul(_e,xe)|0,c=c+Math.imul(_e,Ae)|0,c=c+Math.imul(Me,xe)|0,_=_+Math.imul(Me,Ae)|0,w=w+Math.imul(ye,je)|0,c=c+Math.imul(ye,Pe)|0,c=c+Math.imul(be,je)|0,_=_+Math.imul(be,Pe)|0,w=w+Math.imul(ue,Oe)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(de,Oe)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ie,Fe)|0,c=c+Math.imul(ie,We)|0,c=c+Math.imul(le,Fe)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(G,$e)|0,_=_+Math.imul(G,Ve)|0;var Hn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,w=Math.imul(O,Y),c=Math.imul(O,te),c=c+Math.imul(z,Y)|0,_=Math.imul(z,te),w=w+Math.imul(he,ve)|0,c=c+Math.imul(he,we)|0,c=c+Math.imul(B,ve)|0,_=_+Math.imul(B,we)|0,w=w+Math.imul(se,ge)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(ne,ge)|0,_=_+Math.imul(ne,Le)|0,w=w+Math.imul(Z,Be)|0,c=c+Math.imul(Z,fe)|0,c=c+Math.imul(X,Be)|0,_=_+Math.imul(X,fe)|0,w=w+Math.imul(Te,xe)|0,c=c+Math.imul(Te,Ae)|0,c=c+Math.imul(ke,xe)|0,_=_+Math.imul(ke,Ae)|0,w=w+Math.imul(_e,je)|0,c=c+Math.imul(_e,Pe)|0,c=c+Math.imul(Me,je)|0,_=_+Math.imul(Me,Pe)|0,w=w+Math.imul(ye,Oe)|0,c=c+Math.imul(ye,ze)|0,c=c+Math.imul(be,Oe)|0,_=_+Math.imul(be,ze)|0,w=w+Math.imul(ue,Fe)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(de,Fe)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ie,$e)|0,c=c+Math.imul(ie,Ve)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(H,He)|0,c=c+Math.imul(H,Ke)|0,c=c+Math.imul(G,He)|0,_=_+Math.imul(G,Ke)|0;var Kn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,w=Math.imul(O,ve),c=Math.imul(O,we),c=c+Math.imul(z,ve)|0,_=Math.imul(z,we),w=w+Math.imul(he,ge)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(B,ge)|0,_=_+Math.imul(B,Le)|0,w=w+Math.imul(se,Be)|0,c=c+Math.imul(se,fe)|0,c=c+Math.imul(ne,Be)|0,_=_+Math.imul(ne,fe)|0,w=w+Math.imul(Z,xe)|0,c=c+Math.imul(Z,Ae)|0,c=c+Math.imul(X,xe)|0,_=_+Math.imul(X,Ae)|0,w=w+Math.imul(Te,je)|0,c=c+Math.imul(Te,Pe)|0,c=c+Math.imul(ke,je)|0,_=_+Math.imul(ke,Pe)|0,w=w+Math.imul(_e,Oe)|0,c=c+Math.imul(_e,ze)|0,c=c+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(ye,Fe)|0,c=c+Math.imul(ye,We)|0,c=c+Math.imul(be,Fe)|0,_=_+Math.imul(be,We)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ie,He)|0,c=c+Math.imul(ie,Ke)|0,c=c+Math.imul(le,He)|0,_=_+Math.imul(le,Ke)|0;var qn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,w=Math.imul(O,ge),c=Math.imul(O,Le),c=c+Math.imul(z,ge)|0,_=Math.imul(z,Le),w=w+Math.imul(he,Be)|0,c=c+Math.imul(he,fe)|0,c=c+Math.imul(B,Be)|0,_=_+Math.imul(B,fe)|0,w=w+Math.imul(se,xe)|0,c=c+Math.imul(se,Ae)|0,c=c+Math.imul(ne,xe)|0,_=_+Math.imul(ne,Ae)|0,w=w+Math.imul(Z,je)|0,c=c+Math.imul(Z,Pe)|0,c=c+Math.imul(X,je)|0,_=_+Math.imul(X,Pe)|0,w=w+Math.imul(Te,Oe)|0,c=c+Math.imul(Te,ze)|0,c=c+Math.imul(ke,Oe)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(_e,Fe)|0,c=c+Math.imul(_e,We)|0,c=c+Math.imul(Me,Fe)|0,_=_+Math.imul(Me,We)|0,w=w+Math.imul(ye,$e)|0,c=c+Math.imul(ye,Ve)|0,c=c+Math.imul(be,$e)|0,_=_+Math.imul(be,Ve)|0,w=w+Math.imul(ue,He)|0,c=c+Math.imul(ue,Ke)|0,c=c+Math.imul(de,He)|0,_=_+Math.imul(de,Ke)|0;var Gn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(O,Be),c=Math.imul(O,fe),c=c+Math.imul(z,Be)|0,_=Math.imul(z,fe),w=w+Math.imul(he,xe)|0,c=c+Math.imul(he,Ae)|0,c=c+Math.imul(B,xe)|0,_=_+Math.imul(B,Ae)|0,w=w+Math.imul(se,je)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(ne,je)|0,_=_+Math.imul(ne,Pe)|0,w=w+Math.imul(Z,Oe)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(X,Oe)|0,_=_+Math.imul(X,ze)|0,w=w+Math.imul(Te,Fe)|0,c=c+Math.imul(Te,We)|0,c=c+Math.imul(ke,Fe)|0,_=_+Math.imul(ke,We)|0,w=w+Math.imul(_e,$e)|0,c=c+Math.imul(_e,Ve)|0,c=c+Math.imul(Me,$e)|0,_=_+Math.imul(Me,Ve)|0,w=w+Math.imul(ye,He)|0,c=c+Math.imul(ye,Ke)|0,c=c+Math.imul(be,He)|0,_=_+Math.imul(be,Ke)|0;var Zn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(O,xe),c=Math.imul(O,Ae),c=c+Math.imul(z,xe)|0,_=Math.imul(z,Ae),w=w+Math.imul(he,je)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(B,je)|0,_=_+Math.imul(B,Pe)|0,w=w+Math.imul(se,Oe)|0,c=c+Math.imul(se,ze)|0,c=c+Math.imul(ne,Oe)|0,_=_+Math.imul(ne,ze)|0,w=w+Math.imul(Z,Fe)|0,c=c+Math.imul(Z,We)|0,c=c+Math.imul(X,Fe)|0,_=_+Math.imul(X,We)|0,w=w+Math.imul(Te,$e)|0,c=c+Math.imul(Te,Ve)|0,c=c+Math.imul(ke,$e)|0,_=_+Math.imul(ke,Ve)|0,w=w+Math.imul(_e,He)|0,c=c+Math.imul(_e,Ke)|0,c=c+Math.imul(Me,He)|0,_=_+Math.imul(Me,Ke)|0;var Yn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(O,je),c=Math.imul(O,Pe),c=c+Math.imul(z,je)|0,_=Math.imul(z,Pe),w=w+Math.imul(he,Oe)|0,c=c+Math.imul(he,ze)|0,c=c+Math.imul(B,Oe)|0,_=_+Math.imul(B,ze)|0,w=w+Math.imul(se,Fe)|0,c=c+Math.imul(se,We)|0,c=c+Math.imul(ne,Fe)|0,_=_+Math.imul(ne,We)|0,w=w+Math.imul(Z,$e)|0,c=c+Math.imul(Z,Ve)|0,c=c+Math.imul(X,$e)|0,_=_+Math.imul(X,Ve)|0,w=w+Math.imul(Te,He)|0,c=c+Math.imul(Te,Ke)|0,c=c+Math.imul(ke,He)|0,_=_+Math.imul(ke,Ke)|0;var Qn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(O,Oe),c=Math.imul(O,ze),c=c+Math.imul(z,Oe)|0,_=Math.imul(z,ze),w=w+Math.imul(he,Fe)|0,c=c+Math.imul(he,We)|0,c=c+Math.imul(B,Fe)|0,_=_+Math.imul(B,We)|0,w=w+Math.imul(se,$e)|0,c=c+Math.imul(se,Ve)|0,c=c+Math.imul(ne,$e)|0,_=_+Math.imul(ne,Ve)|0,w=w+Math.imul(Z,He)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(X,He)|0,_=_+Math.imul(X,Ke)|0;var Jn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,w=Math.imul(O,Fe),c=Math.imul(O,We),c=c+Math.imul(z,Fe)|0,_=Math.imul(z,We),w=w+Math.imul(he,$e)|0,c=c+Math.imul(he,Ve)|0,c=c+Math.imul(B,$e)|0,_=_+Math.imul(B,Ve)|0,w=w+Math.imul(se,He)|0,c=c+Math.imul(se,Ke)|0,c=c+Math.imul(ne,He)|0,_=_+Math.imul(ne,Ke)|0;var Xn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(O,$e),c=Math.imul(O,Ve),c=c+Math.imul(z,$e)|0,_=Math.imul(z,Ve),w=w+Math.imul(he,He)|0,c=c+Math.imul(he,Ke)|0,c=c+Math.imul(B,He)|0,_=_+Math.imul(B,Ke)|0;var es=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(es>>>26)|0,es&=67108863,w=Math.imul(O,He),c=Math.imul(O,Ke),c=c+Math.imul(z,He)|0,_=Math.imul(z,Ke);var ts=(I+w|0)+((c&8191)<<13)|0;return I=(_+(c>>>13)|0)+(ts>>>26)|0,ts&=67108863,S[0]=Dn,S[1]=Bn,S[2]=Un,S[3]=zn,S[4]=Fn,S[5]=Wn,S[6]=$n,S[7]=Vn,S[8]=Hn,S[9]=Kn,S[10]=qn,S[11]=Gn,S[12]=Zn,S[13]=Yn,S[14]=Qn,S[15]=Jn,S[16]=Xn,S[17]=es,S[18]=ts,I!==0&&(S[19]=I,m.length++),m};Math.imul||(T=R);function C(x,a,d){d.negative=a.negative^x.negative,d.length=x.length+a.length;for(var m=0,y=0,g=0;g<d.length-1;g++){var S=y;y=0;for(var I=m&67108863,w=Math.min(g,a.length-1),c=Math.max(0,g-x.length+1);c<=w;c++){var _=g-c,$=x.words[_]|0,H=a.words[c]|0,G=$*H,re=G&67108863;S=S+(G/67108864|0)|0,re=re+I|0,I=re&67108863,S=S+(re>>>26)|0,y+=S>>>26,S&=67108863}d.words[g]=I,m=S,S=y}return m!==0?d.words[g]=m:d.length--,d._strip()}function j(x,a,d){return C(x,a,d)}s.prototype.mulTo=function(a,d){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=T(this,a,d):y<63?m=R(this,a,d):y<1024?m=C(this,a,d):m=j(this,a,d),m},s.prototype.mul=function(a){var d=new s(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},s.prototype.mulf=function(a){var d=new s(null);return d.words=new Array(this.length+a.length),j(this,a,d)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var d=a<0;d&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var m=0,y=0;y<this.length;y++){var g=(this.words[y]|0)*a,S=(g&67108863)+(m&67108863);m>>=26,m+=g/67108864|0,m+=S>>>26,this.words[y]=S&67108863}return m!==0&&(this.words[y]=m,this.length++),this.length=a===0?1:this.length,d?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var d=A(a);if(d.length===0)return new s(1);for(var m=this,y=0;y<d.length&&d[y]===0;y++,m=m.sqr());if(++y<d.length)for(var g=m.sqr();y<d.length;y++,g=g.sqr())d[y]!==0&&(m=m.mul(g));return m},s.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26,y=67108863>>>26-d<<26-d,g;if(d!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&y,w=(this.words[g]|0)-I<<d;this.words[g]=w|S,S=I>>>26-d}S&&(this.words[g]=S,this.length++)}if(m!==0){for(g=this.length-1;g>=0;g--)this.words[g+m]=this.words[g];for(g=0;g<m;g++)this.words[g]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,d,m){n(typeof a=="number"&&a>=0);var y;d?y=(d-d%26)/26:y=0;var g=a%26,S=Math.min((a-g)/26,this.length),I=67108863^67108863>>>g<<g,w=m;if(y-=S,y=Math.max(0,y),w){for(var c=0;c<S;c++)w.words[c]=this.words[c];w.length=S}if(S!==0)if(this.length>S)for(this.length-=S,c=0;c<this.length;c++)this.words[c]=this.words[c+S];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=y);c--){var $=this.words[c]|0;this.words[c]=_<<26-g|$>>>g,_=$&I}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,d,m){return n(this.negative===0),this.iushrn(a,d,m)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26,y=1<<d;if(this.length<=m)return!1;var g=this.words[m];return!!(g&y)},s.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var y=67108863^67108863>>>d<<d;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,d,m){var y=a.length+m,g;this._expand(y);var S,I=0;for(g=0;g<a.length;g++){S=(this.words[g+m]|0)+I;var w=(a.words[g]|0)*d;S-=w&67108863,I=(S>>26)-(w/67108864|0),this.words[g+m]=S&67108863}for(;g<this.length-m;g++)S=(this.words[g+m]|0)+I,I=S>>26,this.words[g+m]=S&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,d){var m=this.length-a.length,y=this.clone(),g=a,S=g.words[g.length-1]|0,I=this._countBits(S);m=26-I,m!==0&&(g=g.ushln(m),y.iushln(m),S=g.words[g.length-1]|0);var w=y.length-g.length,c;if(d!=="mod"){c=new s(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var $=y.clone()._ishlnsubmul(g,1,w);$.negative===0&&(y=$,c&&(c.words[w]=1));for(var H=w-1;H>=0;H--){var G=(y.words[g.length+H]|0)*67108864+(y.words[g.length+H-1]|0);for(G=Math.min(G/S|0,67108863),y._ishlnsubmul(g,G,H);y.negative!==0;)G--,y.negative=0,y._ishlnsubmul(g,1,H),y.isZero()||(y.negative^=1);c&&(c.words[H]=G)}return c&&c._strip(),y._strip(),d!=="div"&&m!==0&&y.iushrn(m),{div:c||null,mod:y}},s.prototype.divmod=function(a,d,m){if(n(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,g,S;return this.negative!==0&&a.negative===0?(S=this.neg().divmod(a,d),d!=="mod"&&(y=S.div.neg()),d!=="div"&&(g=S.mod.neg(),m&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(S=this.divmod(a.neg(),d),d!=="mod"&&(y=S.div.neg()),{div:y,mod:S.mod}):this.negative&a.negative?(S=this.neg().divmod(a.neg(),d),d!=="div"&&(g=S.mod.neg(),m&&g.negative!==0&&g.isub(a)),{div:S.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?d==="div"?{div:this.divn(a.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,d)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(a):d.mod,y=a.ushrn(1),g=a.andln(1),S=m.cmp(y);return S<0||g===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(a){var d=a<0;d&&(a=-a),n(a<=67108863);for(var m=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(m*y+(this.words[g]|0))%a;return d?-y:y},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var d=a<0;d&&(a=-a),n(a<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var g=(this.words[y]|0)+m*67108864;this.words[y]=g/a|0,m=g%a}return this._strip(),d?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var d=this,m=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var y=new s(1),g=new s(0),S=new s(0),I=new s(1),w=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++w;for(var c=m.clone(),_=d.clone();!d.isZero();){for(var $=0,H=1;!(d.words[0]&H)&&$<26;++$,H<<=1);if($>0)for(d.iushrn($);$-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(_)),y.iushrn(1),g.iushrn(1);for(var G=0,re=1;!(m.words[0]&re)&&G<26;++G,re<<=1);if(G>0)for(m.iushrn(G);G-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(c),I.isub(_)),S.iushrn(1),I.iushrn(1);d.cmp(m)>=0?(d.isub(m),y.isub(S),g.isub(I)):(m.isub(d),S.isub(y),I.isub(g))}return{a:S,b:I,gcd:m.iushln(w)}},s.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var d=this,m=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var y=new s(1),g=new s(0),S=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var I=0,w=1;!(d.words[0]&w)&&I<26;++I,w<<=1);if(I>0)for(d.iushrn(I);I-- >0;)y.isOdd()&&y.iadd(S),y.iushrn(1);for(var c=0,_=1;!(m.words[0]&_)&&c<26;++c,_<<=1);if(c>0)for(m.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);d.cmp(m)>=0?(d.isub(m),y.isub(g)):(m.isub(d),g.isub(y))}var $;return d.cmpn(1)===0?$=y:$=g,$.cmpn(0)<0&&$.iadd(a),$},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var y=0;d.isEven()&&m.isEven();y++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var g=d.cmp(m);if(g<0){var S=d;d=m,m=S}else if(g===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(y)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){n(typeof a=="number");var d=a%26,m=(a-d)/26,y=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var g=y,S=m;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var d=a<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(a=-a),n(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var d=this.ucmp(a);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,g=a.words[m]|0;if(y!==g){y<g?d=-1:y>g&&(d=1);break}}return d},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new V(a)},s.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function U(x,a){this.name=x,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},U.prototype.ireduce=function(a){var d=a,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var y=m<this.n?-1:d.ucmp(this.p);return y===0?(d.words[0]=0,d.length=1):y>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},U.prototype.split=function(a,d){a.iushrn(this.n,0,d)},U.prototype.imulK=function(a){return a.imul(this.k)};function L(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,U),L.prototype.split=function(a,d){for(var m=4194303,y=Math.min(a.length,9),g=0;g<y;g++)d.words[g]=a.words[g];if(d.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var S=a.words[9];for(d.words[d.length++]=S&m,g=10;g<a.length;g++){var I=a.words[g]|0;a.words[g-10]=(I&m)<<4|S>>>22,S=I}S>>>=22,a.words[g-10]=S,S===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var y=a.words[m]|0;d+=y*977,a.words[m]=d&67108863,d=y*64+(d/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function F(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,U);function W(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,U);function q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(q,U),q.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+d,g=y&67108863;y>>>=26,a.words[m]=g,d=y}return d!==0&&(a.words[a.length++]=d),a},s._prime=function(a){if(D[a])return D[a];var d;if(a==="k256")d=new L;else if(a==="p224")d=new F;else if(a==="p192")d=new W;else if(a==="p25519")d=new q;else throw new Error("Unknown prime "+a);return D[a]=d,d};function V(x){if(typeof x=="string"){var a=s._prime(x);this.m=a.p,this.prime=a}else n(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}V.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},V.prototype._verify2=function(a,d){n((a.negative|d.negative)===0,"red works only with positives"),n(a.red&&a.red===d.red,"red works only with red numbers")},V.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(p(a,a.umod(this.m)._forceRed(this)),a)},V.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},V.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},V.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},V.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},V.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},V.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},V.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},V.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},V.prototype.isqr=function(a){return this.imul(a,a.clone())},V.prototype.sqr=function(a){return this.mul(a,a)},V.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);n(!y.isZero());var S=new s(1).toRed(this),I=S.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,w).cmp(I)!==0;)c.redIAdd(I);for(var _=this.pow(c,y),$=this.pow(a,y.addn(1).iushrn(1)),H=this.pow(a,y),G=g;H.cmp(S)!==0;){for(var re=H,ie=0;re.cmp(S)!==0;ie++)re=re.redSqr();n(ie<G);var le=this.pow(_,new s(1).iushln(G-ie-1));$=$.redMul(le),_=le.redSqr(),H=H.redMul(_),G=ie}return $},V.prototype.invm=function(a){var d=a._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},V.prototype.pow=function(a,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new s(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var S=y[0],I=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),g=d.length-1;g>=0;g--){for(var _=d.words[g],$=c-1;$>=0;$--){var H=_>>$&1;if(S!==y[0]&&(S=this.sqr(S)),H===0&&I===0){w=0;continue}I<<=1,I|=H,w++,!(w!==m&&(g!==0||$!==0))&&(S=this.mul(S,y[I]),w=0,I=0)}c=26}return S},V.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},V.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},s.mont=function(a){return new K(a)};function K(x){V.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,V),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},K.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(y).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},K.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new s(0)._forceRed(this);var m=a.mul(d),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(y).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},K.prototype.invm=function(a){var d=this.imod(a._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,jn)})(V_);var Vz=V_.exports,u0=$_.Buffer;function Hz(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,l=t.charAt(0),f=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function p(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=u0.from(b)),!u0.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var k=0,N=0,A=0,R=b.length;A!==R&&b[A]===0;)A++,k++;for(var T=(R-A)*h+1>>>0,C=new Uint8Array(T);A!==R;){for(var j=b[A],D=0,U=T-1;(j!==0||D<N)&&U!==-1;U--,D++)j+=256*C[U]>>>0,C[U]=j%o>>>0,j=j/o>>>0;if(j!==0)throw new Error("Non-zero carry");N=D,A++}for(var L=T-N;L!==T&&C[L]===0;)L++;for(var F=l.repeat(k);L<T;++L)F+=t.charAt(C[L]);return F}function v(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return u0.alloc(0);for(var k=0,N=0,A=0;b[k]===l;)N++,k++;for(var R=(b.length-k)*f+1>>>0,T=new Uint8Array(R);k<b.length;){var C=b.charCodeAt(k);if(C>255)return;var j=e[C];if(j===255)return;for(var D=0,U=R-1;(j!==0||D<A)&&U!==-1;U--,D++)j+=o*T[U]>>>0,T[U]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");A=D,k++}for(var L=R-A;L!==R&&T[L]===0;)L++;var F=u0.allocUnsafe(N+(R-L));F.fill(0,0,N);for(var W=N;L!==R;)F[W++]=T[L++];return F}function E(b){var k=v(b);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:v,decode:E}}var Kz=Hz,qz=Kz,Gz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Zz=qz(Gz);function $o(t,e,r){return e<=t&&t<=r}function ny(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Yz(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var l=s&1023,f=o&1023;i.push(65536+(l<<10)+f),n+=1}else i.push(65533)}n+=1}return i}function Qz(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var Km=-1;function H_(t){this.tokens=[].slice.call(t)}H_.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Km},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var _d=-1;function Xv(t,e){if(t)throw TypeError("Decoder error");return e||65533}var qm="utf-8";function Gm(t,e){if(!(this instanceof Gm))return new Gm(t,e);if(t=t!==void 0?String(t).toLowerCase():qm,t!==qm)throw new Error("Encoding not supported. Only utf-8 is supported");e=ny(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Gm.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=ny(r),this._streaming||(this._decoder=new Jz({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new H_(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==_d);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===_d)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),Qz(s)}};function Zm(t,e){if(!(this instanceof Zm))return new Zm(t,e);if(t=t!==void 0?String(t).toLowerCase():qm,t!==qm)throw new Error("Encoding not supported. Only utf-8 is supported");e=ny(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Zm.prototype={encode:function(e,r){e=e?String(e):"",r=ny(r),this._streaming||(this._encoder=new Xz(this._options)),this._streaming=!!r.stream;for(var n=[],i=new H_(Yz(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==_d);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==_d;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function Jz(t){var e=t.fatal,r=0,n=0,i=0,s=128,o=191;this.handler=function(l,f){if(f===Km&&i!==0)return i=0,Xv(e);if(f===Km)return _d;if(i===0){if($o(f,0,127))return f;if($o(f,194,223))i=1,r=f-192;else if($o(f,224,239))f===224&&(s=160),f===237&&(o=159),i=2,r=f-224;else if($o(f,240,244))f===240&&(s=144),f===244&&(o=143),i=3,r=f-240;else return Xv(e);return r=r<<6*i,null}if(!$o(f,s,o))return r=i=n=0,s=128,o=191,l.prepend(f),Xv(e);if(s=128,o=191,n+=1,r+=f-128<<6*(i-n),n!==i)return null;var h=r;return r=i=n=0,h}}function Xz(t){t.fatal,this.handler=function(e,r){if(r===Km)return _d;if($o(r,0,127))return r;var n,i;$o(r,128,2047)?(n=1,i=192):$o(r,2048,65535)?(n=2,i=224):$o(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);s.push(128|o&63),n-=1}return s}}const eF=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Gm,TextEncoder:Zm},Symbol.toStringTag,{value:"Module"})),tF=Dg(eF);var rF=jn&&jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nF=jn&&jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xo=jn&&jn.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},sF=jn&&jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&rF(e,t,r);return nF(e,t),e},oI=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pn,"__esModule",{value:!0});var aI=pn.deserializeUnchecked=hI=pn.deserialize=fI=pn.serialize=pn.BinaryReader=pn.BinaryWriter=pn.BorshError=pn.baseDecode=pn.baseEncode=void 0;const qa=oI(Vz),lI=oI(Zz),iF=sF(tF),oF=typeof TextDecoder!="function"?iF.TextDecoder:TextDecoder,aF=new oF("utf-8",{fatal:!0});function lF(t){return typeof t=="string"&&(t=xt.from(t,"utf8")),lI.default.encode(xt.from(t))}pn.baseEncode=lF;function cF(t){return xt.from(lI.default.decode(t))}pn.baseDecode=cF;const ew=1024;class us extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}pn.BorshError=us;class cI{constructor(){this.buf=xt.alloc(ew),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=xt.concat([this.buf,xt.alloc(ew)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(xt.from(new qa.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(xt.from(new qa.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(xt.from(new qa.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(xt.from(new qa.default(e).toArray("le",64)))}writeBuffer(e){this.buf=xt.concat([xt.from(this.buf.subarray(0,this.length)),e,xt.alloc(ew)]),this.length+=e.length}writeString(e){this.maybeResize();const r=xt.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(xt.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}pn.BinaryWriter=cI;function bo(t,e,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new us("Reached the end of buffer when deserializing")}throw s}}}class Ks{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new qa.default(e,"le")}readU128(){const e=this.readBuffer(16);return new qa.default(e,"le")}readU256(){const e=this.readBuffer(32);return new qa.default(e,"le")}readU512(){const e=this.readBuffer(64);return new qa.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new us(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return aF.decode(r)}catch(n){throw new us(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}}xo([bo],Ks.prototype,"readU8",null);xo([bo],Ks.prototype,"readU16",null);xo([bo],Ks.prototype,"readU32",null);xo([bo],Ks.prototype,"readU64",null);xo([bo],Ks.prototype,"readU128",null);xo([bo],Ks.prototype,"readU256",null);xo([bo],Ks.prototype,"readU512",null);xo([bo],Ks.prototype,"readString",null);xo([bo],Ks.prototype,"readFixedArray",null);xo([bo],Ks.prototype,"readArray",null);pn.BinaryReader=Ks;function uI(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ql(t,e,r,n,i){try{if(typeof n=="string")i[`write${uI(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new us(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new us(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)ql(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{ql(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),ql(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,o)=>{ql(t,e,o,n.key,i),ql(t,e,s,n.value,i)});break}default:throw new us(`FieldType ${n} unrecognized`)}else dI(t,r,i)}catch(s){throw s instanceof us&&s.addToFieldPath(e),s}}function dI(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new us(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{ql(t,i,e[i],s,r)});else if(n.kind==="enum"){const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,l]=n.values[s];if(o===i){r.writeU8(s),ql(t,o,e[o],l,r);break}}}else throw new us(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function uF(t,e,r=cI){const n=new r;return dI(t,e,n),n.toArray()}var fI=pn.serialize=uF;function Gl(t,e,r,n){try{if(typeof r=="string")return n[`read${uI(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(Gl(t,null,r[0],n));return i}else return n.readArray(()=>Gl(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Gl(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const l=Gl(t,e,r.key,n),f=Gl(t,e,r.value,n);i.set(l,f)}return i}return K_(t,r,n)}catch(i){throw i instanceof us&&i.addToFieldPath(e),i}}function K_(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new us(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Gl(t,s,o,r);return new e(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new us(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],l=Gl(t,s,o,r);return new e({[s]:l})}throw new us(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function dF(t,e,r,n=Ks){const i=new n(r),s=K_(t,e,i);if(i.offset<r.length)throw new us(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var hI=pn.deserialize=dF;function fF(t,e,r,n=Ks){const i=new n(r);return K_(t,e,i)}aI=pn.deserializeUnchecked=fF;var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.s16=ce.s8=ce.nu64be=ce.u48be=ce.u40be=ce.u32be=ce.u24be=ce.u16be=dn=ce.nu64=ce.u48=ce.u40=ot=ce.u32=ce.u24=Xs=ce.u16=Wt=ce.u8=ul=ce.offset=ce.greedy=ce.Constant=ce.UTF8=ce.CString=ce.Blob=ce.Boolean=ce.BitField=ce.BitStructure=ce.VariantLayout=ce.Union=ce.UnionLayoutDiscriminator=ce.UnionDiscriminator=ce.Structure=ce.Sequence=ce.DoubleBE=ce.Double=ce.FloatBE=ce.Float=ce.NearInt64BE=ce.NearInt64=ce.NearUInt64BE=ce.NearUInt64=ce.IntBE=ce.Int=ce.UIntBE=ce.UInt=ce.OffsetLayout=ce.GreedyCount=ce.ExternalLayout=ce.bindConstructorLayout=ce.nameWithProperty=ce.Layout=ce.uint8ArrayToBuffer=ce.checkUint8Array=void 0;ce.constant=ce.utf8=ce.cstr=ur=ce.blob=ce.unionLayoutDiscriminator=ce.union=gn=ce.seq=ce.bits=at=ce.struct=ce.f64be=ce.f64=ce.f32be=ce.f32=ce.ns64be=ce.s48be=ce.s40be=ce.s32be=ce.s24be=ce.s16be=Ps=ce.ns64=ce.s48=ce.s40=ce.s32=ce.s24=void 0;const q_=Kd;function qd(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ce.checkUint8Array=qd;function Zt(t){return qd(t),q_.Buffer.from(t.buffer,t.byteOffset,t.length)}ce.uint8ArrayToBuffer=Zt;let tr=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};ce.Layout=tr;function G_(t,e){return e.property?t+"["+e.property+"]":t}ce.nameWithProperty=G_;function hF(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof tr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}ce.bindConstructorLayout=hF;let Ss=class extends tr{isCount(){throw new Error("ExternalLayout is abstract")}};ce.ExternalLayout=Ss;let pI=class extends Ss{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){qd(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};ce.GreedyCount=pI;let Z_=class extends Ss{constructor(e,r=0,n){if(!(e instanceof tr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof ii||this.layout instanceof Li}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};ce.OffsetLayout=Z_;let ii=class extends tr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Zt(e).readUIntLE(r,this.span)}encode(e,r,n=0){return Zt(r).writeUIntLE(e,n,this.span),this.span}};ce.UInt=ii;let Li=class extends tr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Zt(e).readUIntBE(r,this.span)}encode(e,r,n=0){return Zt(r).writeUIntBE(e,n,this.span),this.span}};ce.UIntBE=Li;let Hc=class extends tr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Zt(e).readIntLE(r,this.span)}encode(e,r,n=0){return Zt(r).writeIntLE(e,n,this.span),this.span}};ce.Int=Hc;let Gd=class extends tr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Zt(e).readIntBE(r,this.span)}encode(e,r,n=0){return Zt(r).writeIntBE(e,n,this.span),this.span}};ce.IntBE=Gd;const ix=Math.pow(2,32);function sy(t){const e=Math.floor(t/ix),r=t-e*ix;return{hi32:e,lo32:r}}function iy(t,e){return t*ix+e}let mI=class extends tr{constructor(e){super(8,e)}decode(e,r=0){const n=Zt(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return iy(s,i)}encode(e,r,n=0){const i=sy(e),s=Zt(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};ce.NearUInt64=mI;let gI=class extends tr{constructor(e){super(8,e)}decode(e,r=0){const n=Zt(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return iy(i,s)}encode(e,r,n=0){const i=sy(e),s=Zt(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};ce.NearUInt64BE=gI;let yI=class extends tr{constructor(e){super(8,e)}decode(e,r=0){const n=Zt(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return iy(s,i)}encode(e,r,n=0){const i=sy(e),s=Zt(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};ce.NearInt64=yI;let vI=class extends tr{constructor(e){super(8,e)}decode(e,r=0){const n=Zt(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return iy(i,s)}encode(e,r,n=0){const i=sy(e),s=Zt(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};ce.NearInt64BE=vI;let wI=class extends tr{constructor(e){super(4,e)}decode(e,r=0){return Zt(e).readFloatLE(r)}encode(e,r,n=0){return Zt(r).writeFloatLE(e,n),4}};ce.Float=wI;let xI=class extends tr{constructor(e){super(4,e)}decode(e,r=0){return Zt(e).readFloatBE(r)}encode(e,r,n=0){return Zt(r).writeFloatBE(e,n),4}};ce.FloatBE=xI;let bI=class extends tr{constructor(e){super(8,e)}decode(e,r=0){return Zt(e).readDoubleLE(r)}encode(e,r,n=0){return Zt(r).writeDoubleLE(e,n),8}};ce.Double=bI;let _I=class extends tr{constructor(e){super(8,e)}decode(e,r=0){return Zt(e).readDoubleBE(r)}encode(e,r,n=0){return Zt(r).writeDoubleBE(e,n),8}};ce.DoubleBE=_I;let SI=class extends tr{constructor(e,r,n){if(!(e instanceof tr))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Ss&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Ss)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Ss&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){const n=[];let i=0,s=this.count;for(s instanceof Ss&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){const i=this.elementLayout,s=e.reduce((o,l)=>o+i.encode(l,r,n+o),0);return this.count instanceof Ss&&this.count.encode(e.length,r,n),s}};ce.Sequence=SI;let EI=class extends tr{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof tr,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){qd(e);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const i=n;let s=0,o=0;for(const l of this.fields){let f=l.span;if(o=0<f?f:0,l.property!==void 0){const h=e[l.property];h!==void 0&&(o=l.encode(h,r,n),0>f&&(f=l.getSpan(r,n)))}s=n,n+=f}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};ce.Structure=EI;let Y_=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};ce.UnionDiscriminator=Y_;let Ym=class extends Y_{constructor(e,r){if(!(e instanceof Ss&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};ce.UnionLayoutDiscriminator=Ym;let Q_=class extends tr{constructor(e,r,n){let i;if(e instanceof ii||e instanceof Li)i=new Ym(new Z_(e));else if(e instanceof Ss&&e.isCount())i=new Ym(e);else if(e instanceof Y_)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof tr))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof ii||e instanceof Li)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof ii||e instanceof Li,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return o(l)},this.configGetSourceVariant=function(l){o=l.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const i=this.discriminator,s=i.decode(e,r),o=this.registry[s];if(o===void 0){const l=this.defaultLayout;let f=0;this.usesPrefixDiscriminator&&(f=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[l.property]=l.decode(e,r+f)}else n=o.decode(e,r);return n}encode(e,r,n=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=s.layout.span),s.encode(e[s.property],r,n),l+o.encode(e[o.property],r,n+l)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new NI(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};ce.Union=Q_;let NI=class extends tr{constructor(e,r,n,i){if(!(e instanceof Q_))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof tr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};ce.VariantLayout=NI;function fu(t){return 0>t&&(t+=4294967296),t}let J_=class extends tr{constructor(e,r,n){if(!(e instanceof ii||e instanceof Li))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=fu(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){const n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new X_(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new MI(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}};ce.BitStructure=J_;let X_=class{constructor(e,r,n){if(!(e instanceof J_))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,l)=>o+l.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=fu(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return fu(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==fu(e&this.valueMask))throw new TypeError(G_("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=fu(e<<this.start);this.container._packedSetValue(fu(r&~this.wordMask)|n)}};ce.BitField=X_;let MI=class extends X_{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};ce.Boolean=MI;let AI=class extends tr{constructor(e,r){if(!(e instanceof Ss&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ss||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),Zt(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Ss&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(G_("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=Zt(e);return Zt(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Ss&&this.length.encode(i,r,n),i}};ce.Blob=AI;let RI=class extends tr{constructor(e){super(-1,e)}getSpan(e,r=0){qd(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return Zt(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=q_.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const o=Zt(r);return i.copy(o,n),o[n+s]=0,s+1}};ce.CString=RI;let kI=class extends tr{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return qd(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Zt(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=q_.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Zt(r),n),s}};ce.UTF8=kI;let TI=class extends tr{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};ce.Constant=TI;ce.greedy=(t,e)=>new pI(t,e);var ul=ce.offset=(t,e,r)=>new Z_(t,e,r),Wt=ce.u8=t=>new ii(1,t),Xs=ce.u16=t=>new ii(2,t);ce.u24=t=>new ii(3,t);var ot=ce.u32=t=>new ii(4,t);ce.u40=t=>new ii(5,t);ce.u48=t=>new ii(6,t);var dn=ce.nu64=t=>new mI(t);ce.u16be=t=>new Li(2,t);ce.u24be=t=>new Li(3,t);ce.u32be=t=>new Li(4,t);ce.u40be=t=>new Li(5,t);ce.u48be=t=>new Li(6,t);ce.nu64be=t=>new gI(t);ce.s8=t=>new Hc(1,t);ce.s16=t=>new Hc(2,t);ce.s24=t=>new Hc(3,t);ce.s32=t=>new Hc(4,t);ce.s40=t=>new Hc(5,t);ce.s48=t=>new Hc(6,t);var Ps=ce.ns64=t=>new yI(t);ce.s16be=t=>new Gd(2,t);ce.s24be=t=>new Gd(3,t);ce.s32be=t=>new Gd(4,t);ce.s40be=t=>new Gd(5,t);ce.s48be=t=>new Gd(6,t);ce.ns64be=t=>new vI(t);ce.f32=t=>new wI(t);ce.f32be=t=>new xI(t);ce.f64=t=>new bI(t);ce.f64be=t=>new _I(t);var at=ce.struct=(t,e,r)=>new EI(t,e,r);ce.bits=(t,e,r)=>new J_(t,e,r);var gn=ce.seq=(t,e,r)=>new SI(t,e,r);ce.union=(t,e,r)=>new Q_(t,e,r);ce.unionLayoutDiscriminator=(t,e)=>new Ym(t,e);var ur=ce.blob=(t,e)=>new AI(t,e);ce.cstr=t=>new RI(t);ce.utf8=(t,e)=>new kI(t,e);ce.constant=(t,e)=>new TI(t,e);var pF=8078e3,mF=8078001,gF=8078004,yF=8078005,vF=8078006,wF=8078011;function II(t){return Array.isArray(t)?"%5B"+t.map(II).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function xF([t,e]){return`${t}=${II(e)}`}function bF(t){const e=Object.entries(t).map(xF).join("&");return btoa(e)}function _F(t,e={}){{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${bF(e)}'`),`${r}\``}}var Vu=class extends Error{constructor(...[e,r]){let n,i;if(r){const{cause:o,...l}=r;o&&(i={cause:o}),Object.keys(l).length>0&&(n=l)}const s=_F(e,n);super(s,i);Or(this,"cause",this.cause);Or(this,"context");this.context={__code:e,...n},this.name="SolanaError"}};function SF(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function EF(t){return Object.freeze({...t,encode:e=>{const r=new Uint8Array(SF(e,t));return t.write(e,r,0),r}})}function NF(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function ou(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function MF(t,e){if(ou(t)!==ou(e))throw new Vu(gF);if(ou(t)&&ou(e)&&t.fixedSize!==e.fixedSize)throw new Vu(yF,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!ou(t)&&!ou(e)&&t.maxSize!==e.maxSize)throw new Vu(vF,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function AF(t,e,r=0){if(e.length-r<=0)throw new Vu(pF,{codecDescription:t})}function RF(t,e,r,n=0){const i=r.length-n;if(i<e)throw new Vu(mF,{bytesLength:i,codecDescription:t,expected:e})}function kF(t,e,r,n){if(n<e||n>r)throw new Vu(wF,{codecDescription:t,max:r,min:e,value:n})}function CI(t){return(t==null?void 0:t.endian)!==1}function TF(t){return EF({fixedSize:t.size,write(e,r,n){t.range&&kF(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,CI(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}function IF(t){return NF({fixedSize:t.size,read(e,r=0){AF(t.name,e,r),RF(t.name,t.size,e,r);const n=new DataView(CF(e,r,t.size));return[t.get(n,CI(t.config)),r+t.size]}})}function CF(t,e,r){const n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}var jI=(t={})=>TF({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),size:8}),jF=(t={})=>IF({config:t,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),OF=(t={})=>MF(jI(t),jF(t));let PF=class extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:l}=e,f=l.length===0?i:`At path: ${l.join(".")} -- ${i}`;super(s??f),s!=null&&(this.cause=f),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function LF(t){return mp(t)&&typeof t[Symbol.iterator]=="function"}function mp(t){return typeof t=="object"&&t!=null}function Qm(t){return mp(t)&&!Array.isArray(t)}function Ui(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function DF(t){const{done:e,value:r}=t.next();return e?void 0:r}function BF(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:l,message:f=`Expected a value of type \`${o}\`${l?` with refinement \`${l}\``:""}, but received: \`${Ui(n)}\``}=t;return{value:n,type:o,refinement:l,key:i[i.length-1],path:i,branch:s,...t,message:f}}function*MN(t,e,r,n){LF(t)||(t=[t]);for(const i of t){const s=BF(i,e,r,n);s&&(yield s)}}function*eS(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,l={path:n,branch:i,mask:o};s&&(t=e.coercer(t,l));let f="valid";for(const h of e.validator(t,l))h.explanation=r.message,f="not_valid",yield[h,void 0];for(let[h,p,v]of e.entries(t,l)){const E=eS(p,v,{path:h===void 0?n:[...n,h],branch:h===void 0?i:[...i,p],coerce:s,mask:o,message:r.message});for(const b of E)b[0]?(f=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):s&&(p=b[1],h===void 0?t=p:t instanceof Map?t.set(h,p):t instanceof Set?t.add(p):mp(t)&&(p!==void 0||h in t)&&(t[h]=p))}if(f!=="not_valid")for(const h of e.refiner(t,l))h.explanation=r.message,f="not_refined",yield[h,void 0];f==="valid"&&(yield[void 0,t])}let _o=class{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=f=>f,entries:l=function*(){}}=e;this.type=r,this.schema=n,this.entries=l,this.coercer=o,i?this.validator=(f,h)=>{const p=i(f,h);return MN(p,h,this,f)}:this.validator=()=>[],s?this.refiner=(f,h)=>{const p=s(f,h);return MN(p,h,this,f)}:this.refiner=()=>[]}assert(e,r){return OI(e,this,r)}create(e,r){return Ge(e,this,r)}is(e){return PI(e,this)}mask(e,r){return UF(e,this,r)}validate(e,r={}){return gp(e,this,r)}};function OI(t,e,r){const n=gp(t,e,{message:r});if(n[0])throw n[0]}function Ge(t,e,r){const n=gp(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function UF(t,e,r){const n=gp(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function PI(t,e){return!gp(t,e)[0]}function gp(t,e,r={}){const n=eS(t,e,r),i=DF(n);return i[0]?[new PF(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Kc(t,e){return new _o({type:t,schema:null,validator:e})}function zF(){return Kc("any",()=>!0)}function Xe(t){return new _o({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ui(e)}`}})}function go(){return Kc("boolean",t=>typeof t=="boolean")}function tS(t){return Kc("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Ui(e)}`)}function Nr(t){const e=Ui(t),r=typeof t;return new _o({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${Ui(n)}`}})}function FF(){return Kc("never",()=>!1)}function et(t){return new _o({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function oe(){return Kc("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ui(t)}`)}function mt(t){return new _o({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function LI(t,e){return new _o({type:"record",schema:null,*entries(r){if(mp(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Qm(r)||`Expected an object, but received: ${Ui(r)}`},coercer(r){return Qm(r)?{...r}:r}})}function Ue(){return Kc("string",t=>typeof t=="string"||`Expected a string, but received: ${Ui(t)}`)}function rS(t){const e=FF();return new _o({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Ui(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function Se(t){const e=Object.keys(t);return new _o({type:"type",schema:t,*entries(r){if(mp(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Qm(r)||`Expected an object, but received: ${Ui(r)}`},coercer(r){return Qm(r)?{...r}:r}})}function fs(t){const e=t.map(r=>r.type).join(" | ");return new _o({type:"union",schema:null,coercer(r,n){for(const i of t){const[s,o]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return o}return r},validator(r,n){const i=[];for(const s of t){const[...o]=eS(r,s,n),[l]=o;if(l[0])for(const[f]of o)f&&i.push(f);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ui(r)}`,...i]}})}function Zd(){return Kc("unknown",()=>!0)}function yp(t,e,r){return new _o({...t,coercer:(n,i)=>PI(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var d0,WF=new Uint8Array(16);function DI(){if(!d0&&(d0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!d0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d0(WF)}const $F=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function oy(t){return typeof t=="string"&&$F.test(t)}var cn=[];for(var tw=0;tw<256;++tw)cn.push((tw+256).toString(16).substr(1));function ay(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(cn[t[e+0]]+cn[t[e+1]]+cn[t[e+2]]+cn[t[e+3]]+"-"+cn[t[e+4]]+cn[t[e+5]]+"-"+cn[t[e+6]]+cn[t[e+7]]+"-"+cn[t[e+8]]+cn[t[e+9]]+"-"+cn[t[e+10]]+cn[t[e+11]]+cn[t[e+12]]+cn[t[e+13]]+cn[t[e+14]]+cn[t[e+15]]).toLowerCase();if(!oy(r))throw TypeError("Stringified UUID is invalid");return r}var AN,rw,nw=0,sw=0;function VF(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var s=t.node||AN,o=t.clockseq!==void 0?t.clockseq:rw;if(s==null||o==null){var l=t.random||(t.rng||DI)();s==null&&(s=AN=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),o==null&&(o=rw=(l[6]<<8|l[7])&16383)}var f=t.msecs!==void 0?t.msecs:Date.now(),h=t.nsecs!==void 0?t.nsecs:sw+1,p=f-nw+(h-sw)/1e4;if(p<0&&t.clockseq===void 0&&(o=o+1&16383),(p<0||f>nw)&&t.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");nw=f,sw=h,rw=o,f+=122192928e5;var v=((f&268435455)*1e4+h)%4294967296;i[n++]=v>>>24&255,i[n++]=v>>>16&255,i[n++]=v>>>8&255,i[n++]=v&255;var E=f/4294967296*1e4&268435455;i[n++]=E>>>8&255,i[n++]=E&255,i[n++]=E>>>24&15|16,i[n++]=E>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var b=0;b<6;++b)i[n+b]=s[b];return e||ay(i)}function BI(t){if(!oy(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function HF(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var KF="6ba7b810-9dad-11d1-80b4-00c04fd430c8",qF="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function UI(t,e,r){function n(i,s,o,l){if(typeof i=="string"&&(i=HF(i)),typeof s=="string"&&(s=BI(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+i.length);if(f.set(s),f.set(i,s.length),f=r(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,o){l=l||0;for(var h=0;h<16;++h)o[l+h]=f[h];return o}return ay(f)}try{n.name=t}catch{}return n.DNS=KF,n.URL=qF,n}function GF(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return ZF(YF(QF(t),t.length*8))}function ZF(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function zI(t){return(t+64>>>9<<4)+14+1}function YF(t,e){t[e>>5]|=128<<e%32,t[zI(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var l=r,f=n,h=i,p=s;r=En(r,n,i,s,t[o],7,-680876936),s=En(s,r,n,i,t[o+1],12,-389564586),i=En(i,s,r,n,t[o+2],17,606105819),n=En(n,i,s,r,t[o+3],22,-1044525330),r=En(r,n,i,s,t[o+4],7,-176418897),s=En(s,r,n,i,t[o+5],12,1200080426),i=En(i,s,r,n,t[o+6],17,-1473231341),n=En(n,i,s,r,t[o+7],22,-45705983),r=En(r,n,i,s,t[o+8],7,1770035416),s=En(s,r,n,i,t[o+9],12,-1958414417),i=En(i,s,r,n,t[o+10],17,-42063),n=En(n,i,s,r,t[o+11],22,-1990404162),r=En(r,n,i,s,t[o+12],7,1804603682),s=En(s,r,n,i,t[o+13],12,-40341101),i=En(i,s,r,n,t[o+14],17,-1502002290),n=En(n,i,s,r,t[o+15],22,1236535329),r=Nn(r,n,i,s,t[o+1],5,-165796510),s=Nn(s,r,n,i,t[o+6],9,-1069501632),i=Nn(i,s,r,n,t[o+11],14,643717713),n=Nn(n,i,s,r,t[o],20,-373897302),r=Nn(r,n,i,s,t[o+5],5,-701558691),s=Nn(s,r,n,i,t[o+10],9,38016083),i=Nn(i,s,r,n,t[o+15],14,-660478335),n=Nn(n,i,s,r,t[o+4],20,-405537848),r=Nn(r,n,i,s,t[o+9],5,568446438),s=Nn(s,r,n,i,t[o+14],9,-1019803690),i=Nn(i,s,r,n,t[o+3],14,-187363961),n=Nn(n,i,s,r,t[o+8],20,1163531501),r=Nn(r,n,i,s,t[o+13],5,-1444681467),s=Nn(s,r,n,i,t[o+2],9,-51403784),i=Nn(i,s,r,n,t[o+7],14,1735328473),n=Nn(n,i,s,r,t[o+12],20,-1926607734),r=Mn(r,n,i,s,t[o+5],4,-378558),s=Mn(s,r,n,i,t[o+8],11,-2022574463),i=Mn(i,s,r,n,t[o+11],16,1839030562),n=Mn(n,i,s,r,t[o+14],23,-35309556),r=Mn(r,n,i,s,t[o+1],4,-1530992060),s=Mn(s,r,n,i,t[o+4],11,1272893353),i=Mn(i,s,r,n,t[o+7],16,-155497632),n=Mn(n,i,s,r,t[o+10],23,-1094730640),r=Mn(r,n,i,s,t[o+13],4,681279174),s=Mn(s,r,n,i,t[o],11,-358537222),i=Mn(i,s,r,n,t[o+3],16,-722521979),n=Mn(n,i,s,r,t[o+6],23,76029189),r=Mn(r,n,i,s,t[o+9],4,-640364487),s=Mn(s,r,n,i,t[o+12],11,-421815835),i=Mn(i,s,r,n,t[o+15],16,530742520),n=Mn(n,i,s,r,t[o+2],23,-995338651),r=An(r,n,i,s,t[o],6,-198630844),s=An(s,r,n,i,t[o+7],10,1126891415),i=An(i,s,r,n,t[o+14],15,-1416354905),n=An(n,i,s,r,t[o+5],21,-57434055),r=An(r,n,i,s,t[o+12],6,1700485571),s=An(s,r,n,i,t[o+3],10,-1894986606),i=An(i,s,r,n,t[o+10],15,-1051523),n=An(n,i,s,r,t[o+1],21,-2054922799),r=An(r,n,i,s,t[o+8],6,1873313359),s=An(s,r,n,i,t[o+15],10,-30611744),i=An(i,s,r,n,t[o+6],15,-1560198380),n=An(n,i,s,r,t[o+13],21,1309151649),r=An(r,n,i,s,t[o+4],6,-145523070),s=An(s,r,n,i,t[o+11],10,-1120210379),i=An(i,s,r,n,t[o+2],15,718787259),n=An(n,i,s,r,t[o+9],21,-343485551),r=Ga(r,l),n=Ga(n,f),i=Ga(i,h),s=Ga(s,p)}return[r,n,i,s]}function QF(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(zI(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Ga(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function JF(t,e){return t<<e|t>>>32-e}function ly(t,e,r,n,i,s){return Ga(JF(Ga(Ga(e,t),Ga(n,s)),i),r)}function En(t,e,r,n,i,s,o){return ly(e&r|~e&n,t,e,i,s,o)}function Nn(t,e,r,n,i,s,o){return ly(e&n|r&~n,t,e,i,s,o)}function Mn(t,e,r,n,i,s,o){return ly(e^r^n,t,e,i,s,o)}function An(t,e,r,n,i,s,o){return ly(r^(e|~n),t,e,i,s,o)}var XF=UI("v3",48,GF);function e7(t,e,r){t=t||{};var n=t.random||(t.rng||DI)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return ay(n)}function t7(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function iw(t,e){return t<<e|t>>>32-e}function r7(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),l=new Array(o),f=0;f<o;++f){for(var h=new Uint32Array(16),p=0;p<16;++p)h[p]=t[f*64+p*4]<<24|t[f*64+p*4+1]<<16|t[f*64+p*4+2]<<8|t[f*64+p*4+3];l[f]=h}l[o-1][14]=(t.length-1)*8/Math.pow(2,32),l[o-1][14]=Math.floor(l[o-1][14]),l[o-1][15]=(t.length-1)*8&4294967295;for(var v=0;v<o;++v){for(var E=new Uint32Array(80),b=0;b<16;++b)E[b]=l[v][b];for(var k=16;k<80;++k)E[k]=iw(E[k-3]^E[k-8]^E[k-14]^E[k-16],1);for(var N=r[0],A=r[1],R=r[2],T=r[3],C=r[4],j=0;j<80;++j){var D=Math.floor(j/20),U=iw(N,5)+t7(D,A,R,T)+C+e[D]+E[j]>>>0;C=T,T=R,R=iw(A,30)>>>0,A=N,N=U}r[0]=r[0]+N>>>0,r[1]=r[1]+A>>>0,r[2]=r[2]+R>>>0,r[3]=r[3]+T>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var n7=UI("v5",80,r7);const s7="00000000-0000-0000-0000-000000000000";function i7(t){if(!oy(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const o7=Object.freeze(Object.defineProperty({__proto__:null,NIL:s7,parse:BI,stringify:ay,v1:VF,v3:XF,v4:e7,v5:n7,validate:oy,version:i7},Symbol.toStringTag,{value:"Module"})),FI=Dg(o7),a7=FI.v4,l7=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return a7()};s.id=o(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};var c7=l7;const u7=FI.v4,d7=c7,Th=function(t,e){if(!(this instanceof Th))return new Th(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return u7()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var f7=Th;Th.prototype.request=function(t,e,r,n){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);const h=typeof n=="function";try{s=d7(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(p){if(h)return n(p);throw p}if(!h)return s}let f;try{f=JSON.stringify(s,this.options.replacer)}catch(h){return n(h)}return this.callServer(f,function(h,p){i._parseResponse(h,p,n)}),s};Th.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};const h7=fi(f7);var WI={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,v,E){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,v||f,E),k=r?r+h:h;return f._events[k]?f._events[k].fn?f._events[k]=[f._events[k],b]:f._events[k].push(b):(f._events[k]=b,f._eventsCount++),f}function o(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],p,v;if(this._eventsCount===0)return h;for(v in p=this._events)e.call(p,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},l.prototype.listeners=function(h){var p=r?r+h:h,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var E=0,b=v.length,k=new Array(b);E<b;E++)k[E]=v[E].fn;return k},l.prototype.listenerCount=function(h){var p=r?r+h:h,v=this._events[p];return v?v.fn?1:v.length:0},l.prototype.emit=function(h,p,v,E,b,k){var N=r?r+h:h;if(!this._events[N])return!1;var A=this._events[N],R=arguments.length,T,C;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,v),!0;case 4:return A.fn.call(A.context,p,v,E),!0;case 5:return A.fn.call(A.context,p,v,E,b),!0;case 6:return A.fn.call(A.context,p,v,E,b,k),!0}for(C=1,T=new Array(R-1);C<R;C++)T[C-1]=arguments[C];A.fn.apply(A.context,T)}else{var j=A.length,D;for(C=0;C<j;C++)switch(A[C].once&&this.removeListener(h,A[C].fn,void 0,!0),R){case 1:A[C].fn.call(A[C].context);break;case 2:A[C].fn.call(A[C].context,p);break;case 3:A[C].fn.call(A[C].context,p,v);break;case 4:A[C].fn.call(A[C].context,p,v,E);break;default:if(!T)for(D=1,T=new Array(R-1);D<R;D++)T[D-1]=arguments[D];A[C].fn.apply(A[C].context,T)}}return!0},l.prototype.on=function(h,p,v){return s(this,h,p,v,!1)},l.prototype.once=function(h,p,v){return s(this,h,p,v,!0)},l.prototype.removeListener=function(h,p,v,E){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return o(this,b),this;var k=this._events[b];if(k.fn)k.fn===p&&(!E||k.once)&&(!v||k.context===v)&&o(this,b);else{for(var N=0,A=[],R=k.length;N<R;N++)(k[N].fn!==p||E&&!k[N].once||v&&k[N].context!==v)&&A.push(k[N]);A.length?this._events[b]=A.length===1?A[0]:A:o(this,b)}return this},l.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(WI);var p7=WI.exports;const nS=fi(p7);var m7=class extends nS{constructor(e,r,n){super();Or(this,"socket");this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,r,n){const i=n||r;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}};function g7(t,e){return new m7(t,e)}var y7=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},v7=class extends nS{constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...l}={},f,h){super();Or(this,"address");Or(this,"rpc_id");Or(this,"queue");Or(this,"options");Or(this,"autoconnect");Or(this,"ready");Or(this,"reconnect");Or(this,"reconnect_timer_id");Or(this,"reconnect_interval");Or(this,"max_reconnects");Or(this,"rest_options");Or(this,"current_reconnects");Or(this,"generate_request_id");Or(this,"socket");Or(this,"webSocketFactory");Or(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=l,this.current_reconnects=0,this.generate_request_id=f||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),h?this.dataPack=h:this.dataPack=new y7,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const l=this.generate_request_id(e,r),f={jsonrpc:"2.0",method:e,params:r||void 0,id:l};this.socket.send(this.dataPack.encode(f),i,h=>{if(h)return o(h);this.queue[l]={promise:[s,o]},n&&(this.queue[l].timeout=setTimeout(()=>{delete this.queue[l],o(new Error("reply timeout"))},n))})})}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);n()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.on",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.off",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=it.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,r),this.reconnect_interval)))})}};const w7=BigInt(0),wf=BigInt(1),x7=BigInt(2),b7=BigInt(7),_7=BigInt(256),S7=BigInt(113),$I=[],VI=[],HI=[];for(let t=0,e=wf,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],$I.push(2*(5*n+r)),VI.push((t+1)*(t+2)/2%64);let i=w7;for(let s=0;s<7;s++)e=(e<<wf^(e>>b7)*S7)%_7,e&x7&&(i^=wf<<(wf<<BigInt(s))-wf);HI.push(i)}const KI=GT(HI,!0),E7=KI[0],N7=KI[1],RN=(t,e,r)=>r>32?JU(t,e,r):YU(t,e,r),kN=(t,e,r)=>r>32?XU(t,e,r):QU(t,e,r);function M7(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,f=(o+2)%10,h=r[f],p=r[f+1],v=RN(h,p,1)^r[l],E=kN(h,p,1)^r[l+1];for(let b=0;b<50;b+=10)t[o+b]^=v,t[o+b+1]^=E}let i=t[2],s=t[3];for(let o=0;o<24;o++){const l=VI[o],f=RN(i,s,l),h=kN(i,s,l),p=$I[o];i=t[p],s=t[p+1],t[p]=f,t[p+1]=h}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)r[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~r[(l+2)%10]&r[(l+4)%10]}t[0]^=E7[n],t[1]^=N7[n]}yl(r)}class sS extends O_{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Rh(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=zU(this.state)}clone(){return this._cloneInto()}keccak(){cN(this.state32),M7(this.state32,this.rounds),cN(this.state32),this.posOut=0,this.pos=0}update(e){vd(this),e=ty(e),kc(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let l=0;l<o;l++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){vd(this,!1),kc(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Rh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,yl(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new sS(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const A7=(t,e,r)=>P_(()=>new sS(e,t,r)),TN=A7(1,136,256/8);class qI extends O_{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,UU(e);const n=ty(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),yl(s)}update(e){return vd(this),this.iHash.update(e),this}digestInto(e){vd(this),kc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const GI=(t,e,r)=>new qI(t,e).update(r).digest();GI.create=(t,e)=>new qI(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function IN(t){t.lowS!==void 0&&cl("lowS",t.lowS),t.prehash!==void 0&&cl("prehash",t.prehash)}function R7(t){const e=z_(t);hp(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}class k7 extends Error{constructor(e=""){super(e)}}const Bo={Err:k7,_tlv:{encode:(t,e)=>{const{Err:r}=Bo;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=l0(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?l0(i.length/2|128):"";return l0(t)+s+i+e},decode(t,e){const{Err:r}=Bo;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const f=i&127;if(!f)throw new r("tlv.decode(long): indefinite length not supported");if(f>4)throw new r("tlv.decode(long): byte length is too big");const h=e.subarray(n,n+f);if(h.length!==f)throw new r("tlv.decode: length bytes not complete");if(h[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const p of h)o=o<<8|p;if(n+=f,o<128)throw new r("tlv.decode(long): not minimal encoding")}const l=e.subarray(n,n+o);if(l.length!==o)throw new r("tlv.decode: wrong value length");return{v:l,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Bo;if(t<Vo)throw new e("integer: negative integers are not allowed");let r=l0(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Bo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return xc(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Bo,i=Hr("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:f}=n.decode(2,s),{v:h,l:p}=n.decode(2,f);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(h)}},hexFromSig(t){const{_tlv:e,_int:r}=Bo,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Vo=BigInt(0),nn=BigInt(1);BigInt(2);const CN=BigInt(3);BigInt(4);function T7(t){const e=R7(t),{Fp:r}=e,n=pp(e.n,e.nBitLength),i=e.toBytes||((N,A,R)=>{const T=A.toAffine();return bd(Uint8Array.from([4]),r.toBytes(T.x),r.toBytes(T.y))}),s=e.fromBytes||(N=>{const A=N.subarray(1),R=r.fromBytes(A.subarray(0,r.BYTES)),T=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:R,y:T}});function o(N){const{a:A,b:R}=e,T=r.sqr(N),C=r.mul(T,N);return r.add(r.add(C,r.mul(N,A)),R)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function l(N){return B_(N,nn,e.n)}function f(N){const{allowedPrivateKeyLengths:A,nByteLength:R,wrapPrivateKey:T,n:C}=e;if(A&&typeof N!="bigint"){if(wd(N)&&(N=xd(N)),typeof N!="string"||!A.includes(N.length))throw new Error("invalid private key");N=N.padStart(R*2,"0")}let j;try{j=typeof N=="bigint"?N:xc(Hr("private key",N,R))}catch{throw new Error("invalid private key, expected hex or "+R+" bytes, got "+typeof N)}return T&&(j=gr(j,C)),Ai("private key",j,nn,C),j}function h(N){if(!(N instanceof E))throw new Error("ProjectivePoint expected")}const p=Hm((N,A)=>{const{px:R,py:T,pz:C}=N;if(r.eql(C,r.ONE))return{x:R,y:T};const j=N.is0();A==null&&(A=j?r.ONE:r.inv(C));const D=r.mul(R,A),U=r.mul(T,A),L=r.mul(C,A);if(j)return{x:r.ZERO,y:r.ZERO};if(!r.eql(L,r.ONE))throw new Error("invZ was invalid");return{x:D,y:U}}),v=Hm(N=>{if(N.is0()){if(e.allowInfinityPoint&&!r.is0(N.py))return;throw new Error("bad point: ZERO")}const{x:A,y:R}=N.toAffine();if(!r.isValid(A)||!r.isValid(R))throw new Error("bad point: x or y not FE");const T=r.sqr(R),C=o(A);if(!r.eql(T,C))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class E{constructor(A,R,T){if(A==null||!r.isValid(A))throw new Error("x required");if(R==null||!r.isValid(R)||r.is0(R))throw new Error("y required");if(T==null||!r.isValid(T))throw new Error("z required");this.px=A,this.py=R,this.pz=T,Object.freeze(this)}static fromAffine(A){const{x:R,y:T}=A||{};if(!A||!r.isValid(R)||!r.isValid(T))throw new Error("invalid affine point");if(A instanceof E)throw new Error("projective point not allowed");const C=j=>r.eql(j,r.ZERO);return C(R)&&C(T)?E.ZERO:new E(R,T,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const R=U_(r,A.map(T=>T.pz));return A.map((T,C)=>T.toAffine(R[C])).map(E.fromAffine)}static fromHex(A){const R=E.fromAffine(s(Hr("pointHex",A)));return R.assertValidity(),R}static fromPrivateKey(A){return E.BASE.multiply(f(A))}static msm(A,R){return iI(E,n,A,R)}_setWindowSize(A){k.setWindowSize(this,A)}assertValidity(){v(this)}hasEvenY(){const{y:A}=this.toAffine();if(r.isOdd)return!r.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){h(A);const{px:R,py:T,pz:C}=this,{px:j,py:D,pz:U}=A,L=r.eql(r.mul(R,U),r.mul(j,C)),F=r.eql(r.mul(T,U),r.mul(D,C));return L&&F}negate(){return new E(this.px,r.neg(this.py),this.pz)}double(){const{a:A,b:R}=e,T=r.mul(R,CN),{px:C,py:j,pz:D}=this;let U=r.ZERO,L=r.ZERO,F=r.ZERO,W=r.mul(C,C),q=r.mul(j,j),V=r.mul(D,D),K=r.mul(C,j);return K=r.add(K,K),F=r.mul(C,D),F=r.add(F,F),U=r.mul(A,F),L=r.mul(T,V),L=r.add(U,L),U=r.sub(q,L),L=r.add(q,L),L=r.mul(U,L),U=r.mul(K,U),F=r.mul(T,F),V=r.mul(A,V),K=r.sub(W,V),K=r.mul(A,K),K=r.add(K,F),F=r.add(W,W),W=r.add(F,W),W=r.add(W,V),W=r.mul(W,K),L=r.add(L,W),V=r.mul(j,D),V=r.add(V,V),W=r.mul(V,K),U=r.sub(U,W),F=r.mul(V,q),F=r.add(F,F),F=r.add(F,F),new E(U,L,F)}add(A){h(A);const{px:R,py:T,pz:C}=this,{px:j,py:D,pz:U}=A;let L=r.ZERO,F=r.ZERO,W=r.ZERO;const q=e.a,V=r.mul(e.b,CN);let K=r.mul(R,j),x=r.mul(T,D),a=r.mul(C,U),d=r.add(R,T),m=r.add(j,D);d=r.mul(d,m),m=r.add(K,x),d=r.sub(d,m),m=r.add(R,C);let y=r.add(j,U);return m=r.mul(m,y),y=r.add(K,a),m=r.sub(m,y),y=r.add(T,C),L=r.add(D,U),y=r.mul(y,L),L=r.add(x,a),y=r.sub(y,L),W=r.mul(q,m),L=r.mul(V,a),W=r.add(L,W),L=r.sub(x,W),W=r.add(x,W),F=r.mul(L,W),x=r.add(K,K),x=r.add(x,K),a=r.mul(q,a),m=r.mul(V,m),x=r.add(x,a),a=r.sub(K,a),a=r.mul(q,a),m=r.add(m,a),K=r.mul(x,m),F=r.add(F,K),K=r.mul(y,m),L=r.mul(d,L),L=r.sub(L,K),K=r.mul(d,x),W=r.mul(y,W),W=r.add(W,K),new E(L,F,W)}subtract(A){return this.add(A.negate())}is0(){return this.equals(E.ZERO)}wNAF(A){return k.wNAFCached(this,A,E.normalizeZ)}multiplyUnsafe(A){const{endo:R,n:T}=e;Ai("scalar",A,Vo,T);const C=E.ZERO;if(A===Vo)return C;if(this.is0()||A===nn)return this;if(!R||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,A,E.normalizeZ);let{k1neg:j,k1:D,k2neg:U,k2:L}=R.splitScalar(A),F=C,W=C,q=this;for(;D>Vo||L>Vo;)D&nn&&(F=F.add(q)),L&nn&&(W=W.add(q)),q=q.double(),D>>=nn,L>>=nn;return j&&(F=F.negate()),U&&(W=W.negate()),W=new E(r.mul(W.px,R.beta),W.py,W.pz),F.add(W)}multiply(A){const{endo:R,n:T}=e;Ai("scalar",A,nn,T);let C,j;if(R){const{k1neg:D,k1:U,k2neg:L,k2:F}=R.splitScalar(A);let{p:W,f:q}=this.wNAF(U),{p:V,f:K}=this.wNAF(F);W=k.constTimeNegate(D,W),V=k.constTimeNegate(L,V),V=new E(r.mul(V.px,R.beta),V.py,V.pz),C=W.add(V),j=q.add(K)}else{const{p:D,f:U}=this.wNAF(A);C=D,j=U}return E.normalizeZ([C,j])[0]}multiplyAndAddUnsafe(A,R,T){const C=E.BASE,j=(U,L)=>L===Vo||L===nn||!U.equals(C)?U.multiplyUnsafe(L):U.multiply(L),D=j(this,R).add(j(A,T));return D.is0()?void 0:D}toAffine(A){return p(this,A)}isTorsionFree(){const{h:A,isTorsionFree:R}=e;if(A===nn)return!0;if(R)return R(E,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:R}=e;return A===nn?this:R?R(E,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return cl("isCompressed",A),this.assertValidity(),i(E,this,A)}toHex(A=!0){return cl("isCompressed",A),xd(this.toRawBytes(A))}}E.BASE=new E(e.Gx,e.Gy,r.ONE),E.ZERO=new E(r.ZERO,r.ONE,r.ZERO);const b=e.nBitLength,k=sI(E,e.endo?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:E,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:l}}function I7(t){const e=z_(t);return hp(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function C7(t){const e=I7(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(a){return gr(a,n)}function l(a){return rx(a,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:v}=T7({...e,toBytes(a,d,m){const y=d.toAffine(),g=r.toBytes(y.x),S=bd;return cl("isCompressed",m),m?S(Uint8Array.from([d.hasEvenY()?2:3]),g):S(Uint8Array.from([4]),g,r.toBytes(y.y))},fromBytes(a){const d=a.length,m=a[0],y=a.subarray(1);if(d===i&&(m===2||m===3)){const g=xc(y);if(!B_(g,nn,r.ORDER))throw new Error("Point is not on curve");const S=p(g);let I;try{I=r.sqrt(S)}catch(_){const $=_ instanceof Error?": "+_.message:"";throw new Error("Point is not on curve"+$)}const w=(I&nn)===nn;return(m&1)===1!==w&&(I=r.neg(I)),{x:g,y:I}}else if(d===s&&m===4){const g=r.fromBytes(y.subarray(0,r.BYTES)),S=r.fromBytes(y.subarray(r.BYTES,2*r.BYTES));return{x:g,y:S}}else{const g=i,S=s;throw new Error("invalid Point, expected length of "+g+", or uncompressed "+S+", got "+d)}}}),E=a=>xd(kh(a,e.nByteLength));function b(a){const d=n>>nn;return a>d}function k(a){return b(a)?o(-a):a}const N=(a,d,m)=>xc(a.slice(d,m));class A{constructor(d,m,y){Ai("r",d,nn,n),Ai("s",m,nn,n),this.r=d,this.s=m,y!=null&&(this.recovery=y),Object.freeze(this)}static fromCompact(d){const m=e.nByteLength;return d=Hr("compactSignature",d,m*2),new A(N(d,0,m),N(d,m,2*m))}static fromDER(d){const{r:m,s:y}=Bo.toSig(Hr("DER",d));return new A(m,y)}assertValidity(){}addRecoveryBit(d){return new A(this.r,this.s,d)}recoverPublicKey(d){const{r:m,s:y,recovery:g}=this,S=U(Hr("msgHash",d));if(g==null||![0,1,2,3].includes(g))throw new Error("recovery id invalid");const I=g===2||g===3?m+e.n:m;if(I>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const w=g&1?"03":"02",c=f.fromHex(w+E(I)),_=l(I),$=o(-S*_),H=o(y*_),G=f.BASE.multiplyAndAddUnsafe(c,$,H);if(!G)throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return $m(this.toDERHex())}toDERHex(){return Bo.hexFromSig(this)}toCompactRawBytes(){return $m(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const R={isValidPrivateKey(a){try{return h(a),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const a=tI(e.n);return Ez(e.randomBytes(a),e.n)},precompute(a=8,d=f.BASE){return d._setWindowSize(a),d.multiply(BigInt(3)),d}};function T(a,d=!0){return f.fromPrivateKey(a).toRawBytes(d)}function C(a){const d=wd(a),m=typeof a=="string",y=(d||m)&&a.length;return d?y===i||y===s:m?y===2*i||y===2*s:a instanceof f}function j(a,d,m=!0){if(C(a))throw new Error("first arg must be private key");if(!C(d))throw new Error("second arg must be public key");return f.fromHex(d).multiply(h(a)).toRawBytes(m)}const D=e.bits2int||function(a){if(a.length>8192)throw new Error("input is too large");const d=xc(a),m=a.length*8-e.nBitLength;return m>0?d>>BigInt(m):d},U=e.bits2int_modN||function(a){return o(D(a))},L=ry(e.nBitLength);function F(a){return Ai("num < 2^"+e.nBitLength,a,Vo,L),kh(a,e.nByteLength)}function W(a,d,m=q){if(["recovered","canonical"].some(ie=>ie in m))throw new Error("sign() legacy options not supported");const{hash:y,randomBytes:g}=e;let{lowS:S,prehash:I,extraEntropy:w}=m;S==null&&(S=!0),a=Hr("msgHash",a),IN(m),I&&(a=Hr("prehashed msgHash",y(a)));const c=U(a),_=h(d),$=[F(_),F(c)];if(w!=null&&w!==!1){const ie=w===!0?g(r.BYTES):w;$.push(Hr("extraEntropy",ie))}const H=bd(...$),G=c;function re(ie){const le=D(ie);if(!v(le))return;const nt=l(le),ue=f.BASE.multiply(le).toAffine(),de=o(ue.x);if(de===Vo)return;const vt=o(nt*o(G+de*_));if(vt===Vo)return;let ye=(ue.x===de?0:2)|Number(ue.y&nn),be=vt;return S&&b(vt)&&(be=k(vt),ye^=1),new A(de,be,ye)}return{seed:H,k2sig:re}}const q={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function K(a,d,m=q){const{seed:y,k2sig:g}=W(a,d,m),S=e;return pz(S.hash.outputLen,S.nByteLength,S.hmac)(y,g)}f.BASE._setWindowSize(8);function x(a,d,m,y=V){var ye;const g=a;d=Hr("msgHash",d),m=Hr("publicKey",m);const{lowS:S,prehash:I,format:w}=y;if(IN(y),"strict"in y)throw new Error("options.strict was renamed to lowS");if(w!==void 0&&w!=="compact"&&w!=="der")throw new Error("format must be compact or der");const c=typeof g=="string"||wd(g),_=!c&&!w&&typeof g=="object"&&g!==null&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!c&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let $,H;try{if(_&&($=new A(g.r,g.s)),c){try{w!=="compact"&&($=A.fromDER(g))}catch(be){if(!(be instanceof Bo.Err))throw be}!$&&w!=="der"&&($=A.fromCompact(g))}H=f.fromHex(m)}catch{return!1}if(!$||S&&$.hasHighS())return!1;I&&(d=e.hash(d));const{r:G,s:re}=$,ie=U(d),le=l(re),nt=o(ie*le),ue=o(G*le),de=(ye=f.BASE.multiplyAndAddUnsafe(H,nt,ue))==null?void 0:ye.toAffine();return de?o(de.x)===G:!1}return{CURVE:e,getPublicKey:T,getSharedSecret:j,sign:K,verify:x,ProjectivePoint:f,Signature:A,utils:R}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function j7(t){return{hash:t,hmac:(e,...r)=>GI(t,e,HU(...r)),randomBytes:KT}}function O7(t,e){const r=n=>C7({...t,...j7(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZI=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jN=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),P7=BigInt(1),ox=BigInt(2),ON=(t,e)=>(t+e/ox)/e;function L7(t){const e=ZI,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),l=BigInt(44),f=BigInt(88),h=t*t*t%e,p=h*h*t%e,v=Tr(p,r,e)*p%e,E=Tr(v,r,e)*p%e,b=Tr(E,ox,e)*h%e,k=Tr(b,i,e)*b%e,N=Tr(k,s,e)*k%e,A=Tr(N,l,e)*N%e,R=Tr(A,f,e)*A%e,T=Tr(R,l,e)*N%e,C=Tr(T,r,e)*p%e,j=Tr(C,o,e)*k%e,D=Tr(j,n,e)*h%e,U=Tr(D,ox,e);if(!ax.eql(ax.sqr(U),t))throw new Error("Cannot find square root");return U}const ax=pp(ZI,void 0,void 0,{sqrt:L7}),cy=O7({a:BigInt(0),b:BigInt(7),Fp:ax,n:jN,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=jN,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-P7*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),l=ON(s*t,e),f=ON(-n*t,e);let h=gr(t-l*r-f*i,e),p=gr(-l*n-f*s,e);const v=h>o,E=p>o;if(v&&(h=e-h),E&&(p=e-p),h>o||p>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:v,k1:h,k2neg:E,k2:p}}}},YT);BigInt(0);cy.ProjectivePoint;const D7=Hd.utils.randomPrivateKey,PN=()=>{const t=Hd.utils.randomPrivateKey(),e=Jm(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},Jm=Hd.getPublicKey;function LN(t){try{return Hd.ExtendedPoint.fromHex(t),!0}catch{return!1}}const iS=(t,e)=>Hd.sign(t,e.slice(0,32)),B7=Hd.verify,kt=t=>it.isBuffer(t)?t:t instanceof Uint8Array?it.from(t.buffer,t.byteOffset,t.byteLength):it.from(t);let oS=class{constructor(e){Object.assign(this,e)}encode(){return it.from(fI(Jf,this))}static decode(e){return hI(Jf,this,e)}static decodeUnchecked(e){return aI(Jf,this,e)}};class U7 extends oS{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const Jf=new Map;var YI;const QI=32,fo=32;function z7(t){return t._bn!==void 0}let DN=1;class me extends oS{constructor(e){if(super({}),this._bn=void 0,z7(e))this._bn=e._bn;else{if(typeof e=="string"){const r=mn.decode(e);if(r.length!=fo)throw new Error("Invalid public key input");this._bn=new EN(r)}else this._bn=new EN(e);if(this._bn.byteLength()>fo)throw new Error("Invalid public key input")}}static unique(){const e=new me(DN);return DN+=1,new me(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return mn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(it);if(e.length===fo)return e;const r=it.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=it.concat([e.toBuffer(),it.from(r),n.toBuffer()]),s=NN(i);return new me(s)}static createProgramAddressSync(e,r){let n=it.alloc(0);e.forEach(function(s){if(s.length>QI)throw new TypeError("Max seed length exceeded");n=it.concat([n,kt(s)])}),n=it.concat([n,r.toBuffer(),it.from("ProgramDerivedAddress")]);const i=NN(n);if(LN(i))throw new Error("Invalid seeds, address must fall off the curve");return new me(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(it.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new me(e);return LN(r.toBytes())}}YI=me;me.default=new YI("11111111111111111111111111111111");Jf.set(me,{kind:"struct",fields:[["_bn","u256"]]});class F7{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=kt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=kt(D7()),this._publicKey=kt(Jm(this._secretKey))}get publicKey(){return new me(this._publicKey)}get secretKey(){return it.concat([this._secretKey,this._publicKey],64)}}const W7=new me("BPFLoader1111111111111111111111111111111111"),dl=1232,uy=127,Sd=64;class aS extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(aS.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class lS extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(lS.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ju extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ju.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Ih{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Lt=(t="publicKey")=>ur(32,t),$7=(t="signature")=>ur(64,t),tc=(t="string")=>{const e=at([ot("length"),ot("lengthPadding"),ur(ul(ot(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,l)=>{const f={chars:it.from(s,"utf8")};return n(f,o,l)},i.alloc=s=>ot().span+ot().span+it.from(s,"utf8").length,i},V7=(t="authorized")=>at([Lt("staker"),Lt("withdrawer")],t),H7=(t="lockup")=>at([Ps("unixTimestamp"),Ps("epoch"),Lt("custodian")],t),K7=(t="voteInit")=>at([Lt("nodePubkey"),Lt("authorizedVoter"),Lt("authorizedWithdrawer"),Wt("commission")],t),q7=(t="voteAuthorizeWithSeedArgs")=>at([ot("voteAuthorizationType"),Lt("currentAuthorityDerivedKeyOwnerPubkey"),tc("currentAuthorityDerivedKeySeed"),Lt("newAuthorized")],t);function JI(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return JI({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function xs(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Ls(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Kt(t,e){if(!t)throw new Error(e||"Assertion failed")}class dy{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const l=o.toBase58();let f=n.get(l);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(l,f)),f},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const l of o.keys){const f=i(l.pubkey);f.isSigner||(f.isSigner=l.isSigner),f.isWritable||(f.isWritable=l.isWritable)}}return new dy(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Kt(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,f])=>f.isSigner&&f.isWritable),n=e.filter(([,f])=>f.isSigner&&!f.isWritable),i=e.filter(([,f])=>!f.isSigner&&f.isWritable),s=e.filter(([,f])=>!f.isSigner&&!f.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Kt(r.length>0,"Expected at least one writable signer key");const[f]=r[0];Kt(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const l=[...r.map(([f])=>new me(f)),...n.map(([f])=>new me(f)),...i.map(([f])=>new me(f)),...s.map(([f])=>new me(f))];return[o,l]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const l=new me(s),f=e.findIndex(h=>h.equals(l));f>=0&&(Kt(f<256,"Max lookup table index exceeded"),n.push(f),i.push(l),this.keyMetaMap.delete(s))}return[n,i]}}const XI="Reached end of buffer unexpectedly";function so(t){if(t.length===0)throw new Error(XI);return t.shift()}function bs(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(XI);return t.splice(...e)}class zi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new me(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ih(this.staticAccountKeys)}static compile(e){const r=dy.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new Ih(i).compileInstructions(e.instructions).map(l=>({programIdIndex:l.programIdIndex,accounts:l.accountKeyIndexes,data:mn.encode(l.data)}));return new zi({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];Ls(r,e);const n=this.instructions.map(v=>{const{accounts:E,programIdIndex:b}=v,k=Array.from(mn.decode(v.data));let N=[];Ls(N,E.length);let A=[];return Ls(A,k.length),{programIdIndex:b,keyIndicesCount:it.from(N),keyIndices:E,dataLength:it.from(A),data:k}});let i=[];Ls(i,n.length);let s=it.alloc(dl);it.from(i).copy(s);let o=i.length;n.forEach(v=>{const b=at([Wt("programIdIndex"),ur(v.keyIndicesCount.length,"keyIndicesCount"),gn(Wt("keyIndex"),v.keyIndices.length,"keyIndices"),ur(v.dataLength.length,"dataLength"),gn(Wt("userdatum"),v.data.length,"data")]).encode(v,s,o);o+=b}),s=s.slice(0,o);const l=at([ur(1,"numRequiredSignatures"),ur(1,"numReadonlySignedAccounts"),ur(1,"numReadonlyUnsignedAccounts"),ur(r.length,"keyCount"),gn(Lt("key"),e,"keys"),Lt("recentBlockhash")]),f={numRequiredSignatures:it.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:it.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:it.from([this.header.numReadonlyUnsignedAccounts]),keyCount:it.from(r),keys:this.accountKeys.map(v=>kt(v.toBytes())),recentBlockhash:mn.decode(this.recentBlockhash)};let h=it.alloc(2048);const p=l.encode(f,h);return s.copy(h,p),h.slice(0,p+s.length)}static from(e){let r=[...e];const n=so(r);if(n!==(n&uy))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=so(r),s=so(r),o=xs(r);let l=[];for(let E=0;E<o;E++){const b=bs(r,0,fo);l.push(new me(it.from(b)))}const f=bs(r,0,fo),h=xs(r);let p=[];for(let E=0;E<h;E++){const b=so(r),k=xs(r),N=bs(r,0,k),A=xs(r),R=bs(r,0,A),T=mn.encode(it.from(R));p.push({programIdIndex:b,accounts:N,data:T})}const v={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:mn.encode(it.from(f)),accountKeys:l,instructions:p};return new zi(v)}}class Tc{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ih(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,l)=>o+l.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=dy.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const p of s){const v=r.extractTableLookup(p);if(v!==void 0){const[E,{writable:b,readonly:k}]=v;n.push(E),i.writable.push(...b),i.readonly.push(...k)}}const[o,l]=r.getMessageComponents(),h=new Ih(l,i).compileInstructions(e.instructions);return new Tc({header:o,staticAccountKeys:l,recentBlockhash:e.recentBlockhash,compiledInstructions:h,addressTableLookups:n})}serialize(){const e=Array();Ls(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Ls(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Ls(s,this.addressTableLookups.length);const o=at([Wt("prefix"),at([Wt("numRequiredSignatures"),Wt("numReadonlySignedAccounts"),Wt("numReadonlyUnsignedAccounts")],"header"),ur(e.length,"staticAccountKeysLength"),gn(Lt(),this.staticAccountKeys.length,"staticAccountKeys"),Lt("recentBlockhash"),ur(n.length,"instructionsLength"),ur(r.length,"serializedInstructions"),ur(s.length,"addressTableLookupsLength"),ur(i.length,"serializedAddressTableLookups")]),l=new Uint8Array(dl),h=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(p=>p.toBytes()),recentBlockhash:mn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},l);return l.slice(0,h)}serializeInstructions(){let e=0;const r=new Uint8Array(dl);for(const n of this.compiledInstructions){const i=Array();Ls(i,n.accountKeyIndexes.length);const s=Array();Ls(s,n.data.length);const o=at([Wt("programIdIndex"),ur(i.length,"encodedAccountKeyIndexesLength"),gn(Wt(),n.accountKeyIndexes.length,"accountKeyIndexes"),ur(s.length,"encodedDataLength"),ur(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(dl);for(const n of this.addressTableLookups){const i=Array();Ls(i,n.writableIndexes.length);const s=Array();Ls(s,n.readonlyIndexes.length);const o=at([Lt("accountKey"),ur(i.length,"encodedWritableIndexesLength"),gn(Wt(),n.writableIndexes.length,"writableIndexes"),ur(s.length,"encodedReadonlyIndexesLength"),gn(Wt(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=so(r),i=n&uy;Kt(n!==i,"Expected versioned message but received legacy message");const s=i;Kt(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:so(r),numReadonlySignedAccounts:so(r),numReadonlyUnsignedAccounts:so(r)},l=[],f=xs(r);for(let k=0;k<f;k++)l.push(new me(bs(r,0,fo)));const h=mn.encode(bs(r,0,fo)),p=xs(r),v=[];for(let k=0;k<p;k++){const N=so(r),A=xs(r),R=bs(r,0,A),T=xs(r),C=new Uint8Array(bs(r,0,T));v.push({programIdIndex:N,accountKeyIndexes:R,data:C})}const E=xs(r),b=[];for(let k=0;k<E;k++){const N=new me(bs(r,0,fo)),A=xs(r),R=bs(r,0,A),T=xs(r),C=bs(r,0,T);b.push({accountKey:N,writableIndexes:R,readonlyIndexes:C})}return new Tc({header:o,staticAccountKeys:l,recentBlockhash:h,compiledInstructions:v,addressTableLookups:b})}}const vp={deserializeMessageVersion(t){const e=t[0],r=e&uy;return r===e?"legacy":r},deserialize:t=>{const e=vp.deserializeMessageVersion(t);if(e==="legacy")return zi.from(t);if(e===0)return Tc.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Co=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const G7=it.alloc(Sd).fill(0);class nr{constructor(e){this.keys=void 0,this.programId=void 0,this.data=it.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class jt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new nr(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let N=0;N<r.length;N++)if(r[N].programId===void 0)throw new Error(`Transaction instruction index ${N} has undefined program id`);const i=[],s=[];r.forEach(N=>{N.keys.forEach(R=>{s.push({...R})});const A=N.programId.toString();i.includes(A)||i.push(A)}),i.forEach(N=>{s.push({pubkey:new me(N),isSigner:!1,isWritable:!1})});const o=[];s.forEach(N=>{const A=N.pubkey.toString(),R=o.findIndex(T=>T.pubkey.toString()===A);R>-1?(o[R].isWritable=o[R].isWritable||N.isWritable,o[R].isSigner=o[R].isSigner||N.isSigner):o.push(N)}),o.sort(function(N,A){if(N.isSigner!==A.isSigner)return N.isSigner?-1:1;if(N.isWritable!==A.isWritable)return N.isWritable?-1:1;const R={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return N.pubkey.toBase58().localeCompare(A.pubkey.toBase58(),"en",R)});const l=o.findIndex(N=>N.pubkey.equals(n));if(l>-1){const[N]=o.splice(l,1);N.isSigner=!0,N.isWritable=!0,o.unshift(N)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const N of this.signatures){const A=o.findIndex(R=>R.pubkey.equals(N.publicKey));if(A>-1)o[A].isSigner||(o[A].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${N.publicKey.toString()}`)}let f=0,h=0,p=0;const v=[],E=[];o.forEach(({pubkey:N,isSigner:A,isWritable:R})=>{A?(v.push(N.toString()),f+=1,R||(h+=1)):(E.push(N.toString()),R||(p+=1))});const b=v.concat(E),k=r.map(N=>{const{data:A,programId:R}=N;return{programIdIndex:b.indexOf(R.toString()),accounts:N.keys.map(T=>b.indexOf(T.pubkey.toString())),data:mn.encode(A)}});return k.forEach(N=>{Kt(N.programIdIndex>=0),N.accounts.forEach(A=>Kt(A>=0))}),new zi({header:{numRequiredSignatures:f,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:p},accountKeys:b,recentBlockhash:e,instructions:k})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=iS(n,i.secretKey);this._addSignature(i.publicKey,kt(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Kt(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=it.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):B7(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(l=>l.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(l=>l.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];Ls(n,r.length);const i=n.length+r.length*64+e.length,s=it.alloc(i);return Kt(r.length<256),it.from(n).copy(s,0),r.forEach(({signature:o},l)=>{o!==null&&(Kt(o.length===64,"signature has invalid length"),it.from(o).copy(s,n.length+l*64))}),e.copy(s,n.length+r.length*64),Kt(s.length<=dl,`Transaction too large: ${s.length} > ${dl}`),s}get keys(){return Kt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Kt(this.instructions.length===1),this.instructions[0].programId}get data(){return Kt(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=xs(r);let i=[];for(let s=0;s<n;s++){const o=bs(r,0,Sd);i.push(mn.encode(it.from(o)))}return jt.populate(zi.from(r),i)}static populate(e,r=[]){const n=new jt;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==mn.encode(G7)?null:mn.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const l=e.accountKeys[o];return{pubkey:l,isSigner:n.signatures.some(f=>f.publicKey.toString()===l.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new nr({keys:s,programId:e.accountKeys[i.programIdIndex],data:mn.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}}class cS{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:f}=n,h=o-l;Kt(h>0,"Message header is invalid");const p=e.staticAccountKeys.length-o-f;Kt(p>=0,"Message header is invalid");const v=e.getAccountKeys(r),E=v.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const k of i){const N=[];for(const R of k.accountKeyIndexes){const T=v.get(R);if(T===void 0)throw new Error(`Failed to find key for account key index ${R}`);const C=R<o;let j;C?j=R<h:R<v.staticAccountKeys.length?j=R-o<p:j=R-v.staticAccountKeys.length<v.accountKeysFromLookups.writable.length,N.push({pubkey:T,isSigner:R<n.numRequiredSignatures,isWritable:j})}const A=v.get(k.programIdIndex);if(A===void 0)throw new Error(`Failed to find program id for program id index ${k.programIdIndex}`);b.push(new nr({programId:A,data:kt(k.data),keys:N}))}return new cS({payerKey:E,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return zi.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Tc.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class aa{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Kt(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(Sd));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();Ls(r,this.signatures.length);const n=at([ur(r.length,"encodedSignaturesLength"),gn($7(),this.signatures.length,"signatures"),ur(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=xs(r);for(let o=0;o<i;o++)n.push(new Uint8Array(bs(r,0,Sd)));const s=vp.deserialize(new Uint8Array(r));return new aa(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));Kt(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=iS(r,i.secretKey)}}addSignature(e,r){Kt(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Kt(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const Z7=160,Y7=64,Q7=Z7/Y7,eC=1e3/Q7,eo=new me("SysvarC1ock11111111111111111111111111111111"),J7=new me("SysvarEpochSchedu1e111111111111111111111111"),X7=new me("Sysvar1nstructions1111111111111111111111111"),V0=new me("SysvarRecentB1ockHashes11111111111111111111"),Ed=new me("SysvarRent111111111111111111111111111111111"),e9=new me("SysvarRewards111111111111111111111111111111"),t9=new me("SysvarS1otHashes111111111111111111111111111"),r9=new me("SysvarS1otHistory11111111111111111111111111"),H0=new me("SysvarStakeHistory1111111111111111111111111");class vl extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let l;switch(e){case"send":l=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":l=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:l=`Unknown action '${(f=>f)(e)}'`}super(l),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}const n9={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class dt extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function lx(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:l}=e.nonceInfo,f=l.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:f,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw s!=null?new vl({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Zl(t){return new Promise(e=>setTimeout(e,t))}function Ut(t,e){const r=t.layout.span>=0?t.layout.span:JI(t,e),n=it.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Qt(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const tC=dn("lamportsPerSignature"),rC=at([ot("version"),ot("state"),Lt("authorizedPubkey"),Lt("nonce"),at([tC],"feeCalculator")]),cx=rC.span;class fy{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=rC.decode(kt(e),0);return new fy({authorizedPubkey:new me(r.authorizedPubkey),nonce:new me(r.nonce).toString(),feeCalculator:r.feeCalculator})}}function Nd(t){const e=ur(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,s=OF();return i.decode=(o,l)=>{const f=r(o,l);return s.decode(f)},i.encode=(o,l,f)=>{const h=s.encode(o);return n(h,l,f)},i}class s9{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ot("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(or))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=Qt(or.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new me(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=Qt(or.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=Qt(or.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new me(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=Qt(or.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=Qt(or.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new me(r),seed:n,space:i,programId:new me(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=Qt(or.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new me(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=Qt(or.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new me(r),seed:n,programId:new me(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:o}=Qt(or.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new me(r),seed:n,lamports:i,space:s,programId:new me(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=Qt(or.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new me(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qt(or.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=Qt(or.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=Qt(or.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new me(r)}}static checkProgramId(e){if(!e.equals(Br.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const or=Object.freeze({Create:{index:0,layout:at([ot("instruction"),Ps("lamports"),Ps("space"),Lt("programId")])},Assign:{index:1,layout:at([ot("instruction"),Lt("programId")])},Transfer:{index:2,layout:at([ot("instruction"),Nd("lamports")])},CreateWithSeed:{index:3,layout:at([ot("instruction"),Lt("base"),tc("seed"),Ps("lamports"),Ps("space"),Lt("programId")])},AdvanceNonceAccount:{index:4,layout:at([ot("instruction")])},WithdrawNonceAccount:{index:5,layout:at([ot("instruction"),Ps("lamports")])},InitializeNonceAccount:{index:6,layout:at([ot("instruction"),Lt("authorized")])},AuthorizeNonceAccount:{index:7,layout:at([ot("instruction"),Lt("authorized")])},Allocate:{index:8,layout:at([ot("instruction"),Ps("space")])},AllocateWithSeed:{index:9,layout:at([ot("instruction"),Lt("base"),tc("seed"),Ps("space"),Lt("programId")])},AssignWithSeed:{index:10,layout:at([ot("instruction"),Lt("base"),tc("seed"),Lt("programId")])},TransferWithSeed:{index:11,layout:at([ot("instruction"),Nd("lamports"),tc("seed"),Lt("programId")])},UpgradeNonceAccount:{index:12,layout:at([ot("instruction")])}});class Br{constructor(){}static createAccount(e){const r=or.Create,n=Ut(r,{lamports:e.lamports,space:e.space,programId:kt(e.programId.toBuffer())});return new nr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=or.TransferWithSeed;r=Ut(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:kt(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=or.Transfer;r=Ut(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new nr({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=or.AssignWithSeed;r=Ut(i,{base:kt(e.basePubkey.toBuffer()),seed:e.seed,programId:kt(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=or.Assign;r=Ut(i,{programId:kt(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new nr({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=or.CreateWithSeed,n=Ut(r,{base:kt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:kt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new nr({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new jt;"basePubkey"in e&&"seed"in e?r.add(Br.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:cx,programId:this.programId})):r.add(Br.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:cx,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=or.InitializeNonceAccount,n=Ut(r,{authorized:kt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:V0,isSigner:!1,isWritable:!1},{pubkey:Ed,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new nr(i)}static nonceAdvance(e){const r=or.AdvanceNonceAccount,n=Ut(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:V0,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new nr(i)}static nonceWithdraw(e){const r=or.WithdrawNonceAccount,n=Ut(r,{lamports:e.lamports});return new nr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:V0,isSigner:!1,isWritable:!1},{pubkey:Ed,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=or.AuthorizeNonceAccount,n=Ut(r,{authorized:kt(e.newAuthorizedPubkey.toBuffer())});return new nr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=or.AllocateWithSeed;r=Ut(i,{base:kt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:kt(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=or.Allocate;r=Ut(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new nr({keys:n,programId:this.programId,data:r})}}Br.programId=new me("11111111111111111111111111111111");const i9=dl-300;let Xm=class ux{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/ux.chunkSize)+1+1)}static async load(e,r,n,i,s){{const v=await e.getMinimumBalanceForRentExemption(s.length),E=await e.getAccountInfo(n.publicKey,"confirmed");let b=null;if(E!==null){if(E.executable)return console.error("Program load failed, account is already executable"),!1;E.data.length!==s.length&&(b=b||new jt,b.add(Br.allocate({accountPubkey:n.publicKey,space:s.length}))),E.owner.equals(i)||(b=b||new jt,b.add(Br.assign({accountPubkey:n.publicKey,programId:i}))),E.lamports<v&&(b=b||new jt,b.add(Br.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:v-E.lamports})))}else b=new jt().add(Br.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:v>0?v:1,space:s.length,programId:i}));b!==null&&await lx(e,b,[r,n],{commitment:"confirmed"})}const o=at([ot("instruction"),ot("offset"),ot("bytesLength"),ot("bytesLengthPadding"),gn(Wt("byte"),ul(ot(),-8),"bytes")]),l=ux.chunkSize;let f=0,h=s,p=[];for(;h.length>0;){const v=h.slice(0,l),E=it.alloc(l+16);o.encode({instruction:0,offset:f,bytes:v,bytesLength:0,bytesLengthPadding:0},E);const b=new jt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:E});p.push(lx(e,b,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Zl(1e3/4),f+=l,h=h.slice(l)}await Promise.all(p);{const v=at([ot("instruction")]),E=it.alloc(v.span);v.encode({instruction:1},E);const b=new jt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Ed,isSigner:!1,isWritable:!1}],programId:i,data:E}),k="processed",N=await e.sendTransaction(b,[r,n],{preflightCommitment:k}),{context:A,value:R}=await e.confirmTransaction({signature:N,lastValidBlockHeight:b.lastValidBlockHeight,blockhash:b.recentBlockhash},k);if(R.err)throw new Error(`Transaction ${N} failed (${JSON.stringify(R)})`);for(;;){try{if(await e.getSlot({commitment:k})>A.slot)break}catch{}await new Promise(T=>setTimeout(T,Math.round(eC/2)))}}return!0}};Xm.chunkSize=i9;const o9=new me("BPFLoader2111111111111111111111111111111111");class a9{static getMinNumSignatures(e){return Xm.getMinNumSignatures(e)}static load(e,r,n,i,s){return Xm.load(e,r,n,s,i)}}function l9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ow,BN;function c9(){if(BN)return ow;BN=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,o,l,f,h,p,v;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(v=t.call(n),v==="[object Array]"){for(l="[",o=n.length-1,s=0;s<o;s++)l+=r(n[s],!0)+",";return o>-1&&(l+=r(n[s],!0)),l+"]"}else if(v==="[object Object]"){for(f=e(n).sort(),o=f.length,l="",s=0;s<o;)h=f[s],p=r(n[h],!1),p!==void 0&&(l&&(l+=","),l+=JSON.stringify(h)+":"+p),s++;return"{"+l+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return ow=function(n){var i=r(n,!1);if(i!==void 0)return""+i},ow}var u9=c9(),UN=l9(u9);const xf=32;function aw(t){let e=0;for(;t>1;)t/=2,e++;return e}function d9(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class nC{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=aw(d9(e+xf+1))-aw(xf)-1,n=this.getSlotsInEpoch(r),i=e-(n-xf);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*xf:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+aw(xf)):this.slotsPerEpoch}}var f9=globalThis.fetch;class h9 extends v7{constructor(e,r,n){const i=s=>{const o=g7(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function p9(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const zN=56;class dx{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=p9(m9,e),n=e.length-zN;Kt(n>=0,"lookup table is invalid"),Kt(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=at([gn(Lt(),i,"addresses")]).decode(e.slice(zN));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new me(r.authority[0]):void 0,addresses:s.map(o=>new me(o))}}}const m9={index:1,layout:at([ot("typeIndex"),Nd("deactivationSlot"),dn("lastExtendedSlot"),Wt("lastExtendedStartIndex"),Wt(),gn(Lt(),ul(Wt(),-1),"authority")])},g9=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function y9(t){const e=t.match(g9);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",l=i==null?null:parseInt(i.slice(1),10),f=l==null?"":`:${l+1}`;return`${o}//${n}${f}${s}`}const Rr=yp(tS(me),Ue(),t=>new me(t)),sC=rS([Ue(),Nr("base64")]),uS=yp(tS(it),sC,t=>it.from(t[0],"base64")),iC=30*1e3;function v9(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function sr(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function FN(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function oC(t){return fs([Se({jsonrpc:Nr("2.0"),id:Ue(),result:t}),Se({jsonrpc:Nr("2.0"),id:Ue(),error:Se({code:Zd(),message:Ue(),data:mt(zF())})})])}const w9=oC(Zd());function Rt(t){return yp(oC(t),w9,e=>"error"in e?e:{...e,result:Ge(e.result,t)})}function Pr(t){return Rt(Se({context:Se({slot:oe()}),value:t}))}function hy(t){return Se({context:Se({slot:oe()}),value:t})}function lw(t,e){return t===0?new Tc({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new me(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:mn.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new zi(e)}const x9=Se({foundation:oe(),foundationTerm:oe(),initial:oe(),taper:oe(),terminal:oe()}),b9=Rt(Xe(et(Se({epoch:oe(),effectiveSlot:oe(),amount:oe(),postBalance:oe(),commission:mt(et(oe()))})))),_9=Xe(Se({slot:oe(),prioritizationFee:oe()})),S9=Se({total:oe(),validator:oe(),foundation:oe(),epoch:oe()}),E9=Se({epoch:oe(),slotIndex:oe(),slotsInEpoch:oe(),absoluteSlot:oe(),blockHeight:mt(oe()),transactionCount:mt(oe())}),N9=Se({slotsPerEpoch:oe(),leaderScheduleSlotOffset:oe(),warmup:go(),firstNormalEpoch:oe(),firstNormalSlot:oe()}),M9=LI(Ue(),Xe(oe())),qc=et(fs([Se({}),Ue()])),A9=Se({err:qc}),R9=Nr("receivedSignature"),k9=Se({"solana-core":Ue(),"feature-set":mt(oe())}),T9=Se({program:Ue(),programId:Rr,parsed:Zd()}),I9=Se({programId:Rr,accounts:Xe(Rr),data:Ue()}),WN=Pr(Se({err:et(fs([Se({}),Ue()])),logs:et(Xe(Ue())),accounts:mt(et(Xe(et(Se({executable:go(),owner:Ue(),lamports:oe(),data:Xe(Ue()),rentEpoch:mt(oe())}))))),unitsConsumed:mt(oe()),returnData:mt(et(Se({programId:Ue(),data:rS([Ue(),Nr("base64")])}))),innerInstructions:mt(et(Xe(Se({index:oe(),instructions:Xe(fs([T9,I9]))}))))})),C9=Pr(Se({byIdentity:LI(Ue(),Xe(oe())),range:Se({firstSlot:oe(),lastSlot:oe()})}));function j9(t,e,r,n,i,s){const o=r||f9;let l;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let f;return n&&(f=async(p,v)=>{const E=await new Promise((b,k)=>{try{n(p,v,(N,A)=>b([N,A]))}catch(N){k(N)}});return await o(...E)}),new h7(async(p,v)=>{const E={method:"POST",body:p,agent:l,headers:Object.assign({"Content-Type":"application/json"},e||{},jW)};try{let b=5,k,N=500;for(;f?k=await f(t,E):k=await o(t,E),!(k.status!==429||i===!0||(b-=1,b===0));)console.error(`Server responded with ${k.status} ${k.statusText}.  Retrying after ${N}ms delay...`),await Zl(N),N*=2;const A=await k.text();k.ok?v(null,A):v(new Error(`${k.status} ${k.statusText}: ${A}`))}catch(b){b instanceof Error&&v(b)}},{})}function O9(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function P9(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const L9=Rt(x9),D9=Rt(S9),B9=Rt(_9),U9=Rt(E9),z9=Rt(N9),F9=Rt(M9),W9=Rt(oe()),$9=Pr(Se({total:oe(),circulating:oe(),nonCirculating:oe(),nonCirculatingAccounts:Xe(Rr)})),fx=Se({amount:Ue(),uiAmount:et(oe()),decimals:oe(),uiAmountString:mt(Ue())}),V9=Pr(Xe(Se({address:Rr,amount:Ue(),uiAmount:et(oe()),decimals:oe(),uiAmountString:mt(Ue())}))),H9=Pr(Xe(Se({pubkey:Rr,account:Se({executable:go(),owner:Rr,lamports:oe(),data:uS,rentEpoch:oe()})}))),hx=Se({program:Ue(),parsed:Zd(),space:oe()}),K9=Pr(Xe(Se({pubkey:Rr,account:Se({executable:go(),owner:Rr,lamports:oe(),data:hx,rentEpoch:oe()})}))),q9=Pr(Xe(Se({lamports:oe(),address:Rr}))),Ch=Se({executable:go(),owner:Rr,lamports:oe(),data:uS,rentEpoch:oe()}),G9=Se({pubkey:Rr,account:Ch}),Z9=yp(fs([tS(it),hx]),fs([sC,hx]),t=>Array.isArray(t)?Ge(t,uS):t),px=Se({executable:go(),owner:Rr,lamports:oe(),data:Z9,rentEpoch:oe()}),Y9=Se({pubkey:Rr,account:px}),Q9=Se({state:fs([Nr("active"),Nr("inactive"),Nr("activating"),Nr("deactivating")]),active:oe(),inactive:oe()}),J9=Rt(Xe(Se({signature:Ue(),slot:oe(),err:qc,memo:et(Ue()),blockTime:mt(et(oe()))}))),X9=Rt(Xe(Se({signature:Ue(),slot:oe(),err:qc,memo:et(Ue()),blockTime:mt(et(oe()))}))),eW=Se({subscription:oe(),result:hy(Ch)}),tW=Se({pubkey:Rr,account:Ch}),rW=Se({subscription:oe(),result:hy(tW)}),nW=Se({parent:oe(),slot:oe(),root:oe()}),sW=Se({subscription:oe(),result:nW}),iW=fs([Se({type:fs([Nr("firstShredReceived"),Nr("completed"),Nr("optimisticConfirmation"),Nr("root")]),slot:oe(),timestamp:oe()}),Se({type:Nr("createdBank"),parent:oe(),slot:oe(),timestamp:oe()}),Se({type:Nr("frozen"),slot:oe(),timestamp:oe(),stats:Se({numTransactionEntries:oe(),numSuccessfulTransactions:oe(),numFailedTransactions:oe(),maxTransactionsPerEntry:oe()})}),Se({type:Nr("dead"),slot:oe(),timestamp:oe(),err:Ue()})]),oW=Se({subscription:oe(),result:iW}),aW=Se({subscription:oe(),result:hy(fs([A9,R9]))}),lW=Se({subscription:oe(),result:oe()}),cW=Se({pubkey:Ue(),gossip:et(Ue()),tpu:et(Ue()),rpc:et(Ue()),version:et(Ue())}),$N=Se({votePubkey:Ue(),nodePubkey:Ue(),activatedStake:oe(),epochVoteAccount:go(),epochCredits:Xe(rS([oe(),oe(),oe()])),commission:oe(),lastVote:oe(),rootSlot:et(oe())}),uW=Rt(Se({current:Xe($N),delinquent:Xe($N)})),dW=fs([Nr("processed"),Nr("confirmed"),Nr("finalized")]),fW=Se({slot:oe(),confirmations:et(oe()),err:qc,confirmationStatus:mt(dW)}),hW=Pr(Xe(et(fW))),pW=Rt(oe()),aC=Se({accountKey:Rr,writableIndexes:Xe(oe()),readonlyIndexes:Xe(oe())}),dS=Se({signatures:Xe(Ue()),message:Se({accountKeys:Xe(Ue()),header:Se({numRequiredSignatures:oe(),numReadonlySignedAccounts:oe(),numReadonlyUnsignedAccounts:oe()}),instructions:Xe(Se({accounts:Xe(oe()),data:Ue(),programIdIndex:oe()})),recentBlockhash:Ue(),addressTableLookups:mt(Xe(aC))})}),lC=Se({pubkey:Rr,signer:go(),writable:go(),source:mt(fs([Nr("transaction"),Nr("lookupTable")]))}),cC=Se({accountKeys:Xe(lC),signatures:Xe(Ue())}),uC=Se({parsed:Zd(),program:Ue(),programId:Rr}),dC=Se({accounts:Xe(Rr),data:Ue(),programId:Rr}),mW=fs([dC,uC]),gW=fs([Se({parsed:Zd(),program:Ue(),programId:Ue()}),Se({accounts:Xe(Ue()),data:Ue(),programId:Ue()})]),fC=yp(mW,gW,t=>"accounts"in t?Ge(t,dC):Ge(t,uC)),hC=Se({signatures:Xe(Ue()),message:Se({accountKeys:Xe(lC),instructions:Xe(fC),recentBlockhash:Ue(),addressTableLookups:mt(et(Xe(aC)))})}),eg=Se({accountIndex:oe(),mint:Ue(),owner:mt(Ue()),programId:mt(Ue()),uiTokenAmount:fx}),pC=Se({writable:Xe(Rr),readonly:Xe(Rr)}),py=Se({err:qc,fee:oe(),innerInstructions:mt(et(Xe(Se({index:oe(),instructions:Xe(Se({accounts:Xe(oe()),data:Ue(),programIdIndex:oe()}))})))),preBalances:Xe(oe()),postBalances:Xe(oe()),logMessages:mt(et(Xe(Ue()))),preTokenBalances:mt(et(Xe(eg))),postTokenBalances:mt(et(Xe(eg))),loadedAddresses:mt(pC),computeUnitsConsumed:mt(oe())}),fS=Se({err:qc,fee:oe(),innerInstructions:mt(et(Xe(Se({index:oe(),instructions:Xe(fC)})))),preBalances:Xe(oe()),postBalances:Xe(oe()),logMessages:mt(et(Xe(Ue()))),preTokenBalances:mt(et(Xe(eg))),postTokenBalances:mt(et(Xe(eg))),loadedAddresses:mt(pC),computeUnitsConsumed:mt(oe())}),Yd=fs([Nr(0),Nr("legacy")]),Gc=Se({pubkey:Ue(),lamports:oe(),postBalance:et(oe()),rewardType:et(Ue()),commission:mt(et(oe()))}),yW=Rt(et(Se({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:oe(),transactions:Xe(Se({transaction:dS,meta:et(py),version:mt(Yd)})),rewards:mt(Xe(Gc)),blockTime:et(oe()),blockHeight:et(oe())}))),vW=Rt(et(Se({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:oe(),rewards:mt(Xe(Gc)),blockTime:et(oe()),blockHeight:et(oe())}))),wW=Rt(et(Se({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:oe(),transactions:Xe(Se({transaction:cC,meta:et(py),version:mt(Yd)})),rewards:mt(Xe(Gc)),blockTime:et(oe()),blockHeight:et(oe())}))),xW=Rt(et(Se({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:oe(),transactions:Xe(Se({transaction:hC,meta:et(fS),version:mt(Yd)})),rewards:mt(Xe(Gc)),blockTime:et(oe()),blockHeight:et(oe())}))),bW=Rt(et(Se({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:oe(),transactions:Xe(Se({transaction:cC,meta:et(fS),version:mt(Yd)})),rewards:mt(Xe(Gc)),blockTime:et(oe()),blockHeight:et(oe())}))),_W=Rt(et(Se({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:oe(),rewards:mt(Xe(Gc)),blockTime:et(oe()),blockHeight:et(oe())}))),SW=Rt(et(Se({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:oe(),transactions:Xe(Se({transaction:dS,meta:et(py)})),rewards:mt(Xe(Gc)),blockTime:et(oe())}))),VN=Rt(et(Se({blockhash:Ue(),previousBlockhash:Ue(),parentSlot:oe(),signatures:Xe(Ue()),blockTime:et(oe())}))),cw=Rt(et(Se({slot:oe(),meta:et(py),blockTime:mt(et(oe())),transaction:dS,version:mt(Yd)}))),f0=Rt(et(Se({slot:oe(),transaction:hC,meta:et(fS),blockTime:mt(et(oe())),version:mt(Yd)}))),EW=Pr(Se({blockhash:Ue(),lastValidBlockHeight:oe()})),NW=Pr(go()),MW=Se({slot:oe(),numTransactions:oe(),numSlots:oe(),samplePeriodSecs:oe()}),AW=Rt(Xe(MW)),RW=Pr(et(Se({feeCalculator:Se({lamportsPerSignature:oe()})}))),kW=Rt(Ue()),TW=Rt(Ue()),IW=Se({err:qc,logs:Xe(Ue()),signature:Ue()}),CW=Se({result:hy(IW),subscription:oe()}),jW={"solana-client":"js/1.0.0-maintenance"};class hS{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const h={};return async p=>{const{commitment:v,config:E}=sr(p),b=this._buildArgs([],v,void 0,E),k=UN(b);return h[k]=h[k]??(async()=>{try{const N=await this._rpcRequest("getBlockHeight",b),A=Ge(N,Rt(oe()));if("error"in A)throw new dt(A.error,"failed to get block height information");return A.result}finally{delete h[k]}})(),await h[k]}})();let n,i,s,o,l,f;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,l=r.disableRetryOnRateLimit,f=r.httpAgent),this._rpcEndpoint=v9(e),this._rpcWsEndpoint=n||y9(e),this._rpcClient=j9(e,i,s,o,l,f),this._rpcRequest=O9(this._rpcClient),this._rpcBatchRequest=P9(this._rpcClient),this._rpcWebSocket=new h9(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=sr(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),l=Ge(o,Pr(oe()));if("error"in l)throw new dt(l.error,`failed to get balance for ${e.toBase58()}`);return l.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=Ge(r,Rt(et(oe())));if("error"in n)throw new dt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=Ge(e,Rt(oe()));if("error"in r)throw new dt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=Ge(e,W9);if("error"in r)throw new dt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Ge(n,$9);if("error"in i)throw new dt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Ge(i,Pr(fx));if("error"in s)throw new dt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Ge(i,Pr(fx));if("error"in s)throw new dt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=sr(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const l=this._buildArgs(o,i,"base64",s),f=await this._rpcRequest("getTokenAccountsByOwner",l),h=Ge(f,H9);if("error"in h)throw new dt(h.error,`failed to get token accounts owned by account ${e.toBase58()}`);return h.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),l=Ge(o,K9);if("error"in l)throw new dt(l.error,`failed to get token accounts owned by account ${e.toBase58()}`);return l.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Ge(i,q9);if("error"in s)throw new dt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Ge(i,V9);if("error"in s)throw new dt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=sr(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),l=Ge(o,Pr(et(Ch)));if("error"in l)throw new dt(l.error,`failed to get info about account ${e.toBase58()}`);return l.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=sr(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),l=Ge(o,Pr(et(px)));if("error"in l)throw new dt(l.error,`failed to get info about account ${e.toBase58()}`);return l.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=sr(r),s=e.map(h=>h.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),l=await this._rpcRequest("getMultipleAccounts",o),f=Ge(l,Pr(Xe(et(px))));if("error"in f)throw new dt(f.error,`failed to get info for accounts ${s}`);return f.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=sr(r),s=e.map(h=>h.toBase58()),o=this._buildArgs([s],n,"base64",i),l=await this._rpcRequest("getMultipleAccounts",o),f=Ge(l,Pr(Xe(et(Ch))));if("error"in f)throw new dt(f.error,`failed to get info for accounts ${s}`);return f.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=sr(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),l=await this._rpcRequest("getStakeActivation",o),f=Ge(l,Rt(Q9));if("error"in f)throw new dt(f.error,`failed to get Stake Activation ${e.toBase58()}`);return f.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=sr(r),{encoding:s,...o}=i||{},l=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:FN(o.filters)}:null}),f=await this._rpcRequest("getProgramAccounts",l),h=Xe(G9),p=o.withContext===!0?Ge(f,Pr(h)):Ge(f,Rt(h));if("error"in p)throw new dt(p.error,`failed to get accounts owned by program ${e.toBase58()}`);return p.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=sr(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),l=Ge(o,Rt(Xe(Y9)));if("error"in l)throw new dt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=mn.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Kt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((f,h)=>{try{n=this.onSignature(r,(v,E)=>{n=void 0;const b={context:E,value:v};f({__type:Co.PROCESSED,response:b})},e);const p=new Promise(v=>{n==null?v():i=this._onSubscriptionStateChange(n,E=>{E==="subscribed"&&v()})});(async()=>{if(await p,s)return;const v=await this.getSignatureStatus(r);if(s||v==null)return;const{context:E,value:b}=v;if(b!=null)if(b!=null&&b.err)h(b.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,f({__type:Co.PROCESSED,response:{context:E,value:b}})}})()}catch(p){h(p)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(v=>{const E=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let b=await E();if(!s){for(;b<=n;)if(await Zl(1e3),s||(b=await E(),s))return;v({__type:Co.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:l,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),h=this.getCancellationPromise(r);let p;try{const v=await Promise.race([h,f,o]);if(v.__type===Co.PROCESSED)p=v.response;else throw new aS(i)}finally{s=!0,l()}return p}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let l=!1;const f=new Promise(b=>{let k=s,N=null;const A=async()=>{try{const{context:R,value:T}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return N=R.slot,T==null?void 0:T.nonce}catch{return k}};(async()=>{if(k=await A(),!l)for(;;){if(s!==k){b({__type:Co.NONCE_INVALID,slotInWhichNonceDidAdvance:N});return}if(await Zl(2e3),l||(k=await A(),l))return}})()}),{abortConfirmation:h,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),v=this.getCancellationPromise(r);let E;try{const b=await Promise.race([v,p,f]);if(b.__type===Co.PROCESSED)E=b.response;else{let k;for(;;){const N=await this.getSignatureStatus(o);if(N==null)break;if(N.context.slot<(b.slotInWhichNonceDidAdvance??n)){await Zl(400);continue}k=N;break}if(k!=null&&k.value){const N=e||"finalized",{confirmationStatus:A}=k.value;switch(N){case"processed":case"recent":if(A!=="processed"&&A!=="confirmed"&&A!=="finalized")throw new ju(o);break;case"confirmed":case"single":case"singleGossip":if(A!=="confirmed"&&A!=="finalized")throw new ju(o);break;case"finalized":case"max":case"root":if(A!=="finalized")throw new ju(o);break;default:}E={context:k.context,value:{err:k.value.err}}}else throw new ju(o)}}finally{l=!0,h()}return E}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(f=>{let h=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{h=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>f({__type:Co.TIMED_OUT,timeoutMs:h}),h)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let l;try{const f=await Promise.race([o,i]);if(f.__type===Co.PROCESSED)l=f.response;else throw new lS(r,f.timeoutMs/1e3)}finally{clearTimeout(n),s()}return l}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=Ge(e,Rt(Xe(cW)));if("error"in r)throw new dt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=Ge(n,uW);if("error"in i)throw new dt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=sr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Ge(s,Rt(oe()));if("error"in o)throw new dt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=sr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Ge(s,Rt(Ue()));if("error"in o)throw new dt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=Ge(i,Rt(Xe(Rr)));if("error"in s)throw new dt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);Kt(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Ge(i,hW);if("error"in s)throw new dt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=sr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Ge(s,Rt(oe()));if("error"in o)throw new dt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=Ge(n,L9);if("error"in i)throw new dt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=sr(n),o=this._buildArgs([e.map(h=>h.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),l=await this._rpcRequest("getInflationReward",o),f=Ge(l,b9);if("error"in f)throw new dt(f.error,"failed to get inflation reward");return f.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=Ge(e,D9);if("error"in r)throw new dt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=sr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Ge(s,U9);if("error"in o)throw new dt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=Ge(e,z9);if("error"in r)throw new dt(r.error,"failed to get epoch schedule");const n=r.result;return new nC(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=Ge(e,F9);if("error"in r)throw new dt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Ge(i,pW);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=Ge(r,AW);if("error"in n)throw new dt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Ge(i,RW);if("error"in s)throw new dt(s.error,"failed to get fee calculator");const{context:o,value:l}=s.result;return{context:o,value:l!==null?l.feeCalculator:null}}async getFeeForMessage(e,r){const n=kt(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Ge(s,Pr(et(oe())));if("error"in o)throw new dt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(l=>l.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Ge(i,B9);if("error"in s)throw new dt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=sr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Ge(s,EW);if("error"in o)throw new dt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=sr(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),l=Ge(o,NW);if("error"in l)throw new dt(l.error,"failed to determine if the blockhash `"+e+"`is valid");return l.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=Ge(e,Rt(k9));if("error"in r)throw new dt(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=Ge(e,Rt(Ue()));if("error"in r)throw new dt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=sr(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const l=Ge(o,wW);if("error"in l)throw l.error;return l.result}case"none":{const l=Ge(o,vW);if("error"in l)throw l.error;return l.result}default:{const l=Ge(o,yW);if("error"in l)throw l.error;const{result:f}=l;return f?{...f,transactions:f.transactions.map(({transaction:h,meta:p,version:v})=>({meta:p,transaction:{...h,message:lw(v,h.message)},version:v}))}:null}}}catch(l){throw new dt(l,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=sr(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const l=Ge(o,bW);if("error"in l)throw l.error;return l.result}case"none":{const l=Ge(o,_W);if("error"in l)throw l.error;return l.result}default:{const l=Ge(o,xW);if("error"in l)throw l.error;return l.result}}}catch(l){throw new dt(l,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:l,...f}=e;n=l,r=f}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Ge(s,C9);if("error"in o)throw new dt(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=sr(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),l=Ge(o,cw);if("error"in l)throw new dt(l.error,"failed to get transaction");const f=l.result;return f&&{...f,transaction:{...f.transaction,message:lw(f.version,f.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=sr(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),l=Ge(o,f0);if("error"in l)throw new dt(l.error,"failed to get transaction");return l.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=sr(r),s=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(f=>{const h=Ge(f,f0);if("error"in h)throw new dt(h.error,"failed to get transactions");return h.result})}async getTransactions(e,r){const{commitment:n,config:i}=sr(r),s=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(f=>{const h=Ge(f,cw);if("error"in h)throw new dt(h.error,"failed to get transactions");const p=h.result;return p&&{...p,transaction:{...p.transaction,message:lw(p.version,p.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=Ge(i,SW);if("error"in s)throw new dt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const l={...o,transactions:o.transactions.map(({transaction:f,meta:h})=>{const p=new zi(f.message);return{meta:h,transaction:{...f,message:p}}})};return{...l,transactions:l.transactions.map(({transaction:f,meta:h})=>({meta:h,transaction:jt.populate(f.message,f.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=Ge(s,Rt(Xe(oe())));if("error"in o)throw new dt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Ge(i,VN);if("error"in s)throw new dt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Ge(i,VN);if("error"in s)throw new dt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=Ge(i,cw);if("error"in s)throw new dt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const l=new zi(o.transaction.message),f=o.transaction.signatures;return{...o,transaction:jt.populate(l,f)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=Ge(i,f0);if("error"in s)throw new dt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const l=Ge(o,f0);if("error"in l)throw new dt(l.error,"failed to get confirmed transactions");return l.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const f=await this.getConfirmedBlockSignatures(r,"finalized");f.signatures.length>0&&(i.until=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const f=await this.getConfirmedBlockSignatures(n);f.signatures.length>0&&(i.before=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(f=>f.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Ge(s,J9);if("error"in o)throw new dt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Ge(s,X9);if("error"in o)throw new dt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new dx({key:e,state:dx.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=fy.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=Ge(n,kW);if("error"in i)throw new dt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Zl(100);const n=Date.now()-this._blockhashInfo.lastFetch>=iC;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Zl(eC/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=sr(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Ge(s,Pr(oe()));if("error"in o)throw new dt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const N=e.serialize(),A=it.from(N).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const R=r||{};R.encoding="base64","commitment"in R||(R.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(R.innerInstructions=r.innerInstructions);const T=[A,R],C=await this._rpcRequest("simulateTransaction",T),j=Ge(C,WN);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let i;if(e instanceof jt){let k=e;i=new jt,i.feePayer=k.feePayer,i.instructions=e.instructions,i.nonceInfo=k.nonceInfo,i.signatures=k.signatures}else i=jt.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let k=this._disableBlockhashCaching;for(;;){const N=await this._blockhashWithExpiryBlockHeight(k);if(i.lastValidBlockHeight=N.lastValidBlockHeight,i.recentBlockhash=N.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const A=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(A)&&!this._blockhashInfo.transactionSignatures.includes(A)){this._blockhashInfo.simulatedSignatures.push(A);break}else k=!0}}const o=i._compile(),l=o.serialize(),h=i._serialize(l).toString("base64"),p={encoding:"base64",commitment:this.commitment};if(n){const k=(Array.isArray(n)?n:o.nonProgramIds()).map(N=>N.toBase58());p.accounts={encoding:"base64",addresses:k}}s&&(p.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(p.innerInstructions=r.innerInstructions);const v=[h,p],E=await this._rpcRequest("simulateTransaction",v),b=Ge(E,WN);if("error"in b){let k;if("data"in b.error&&(k=b.error.data.logs,k&&Array.isArray(k))){const N=`
    `,A=N+k.join(N);console.error(b.error.message,A)}throw new vl({action:"simulate",signature:"",transactionMessage:b.error.message,logs:k})}return b.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const l=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=l.lastValidBlockHeight,e.recentBlockhash=l.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const f=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(f))o=!0;else{this._blockhashInfo.transactionSignatures.push(f);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=kt(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],l=await this._rpcRequest("sendTransaction",o),f=Ge(l,TW);if("error"in f){let h;throw"data"in f.error&&(h=f.error.data.logs),new vl({action:i?"send":"simulate",signature:"",transactionMessage:f.error.message,logs:h})}return f.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const l=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:l,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[l]=i.callbacks,await this._updateSubscriptions()}catch(l){if(console.error(`Received ${l instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:l}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(l){if(l instanceof Error&&console.error(`${o} error:`,l.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=Ge(e,eW);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=UN([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];Kt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=sr(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=Ge(e,rW);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=sr(n),l=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:FN(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},l)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=Ge(e,CW);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=Ge(e,sW);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=Ge(e,oW);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=Ge(e,aW);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,l)=>{if(o.type==="status"){r(o.result,l);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),l=this._makeSubscription({callback:(f,h)=>{r(f,h);try{this.removeSignatureListener(l)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return l}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=Ge(e,lW);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ta{constructor(e){this._keypair=void 0,this._keypair=e??PN()}static generate(){return new ta(PN())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const i=e.slice(0,32),s=Jm(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new ta({publicKey:n,secretKey:e})}static fromSeed(e){const r=Jm(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new ta({publicKey:r,secretKey:n})}get publicKey(){return new me(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ho=Object.freeze({CreateLookupTable:{index:0,layout:at([ot("instruction"),Nd("recentSlot"),Wt("bumpSeed")])},FreezeLookupTable:{index:1,layout:at([ot("instruction")])},ExtendLookupTable:{index:2,layout:at([ot("instruction"),Nd(),gn(Lt(),ul(ot(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:at([ot("instruction")])},CloseLookupTable:{index:4,layout:at([ot("instruction")])}});class OW{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ot("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ho))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=Qt(Ho.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=Qt(Ho.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new me(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(pS.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class pS{constructor(){}static createLookupTable(e){const[r,n]=me.findProgramAddressSync([e.authority.toBuffer(),jI().encode(e.recentSlot)],this.programId),i=Ho.CreateLookupTable,s=Ut(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Br.programId,isSigner:!1,isWritable:!1}];return[new nr({programId:this.programId,keys:o,data:s}),r]}static freezeLookupTable(e){const r=Ho.FreezeLookupTable,n=Ut(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new nr({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const r=Ho.ExtendLookupTable,n=Ut(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Br.programId,isSigner:!1,isWritable:!1}),new nr({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const r=Ho.DeactivateLookupTable,n=Ut(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new nr({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const r=Ho.CloseLookupTable,n=Ut(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new nr({programId:this.programId,keys:i,data:n})}}pS.programId=new me("AddressLookupTab1e1111111111111111111111111");class PW{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Wt("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(io))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=Qt(io.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=Qt(io.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=Qt(io.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=Qt(io.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(mS.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const io=Object.freeze({RequestUnits:{index:0,layout:at([Wt("instruction"),ot("units"),ot("additionalFee")])},RequestHeapFrame:{index:1,layout:at([Wt("instruction"),ot("bytes")])},SetComputeUnitLimit:{index:2,layout:at([Wt("instruction"),ot("units")])},SetComputeUnitPrice:{index:3,layout:at([Wt("instruction"),Nd("microLamports")])}});class mS{constructor(){}static requestUnits(e){const r=io.RequestUnits,n=Ut(r,e);return new nr({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=io.RequestHeapFrame,n=Ut(r,e);return new nr({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=io.SetComputeUnitLimit,n=Ut(r,e);return new nr({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=io.SetComputeUnitPrice,n=Ut(r,{microLamports:BigInt(e.microLamports)});return new nr({keys:[],programId:this.programId,data:n})}}mS.programId=new me("ComputeBudget111111111111111111111111111111");const HN=64,KN=32,qN=64,GN=at([Wt("numSignatures"),Wt("padding"),Xs("signatureOffset"),Xs("signatureInstructionIndex"),Xs("publicKeyOffset"),Xs("publicKeyInstructionIndex"),Xs("messageDataOffset"),Xs("messageDataSize"),Xs("messageInstructionIndex")]);class my{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:s}=e;Kt(r.length===KN,`Public Key must be ${KN} bytes but received ${r.length} bytes`),Kt(i.length===qN,`Signature must be ${qN} bytes but received ${i.length} bytes`);const o=GN.span,l=o+r.length,f=l+i.length,h=1,p=it.alloc(f+n.length),v=s??65535;return GN.encode({numSignatures:h,padding:0,signatureOffset:l,signatureInstructionIndex:v,publicKeyOffset:o,publicKeyInstructionIndex:v,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:v},p),p.fill(r,o),p.fill(i,l),p.fill(n,f),new nr({keys:[],programId:my.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Kt(r.length===HN,`Private key must be ${HN} bytes but received ${r.length} bytes`);try{const s=ta.fromSecretKey(r),o=s.publicKey.toBytes(),l=iS(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:l,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}my.programId=new me("Ed25519SigVerify111111111111111111111111111");const LW=(t,e)=>{const r=cy.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};cy.utils.isValidPrivateKey;const DW=cy.getPublicKey,ZN=32,uw=20,YN=64,BW=11,dw=at([Wt("numSignatures"),Xs("signatureOffset"),Wt("signatureInstructionIndex"),Xs("ethAddressOffset"),Wt("ethAddressInstructionIndex"),Xs("messageDataOffset"),Xs("messageDataSize"),Wt("messageInstructionIndex"),ur(20,"ethAddress"),ur(64,"signature"),Wt("recoveryId")]);class Hu{constructor(){}static publicKeyToEthAddress(e){Kt(e.length===YN,`Public key must be ${YN} bytes but received ${e.length} bytes`);try{return it.from(TN(kt(e))).slice(-uw)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return Hu.createInstructionWithEthAddress({ethAddress:Hu.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;let l;typeof r=="string"?r.startsWith("0x")?l=it.from(r.substr(2),"hex"):l=it.from(r,"hex"):l=r,Kt(l.length===uw,`Address must be ${uw} bytes but received ${l.length} bytes`);const f=1+BW,h=f,p=f+l.length,v=p+i.length+1,E=1,b=it.alloc(dw.span+n.length);return dw.encode({numSignatures:E,signatureOffset:p,signatureInstructionIndex:o,ethAddressOffset:h,ethAddressInstructionIndex:o,messageDataOffset:v,messageDataSize:n.length,messageInstructionIndex:o,signature:kt(i),ethAddress:kt(l),recoveryId:s},b),b.fill(kt(n),dw.span),new nr({keys:[],programId:Hu.programId,data:b})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Kt(r.length===ZN,`Private key must be ${ZN} bytes but received ${r.length} bytes`);try{const s=kt(r),o=DW(s,!1).slice(1),l=it.from(TN(kt(n))),[f,h]=LW(l,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:f,recoveryId:h,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Hu.programId=new me("KeccakSecp256k11111111111111111111111111111");var mC;const gC=new me("StakeConfig11111111111111111111111111111111");class yC{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class wp{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}mC=wp;wp.default=new mC(0,0,me.default);class UW{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ot("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(sn))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=Qt(sn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new yC(new me(r.staker),new me(r.withdrawer)),lockup:new wp(n.unixTimestamp,n.epoch,new me(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Qt(sn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=Qt(sn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new me(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=Qt(sn.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new me(s),newAuthorizedPubkey:new me(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=Qt(sn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qt(sn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=Qt(sn.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qt(sn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(gy.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const sn=Object.freeze({Initialize:{index:0,layout:at([ot("instruction"),V7(),H7()])},Authorize:{index:1,layout:at([ot("instruction"),Lt("newAuthorized"),ot("stakeAuthorizationType")])},Delegate:{index:2,layout:at([ot("instruction")])},Split:{index:3,layout:at([ot("instruction"),Ps("lamports")])},Withdraw:{index:4,layout:at([ot("instruction"),Ps("lamports")])},Deactivate:{index:5,layout:at([ot("instruction")])},Merge:{index:7,layout:at([ot("instruction")])},AuthorizeWithSeed:{index:8,layout:at([ot("instruction"),Lt("newAuthorized"),ot("stakeAuthorizationType"),tc("authoritySeed"),Lt("authorityOwner")])}}),zW=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class gy{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||wp.default,o=sn.Initialize,l=Ut(o,{authorized:{staker:kt(n.staker.toBuffer()),withdrawer:kt(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:kt(s.custodian.toBuffer())}}),f={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ed,isSigner:!1,isWritable:!1}],programId:this.programId,data:l};return new nr(f)}static createAccountWithSeed(e){const r=new jt;r.add(Br.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new jt;r.add(Br.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=sn.Delegate,o=Ut(s);return new jt().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:H0,isSigner:!1,isWritable:!1},{pubkey:gC,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,l=sn.Authorize,f=Ut(l,{newAuthorized:kt(i.toBuffer()),stakeAuthorizationType:s.index}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&h.push({pubkey:o,isSigner:!0,isWritable:!1}),new jt().add({keys:h,programId:this.programId,data:f})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:l,custodianPubkey:f}=e,h=sn.AuthorizeWithSeed,p=Ut(h,{newAuthorized:kt(o.toBuffer()),stakeAuthorizationType:l.index,authoritySeed:i,authorityOwner:kt(s.toBuffer())}),v=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1}];return f&&v.push({pubkey:f,isSigner:!0,isWritable:!1}),new jt().add({keys:v,programId:this.programId,data:p})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=sn.Split,l=Ut(o,{lamports:s});return new nr({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static split(e,r){const n=new jt;return n.add(Br.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:l,lamports:f}=e,h=new jt;return h.add(Br.allocate({accountPubkey:s,basePubkey:o,seed:l,space:this.space,programId:this.programId})),r&&r>0&&h.add(Br.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),h.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:f}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=sn.Merge,o=Ut(s);return new jt().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:H0,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,l=sn.Withdraw,f=Ut(l,{lamports:s}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:H0,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&h.push({pubkey:o,isSigner:!0,isWritable:!1}),new jt().add({keys:h,programId:this.programId,data:f})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=sn.Deactivate,s=Ut(i);return new jt().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}gy.programId=new me("Stake11111111111111111111111111111111111111");gy.space=200;class vC{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class FW{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ot("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(oo))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=Qt(oo.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new vC(new me(r.nodePubkey),new me(r.authorizedVoter),new me(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=Qt(oo.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new me(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=Qt(oo.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new me(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new me(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=Qt(oo.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Qd.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const oo=Object.freeze({InitializeAccount:{index:0,layout:at([ot("instruction"),K7()])},Authorize:{index:1,layout:at([ot("instruction"),Lt("newAuthorized"),ot("voteAuthorizationType")])},Withdraw:{index:3,layout:at([ot("instruction"),Ps("lamports")])},UpdateValidatorIdentity:{index:4,layout:at([ot("instruction")])},AuthorizeWithSeed:{index:10,layout:at([ot("instruction"),q7()])}}),WW=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Qd{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=oo.InitializeAccount,o=Ut(s,{voteInit:{nodePubkey:kt(i.nodePubkey.toBuffer()),authorizedVoter:kt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:kt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ed,isSigner:!1,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new nr(l)}static createAccount(e){const r=new jt;return r.add(Br.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=oo.Authorize,l=Ut(o,{newAuthorized:kt(i.toBuffer()),voteAuthorizationType:s.index}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new jt().add({keys:f,programId:this.programId,data:l})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:l}=e,f=oo.AuthorizeWithSeed,h=Ut(f,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:kt(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:kt(s.toBuffer()),voteAuthorizationType:o.index}}),p=[{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new jt().add({keys:p,programId:this.programId,data:h})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=oo.Withdraw,l=Ut(o,{lamports:i}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new jt().add({keys:f,programId:this.programId,data:l})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return Qd.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=oo.UpdateValidatorIdentity,o=Ut(s),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new jt().add({keys:l,programId:this.programId,data:o})}}Qd.programId=new me("Vote111111111111111111111111111111111111111");Qd.space=3762;const wC=new me("Va1idator1nfo111111111111111111111111111111"),$W=Se({name:Ue(),website:mt(Ue()),details:mt(Ue()),iconUrl:mt(Ue()),keybaseUsername:mt(Ue())});class gS{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(xs(r)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new me(bs(r,0,fo)),l=so(r)===1;i.push({publicKey:o,isSigner:l})}if(i[0].publicKey.equals(wC)&&i[1].isSigner){const s=tc().decode(it.from(r)),o=JSON.parse(s);return OI(o,$W),new gS(i[1].publicKey,o)}return null}}const VW=new me("Vote111111111111111111111111111111111111111"),HW=at([Lt("nodePubkey"),Lt("authorizedWithdrawer"),Wt("commission"),dn(),gn(at([dn("slot"),ot("confirmationCount")]),ul(ot(),-8),"votes"),Wt("rootSlotValid"),dn("rootSlot"),dn(),gn(at([dn("epoch"),Lt("authorizedVoter")]),ul(ot(),-8),"authorizedVoters"),at([gn(at([Lt("authorizedPubkey"),dn("epochOfLastAuthorizedSwitch"),dn("targetEpoch")]),32,"buf"),dn("idx"),Wt("isEmpty")],"priorVoters"),dn(),gn(at([dn("epoch"),dn("credits"),dn("prevCredits")]),ul(ot(),-8),"epochCredits"),at([dn("slot"),dn("timestamp")],"lastTimestamp")]);class yS{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=HW.decode(kt(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new yS({nodePubkey:new me(n.nodePubkey),authorizedWithdrawer:new me(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(KW),priorVoters:qW(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function KW({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new me(t)}}function QN({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new me(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function qW({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(QN),...t.slice(0,e).map(QN)]}const JN={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function mx(t,e){const r=e===!1?"http":"https";if(!t)return JN[r].devnet;const n=JN[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function GW(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},l=await t.sendRawTransaction(e,o),f=s&&s.commitment,p=(await(i?t.confirmTransaction(i,f):t.confirmTransaction(l,f))).value;if(p.err)throw l!=null?new vl({action:o!=null&&o.skipPreflight?"send":"simulate",signature:l,transactionMessage:`Status: (${JSON.stringify(p)})`}):new Error(`Raw transaction ${l} failed (${JSON.stringify(p)})`);return l}const rc=1e9,ZW=Object.freeze(Object.defineProperty({__proto__:null,Account:F7,AddressLookupTableAccount:dx,AddressLookupTableInstruction:OW,AddressLookupTableProgram:pS,Authorized:yC,BLOCKHASH_CACHE_TIMEOUT_MS:iC,BPF_LOADER_DEPRECATED_PROGRAM_ID:W7,BPF_LOADER_PROGRAM_ID:o9,BpfLoader:a9,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:io,ComputeBudgetInstruction:PW,ComputeBudgetProgram:mS,Connection:hS,Ed25519Program:my,Enum:U7,EpochSchedule:nC,FeeCalculatorLayout:tC,Keypair:ta,LAMPORTS_PER_SOL:rc,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ho,Loader:Xm,Lockup:wp,MAX_SEED_LENGTH:QI,Message:zi,MessageAccountKeys:Ih,MessageV0:Tc,NONCE_ACCOUNT_LENGTH:cx,NonceAccount:fy,PACKET_DATA_SIZE:dl,PUBLIC_KEY_LENGTH:fo,PublicKey:me,SIGNATURE_LENGTH_IN_BYTES:Sd,SOLANA_SCHEMA:Jf,STAKE_CONFIG_ID:gC,STAKE_INSTRUCTION_LAYOUTS:sn,SYSTEM_INSTRUCTION_LAYOUTS:or,SYSVAR_CLOCK_PUBKEY:eo,SYSVAR_EPOCH_SCHEDULE_PUBKEY:J7,SYSVAR_INSTRUCTIONS_PUBKEY:X7,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:V0,SYSVAR_RENT_PUBKEY:Ed,SYSVAR_REWARDS_PUBKEY:e9,SYSVAR_SLOT_HASHES_PUBKEY:t9,SYSVAR_SLOT_HISTORY_PUBKEY:r9,SYSVAR_STAKE_HISTORY_PUBKEY:H0,Secp256k1Program:Hu,SendTransactionError:vl,SolanaJSONRPCError:dt,SolanaJSONRPCErrorCode:n9,StakeAuthorizationLayout:zW,StakeInstruction:UW,StakeProgram:gy,Struct:oS,SystemInstruction:s9,SystemProgram:Br,Transaction:jt,TransactionExpiredBlockheightExceededError:aS,TransactionExpiredNonceInvalidError:ju,TransactionExpiredTimeoutError:lS,TransactionInstruction:nr,TransactionMessage:cS,TransactionStatus:Co,VALIDATOR_INFO_KEY:wC,VERSION_PREFIX_MASK:uy,VOTE_PROGRAM_ID:VW,ValidatorInfo:gS,VersionedMessage:vp,VersionedTransaction:aa,VoteAccount:yS,VoteAuthorizationLayout:WW,VoteInit:vC,VoteInstruction:FW,VoteProgram:Qd,clusterApiUrl:mx,sendAndConfirmRawTransaction:GW,sendAndConfirmTransaction:lx},Symbol.toStringTag,{value:"Module"})),YW="DbsYHoEr7q4mqJMTrp7iEiXiCD9WPP8c39kPhJShTKMa",QW={name:"sodap",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},JW=[{name:"add_platform_admin",discriminator:[161,172,63,212,254,209,243,34],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"admin_pubkey",type:"pubkey"},{name:"admin_name",type:"string"},{name:"root_password",type:"string"}]},{name:"add_store_admin",discriminator:[198,151,163,65,104,162,70,38],accounts:[{name:"store",writable:!0},{name:"authority",signer:!0},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"store_id",type:"pubkey"},{name:"admin_pubkey",type:"pubkey"},{name:"role",type:{defined:{name:"AdminRoleType"}}}]},{name:"create_or_update_user_profile",discriminator:[179,73,133,221,229,96,217,31],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"user_id",type:{option:"pubkey"}},{name:"name",type:{option:"string"}},{name:"email",type:{option:"string"}},{name:"phone",type:{option:"string"}}]},{name:"create_user_wallet",discriminator:[86,213,225,48,56,62,72,148],accounts:[{name:"user_profile",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,119,97,108,108,101,116]},{kind:"account",path:"authority"}]}},{name:"authority",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"deactivate_product",discriminator:[94,118,5,80,69,37,75,96],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"product_id",type:"pubkey"}]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"purchase_cart",discriminator:[196,33,229,130,137,89,154,199],accounts:[{name:"store",writable:!0},{name:"receipt",writable:!0,signer:!0},{name:"buyer",writable:!0,signer:!0},{name:"store_owner",writable:!0},{name:"escrow_account",writable:!0,pda:{seeds:[{kind:"const",value:[101,115,99,114,111,119]},{kind:"account",path:"store"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"product_ids",type:{vec:"pubkey"}},{name:"quantities",type:{vec:"u64"}},{name:"total_amount_paid",type:"u64"}]},{name:"refund_from_escrow",discriminator:[52,190,158,62,194,173,200,247],accounts:[{name:"store",writable:!0},{name:"store_owner",signer:!0},{name:"buyer",writable:!0},{name:"escrow_account",writable:!0,pda:{seeds:[{kind:"const",value:[101,115,99,114,111,119]},{kind:"account",path:"store"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount",type:"u64"}]},{name:"register_product",discriminator:[224,97,195,220,124,218,78,43],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"product_id",type:"pubkey"},{name:"store_id",type:"pubkey"},{name:"name",type:"string"},{name:"description",type:"string"},{name:"image_uri",type:"string"},{name:"price",type:"u64"},{name:"inventory",type:{option:"u64"}},{name:"attributes",type:{vec:{defined:{name:"ProductAttribute"}}}}]},{name:"register_store",discriminator:[63,55,152,6,167,127,89,129],accounts:[{name:"store",writable:!0,pda:{seeds:[{kind:"const",value:[115,116,111,114,101]},{kind:"account",path:"authority"}]}},{name:"authority",signer:!0},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"logo_uri",type:"string"}]},{name:"release_escrow",discriminator:[146,253,129,233,20,145,181,206],accounts:[{name:"store",writable:!0},{name:"store_owner",writable:!0},{name:"escrow_account",writable:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount",type:"u64"}]},{name:"remove_platform_admin",discriminator:[182,87,52,81,16,1,172,34],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"admin_pubkey",type:"pubkey"},{name:"root_password",type:"string"}]},{name:"remove_store_admin",discriminator:[20,178,174,192,18,15,252,96],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"store_id",type:"pubkey"},{name:"admin_pubkey",type:"pubkey"}]},{name:"scan_and_purchase",discriminator:[123,177,142,160,80,85,135,57],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"product_ids",type:{vec:"pubkey"}},{name:"quantities",type:{vec:"u64"}},{name:"user_id",type:"pubkey"}]},{name:"update_product",discriminator:[139,180,241,126,123,240,13,224],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"product_id",type:"pubkey"},{name:"name",type:{option:"string"}},{name:"description",type:{option:"string"}},{name:"image_uri",type:{option:"string"}},{name:"price",type:{option:"u64"}},{name:"inventory",type:{option:"u64"}},{name:"attributes",type:{option:{vec:{defined:{name:"ProductAttribute"}}}}}]},{name:"update_store",discriminator:[169,49,137,251,233,234,172,103],accounts:[{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"store_id",type:"pubkey"},{name:"name",type:{option:"string"}},{name:"description",type:{option:"string"}},{name:"logo_uri",type:{option:"string"}}]}],XW=[{name:"Escrow",discriminator:[31,213,123,187,186,22,218,155]},{name:"Purchase",discriminator:[33,203,1,252,231,228,8,67]},{name:"Store",discriminator:[130,48,247,244,182,191,30,26]},{name:"UserProfile",discriminator:[32,37,119,205,179,180,13,194]}],e$=[{name:"AdminAdded",discriminator:[23,13,37,90,130,53,75,251]},{name:"AdminRemoved",discriminator:[59,133,36,27,156,79,75,146]},{name:"CartPurchased",discriminator:[224,208,17,224,206,127,200,205]},{name:"PlatformAdminAdded",discriminator:[231,252,87,10,68,133,55,246]},{name:"PlatformAdminRemoved",discriminator:[253,234,128,75,56,254,40,79]},{name:"PurchaseCompleted",discriminator:[166,14,235,151,212,162,21,41]},{name:"StoreRegistered",discriminator:[8,21,234,141,147,227,16,145]},{name:"StoreUpdated",discriminator:[218,7,142,56,57,63,185,211]},{name:"UserProfileUpdated",discriminator:[137,227,236,168,126,29,3,132]}],t$=[{code:6e3,name:"TooManyAdmins",msg:"Too many admins. Maximum allowed is 10"},{code:6001,name:"InvalidPrice",msg:"Invalid price"},{code:6002,name:"InvalidStock",msg:"Invalid stock"},{code:6003,name:"OutOfStock",msg:"Product is out of stock"},{code:6004,name:"InsufficientPayment",msg:"Insufficient payment"},{code:6005,name:"StockUnderflow",msg:"Stock underflow"},{code:6006,name:"Unauthorized",msg:"Unauthorized"},{code:6007,name:"CartEmpty",msg:"Cart is empty"},{code:6008,name:"InvalidCart",msg:"Invalid cart (mismatched product and quantity arrays)"},{code:6009,name:"ProductNotFound",msg:"Product not found"},{code:6010,name:"InsufficientStock",msg:"Insufficient stock"},{code:6011,name:"PriceOverflow",msg:"Price overflow when summing cart"},{code:6012,name:"CartTooLarge",msg:"Cart too large"},{code:6013,name:"AdminAlreadyExists",msg:"Admin already exists"},{code:6014,name:"CannotRemoveOwner",msg:"Cannot remove owner"},{code:6015,name:"StoreNotFound",msg:"Store not found"},{code:6016,name:"UnauthorizedStoreAccess",msg:"Unauthorized store access"},{code:6017,name:"AdminNotFound",msg:"Admin not found"},{code:6018,name:"UserNotFound",msg:"User not found"},{code:6019,name:"ArithmeticError",msg:"Arithmetic error"},{code:6020,name:"InvalidStoreId",msg:"Invalid store ID"},{code:6021,name:"InvalidProductId",msg:"Invalid product ID"},{code:6022,name:"InvalidAdminId",msg:"Invalid admin ID"},{code:6023,name:"InvalidLoyaltyConfig",msg:"Invalid loyalty configuration"},{code:6024,name:"StoreInactive",msg:"Store is inactive"},{code:6025,name:"InsufficientLoyaltyPoints",msg:"Insufficient loyalty points"},{code:6026,name:"LoyaltyProgramInactive",msg:"Loyalty program is inactive"},{code:6027,name:"InvalidParameters",msg:"Invalid parameters"},{code:6028,name:"InsufficientFunds",msg:"Insufficient funds"},{code:6029,name:"InvalidMetadataUri",msg:"Invalid metadata URI"},{code:6030,name:"InvalidAdminRole",msg:"Invalid admin role"},{code:6031,name:"InvalidStore",msg:"Invalid store"},{code:6032,name:"EscrowNotFound",msg:"Escrow account not found"},{code:6033,name:"LoyaltyMintNotFound",msg:"Loyalty mint not found"},{code:6034,name:"InvalidLoyaltyPoints",msg:"Invalid loyalty points"},{code:6035,name:"TransferHookError",msg:"Transfer hook error"}],r$=[{name:"AdminAdded",type:{kind:"struct",fields:[{name:"store_id",type:"pubkey"},{name:"admin_pubkey",type:"pubkey"},{name:"role_type",type:{defined:{name:"AdminRoleType"}}},{name:"added_at",type:"i64"}]}},{name:"AdminRemoved",type:{kind:"struct",fields:[{name:"store_id",type:"pubkey"},{name:"admin_pubkey",type:"pubkey"},{name:"removed_at",type:"i64"}]}},{name:"AdminRole",type:{kind:"struct",fields:[{name:"admin_pubkey",type:"pubkey"},{name:"role_type",type:{defined:{name:"AdminRoleType"}}}]}},{name:"AdminRoleType",type:{kind:"enum",variants:[{name:"Owner"},{name:"Manager"},{name:"Viewer"}]}},{name:"CartPurchased",docs:["offchain log"],type:{kind:"struct",fields:[{name:"store_id",type:"pubkey"},{name:"buyer_id",type:"pubkey"},{name:"product_uuids",type:{vec:{array:["u8",16]}}},{name:"quantities",type:{vec:"u64"}},{name:"total_paid",type:"u64"},{name:"gas_fee",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"Escrow",type:{kind:"struct",fields:[{name:"store",type:"pubkey"},{name:"balance",type:"u64"}]}},{name:"PlatformAdminAdded",type:{kind:"struct",fields:[{name:"admin_pubkey",type:"pubkey"},{name:"added_at",type:"i64"}]}},{name:"PlatformAdminRemoved",type:{kind:"struct",fields:[{name:"admin_pubkey",type:"pubkey"},{name:"removed_at",type:"i64"}]}},{name:"ProductAttribute",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"value",type:"string"}]}},{name:"Purchase",type:{kind:"struct",fields:[{name:"product_ids",type:{vec:"pubkey"}},{name:"quantities",type:{vec:"u64"}},{name:"total_paid",type:"u64"},{name:"gas_fee",type:"u64"},{name:"store",type:"pubkey"},{name:"buyer",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"PurchaseCompleted",type:{kind:"struct",fields:[{name:"store",type:"pubkey"},{name:"buyer",type:"pubkey"},{name:"total_amount",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"Store",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"name",type:"string"},{name:"description",type:"string"},{name:"logo_uri",type:"string"},{name:"is_active",type:"bool"},{name:"revenue",type:"u64"},{name:"bump",type:"u8"},{name:"escrow_bump",type:"u8"},{name:"admin_roles",type:{vec:{defined:{name:"AdminRole"}}}}]}},{name:"StoreRegistered",type:{kind:"struct",fields:[{name:"store_id",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"name",type:"string"},{name:"created_at",type:"i64"}]}},{name:"StoreUpdated",type:{kind:"struct",fields:[{name:"store_id",type:"pubkey"},{name:"updated_by",type:"pubkey"},{name:"updated_at",type:"i64"}]}},{name:"UserProfile",type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"user_id",type:"string"},{name:"delivery_address",type:"string"},{name:"preferred_store",type:"pubkey"},{name:"total_purchases",type:"u64"}]}},{name:"UserProfileUpdated",type:{kind:"struct",fields:[{name:"wallet_address",type:"pubkey"},{name:"user_id",type:"string"},{name:"updated_at",type:"i64"}]}}],n$={address:YW,metadata:QW,instructions:JW,accounts:XW,events:e$,errors:t$,types:r$},xC=n$,bC="4eLJ3QGiNrPN6UUr2fNxq6tUZqFdBMVpXkL2MhsKNriv",XN=globalThis||void 0||self;var vS={exports:{}};vS.exports;(function(t){(function(e,r){function n(x,a){if(!x)throw new Error(a||"Assertion failed")}function i(x,a){x.super_=a;var d=function(){};d.prototype=a.prototype,x.prototype=new d,x.prototype.constructor=x}function s(x,a,d){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((a==="le"||a==="be")&&(d=a,a=10),this._init(x||0,a||10,d||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Kd.Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,d){return a.cmp(d)>0?a:d},s.min=function(a,d){return a.cmp(d)<0?a:d},s.prototype._init=function(a,d,m){if(typeof a=="number")return this._initNumber(a,d,m);if(typeof a=="object")return this._initArray(a,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(d===16?this._parseHex(a,y,m):(this._parseBase(a,d,y),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(a,d,m){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,S,I=0;if(m==="be")for(y=a.length-1,g=0;y>=0;y-=3)S=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(m==="le")for(y=0,g=0;y<a.length;y+=3)S=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this._strip()};function l(x,a){var d=x.charCodeAt(a);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+x)}function f(x,a,d){var m=l(x,d);return d-1>=a&&(m|=l(x,d-1)<<4),m}s.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,S=0,I;if(m==="be")for(y=a.length-1;y>=d;y-=2)I=f(a,d,y)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var w=a.length-d;for(y=w%2===0?d+1:d;y<a.length;y+=2)I=f(a,d,y)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this._strip()};function h(x,a,d,m){for(var y=0,g=0,S=Math.min(x.length,d),I=a;I<S;I++){var w=x.charCodeAt(I)-48;y*=m,w>=49?g=w-49+10:w>=17?g=w-17+10:g=w,n(w>=0&&g<m,"Invalid character"),y+=g}return y}s.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=d)y++;y--,g=g/d|0;for(var S=a.length-m,I=S%y,w=Math.min(S,S-I)+m,c=0,_=m;_<w;_+=y)c=h(a,_,_+y,d),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(I!==0){var $=1;for(c=h(a,_,a.length,d),_=0;_<I;_++)$*=d;this.imuln($),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red};function p(x,a){x.words=a.words,x.length=a.length,x.negative=a.negative,x.red=a.red}if(s.prototype._move=function(a){p(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,d){a=a||10,d=d|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,g=0,S=0;S<this.length;S++){var I=this.words[S],w=((I<<y|g)&16777215).toString(16);g=I>>>24-y&16777215,y+=2,y>=26&&(y-=26,S--),g!==0||S!==this.length-1?m=E[6-w.length]+w+m:m=w+m}for(g!==0&&(m=g.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var c=b[a],_=k[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var H=$.modrn(_).toString(a);$=$.idivn(_),$.isZero()?m=H+m:m=E[c-H.length]+H+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(a,d){return this.toArrayLike(o,a,d)}),s.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)};var N=function(a,d){return a.allocUnsafe?a.allocUnsafe(d):new a(d)};s.prototype.toArrayLike=function(a,d,m){this._strip();var y=this.byteLength(),g=m||Math.max(1,y);n(y<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0");var S=N(a,g),I=d==="le"?"LE":"BE";return this["_toArrayLike"+I](S,y),S},s.prototype._toArrayLikeLE=function(a,d){for(var m=0,y=0,g=0,S=0;g<this.length;g++){var I=this.words[g]<<S|y;a[m++]=I&255,m<a.length&&(a[m++]=I>>8&255),m<a.length&&(a[m++]=I>>16&255),S===6?(m<a.length&&(a[m++]=I>>24&255),y=0,S=0):(y=I>>>24,S+=2)}if(m<a.length)for(a[m++]=y;m<a.length;)a[m++]=0},s.prototype._toArrayLikeBE=function(a,d){for(var m=a.length-1,y=0,g=0,S=0;g<this.length;g++){var I=this.words[g]<<S|y;a[m--]=I&255,m>=0&&(a[m--]=I>>8&255),m>=0&&(a[m--]=I>>16&255),S===6?(m>=0&&(a[m--]=I>>24&255),y=0,S=0):(y=I>>>24,S+=2)}if(m>=0)for(a[m--]=y;m>=0;)a[m--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(a){if(a===0)return 26;var d=a,m=0;return d&8191||(m+=13,d>>>=13),d&127||(m+=7,d>>>=7),d&15||(m+=4,d>>>=4),d&3||(m+=2,d>>>=2),d&1||m++,m},s.prototype.bitLength=function(){var a=this.words[this.length-1],d=this._countBits(a);return(this.length-1)*26+d};function A(x){for(var a=new Array(x.bitLength()),d=0;d<a.length;d++){var m=d/26|0,y=d%26;a[d]=x.words[m]>>>y&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,m!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this._strip()},s.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var d;this.length>a.length?d=a:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this._strip()},s.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=d.words[y]^m.words[y];if(this!==d)for(;y<d.length;y++)this.words[y]=d.words[y];return this.length=d.length,this._strip()},s.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var d=Math.ceil(a/26)|0,m=a%26;this._expand(d),m>0&&d--;for(var y=0;y<d;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,d){n(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this._strip()},s.prototype.iadd=function(a){var d;if(this.negative!==0&&a.negative===0)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var g=0,S=0;S<y.length;S++)d=(m.words[S]|0)+(y.words[S]|0)+g,this.words[S]=d&67108863,g=d>>>26;for(;g!==0&&S<m.length;S++)d=(m.words[S]|0)+g,this.words[S]=d&67108863,g=d>>>26;if(this.length=m.length,g!==0)this.words[this.length]=g,this.length++;else if(m!==this)for(;S<m.length;S++)this.words[S]=m.words[S];return this},s.prototype.add=function(a){var d;return a.negative!==0&&this.negative===0?(a.negative=0,d=this.sub(a),a.negative^=1,d):a.negative===0&&this.negative!==0?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;m>0?(y=this,g=a):(y=a,g=this);for(var S=0,I=0;I<g.length;I++)d=(y.words[I]|0)-(g.words[I]|0)+S,S=d>>26,this.words[I]=d&67108863;for(;S!==0&&I<y.length;I++)d=(y.words[I]|0)+S,S=d>>26,this.words[I]=d&67108863;if(S===0&&I<y.length&&y!==this)for(;I<y.length;I++)this.words[I]=y.words[I];return this.length=Math.max(this.length,I),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function R(x,a,d){d.negative=a.negative^x.negative;var m=x.length+a.length|0;d.length=m,m=m-1|0;var y=x.words[0]|0,g=a.words[0]|0,S=y*g,I=S&67108863,w=S/67108864|0;d.words[0]=I;for(var c=1;c<m;c++){for(var _=w>>>26,$=w&67108863,H=Math.min(c,a.length-1),G=Math.max(0,c-x.length+1);G<=H;G++){var re=c-G|0;y=x.words[re]|0,g=a.words[G]|0,S=y*g+$,_+=S/67108864|0,$=S&67108863}d.words[c]=$|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d._strip()}var T=function(a,d,m){var y=a.words,g=d.words,S=m.words,I=0,w,c,_,$=y[0]|0,H=$&8191,G=$>>>13,re=y[1]|0,ie=re&8191,le=re>>>13,nt=y[2]|0,ue=nt&8191,de=nt>>>13,vt=y[3]|0,ye=vt&8191,be=vt>>>13,Ft=y[4]|0,_e=Ft&8191,Me=Ft>>>13,hr=y[5]|0,Te=hr&8191,ke=hr>>>13,Q=y[6]|0,Z=Q&8191,X=Q>>>13,Ie=y[7]|0,se=Ie&8191,ne=Ie>>>13,De=y[8]|0,he=De&8191,B=De>>>13,P=y[9]|0,O=P&8191,z=P>>>13,ee=g[0]|0,Y=ee&8191,te=ee>>>13,ht=g[1]|0,ve=ht&8191,we=ht>>>13,Pt=g[2]|0,ge=Pt&8191,Le=Pt>>>13,Wr=g[3]|0,Be=Wr&8191,fe=Wr>>>13,At=g[4]|0,xe=At&8191,Ae=At>>>13,vr=g[5]|0,je=vr&8191,Pe=vr>>>13,wr=g[6]|0,Oe=wr&8191,ze=wr>>>13,pi=g[7]|0,Fe=pi&8191,We=pi>>>13,mi=g[8]|0,$e=mi&8191,Ve=mi>>>13,gi=g[9]|0,He=gi&8191,Ke=gi>>>13;m.negative=a.negative^d.negative,m.length=19,w=Math.imul(H,Y),c=Math.imul(H,te),c=c+Math.imul(G,Y)|0,_=Math.imul(G,te);var Dn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,w=Math.imul(ie,Y),c=Math.imul(ie,te),c=c+Math.imul(le,Y)|0,_=Math.imul(le,te),w=w+Math.imul(H,ve)|0,c=c+Math.imul(H,we)|0,c=c+Math.imul(G,ve)|0,_=_+Math.imul(G,we)|0;var Bn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,w=Math.imul(ue,Y),c=Math.imul(ue,te),c=c+Math.imul(de,Y)|0,_=Math.imul(de,te),w=w+Math.imul(ie,ve)|0,c=c+Math.imul(ie,we)|0,c=c+Math.imul(le,ve)|0,_=_+Math.imul(le,we)|0,w=w+Math.imul(H,ge)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(G,ge)|0,_=_+Math.imul(G,Le)|0;var Un=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ye,Y),c=Math.imul(ye,te),c=c+Math.imul(be,Y)|0,_=Math.imul(be,te),w=w+Math.imul(ue,ve)|0,c=c+Math.imul(ue,we)|0,c=c+Math.imul(de,ve)|0,_=_+Math.imul(de,we)|0,w=w+Math.imul(ie,ge)|0,c=c+Math.imul(ie,Le)|0,c=c+Math.imul(le,ge)|0,_=_+Math.imul(le,Le)|0,w=w+Math.imul(H,Be)|0,c=c+Math.imul(H,fe)|0,c=c+Math.imul(G,Be)|0,_=_+Math.imul(G,fe)|0;var zn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(zn>>>26)|0,zn&=67108863,w=Math.imul(_e,Y),c=Math.imul(_e,te),c=c+Math.imul(Me,Y)|0,_=Math.imul(Me,te),w=w+Math.imul(ye,ve)|0,c=c+Math.imul(ye,we)|0,c=c+Math.imul(be,ve)|0,_=_+Math.imul(be,we)|0,w=w+Math.imul(ue,ge)|0,c=c+Math.imul(ue,Le)|0,c=c+Math.imul(de,ge)|0,_=_+Math.imul(de,Le)|0,w=w+Math.imul(ie,Be)|0,c=c+Math.imul(ie,fe)|0,c=c+Math.imul(le,Be)|0,_=_+Math.imul(le,fe)|0,w=w+Math.imul(H,xe)|0,c=c+Math.imul(H,Ae)|0,c=c+Math.imul(G,xe)|0,_=_+Math.imul(G,Ae)|0;var Fn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(Te,Y),c=Math.imul(Te,te),c=c+Math.imul(ke,Y)|0,_=Math.imul(ke,te),w=w+Math.imul(_e,ve)|0,c=c+Math.imul(_e,we)|0,c=c+Math.imul(Me,ve)|0,_=_+Math.imul(Me,we)|0,w=w+Math.imul(ye,ge)|0,c=c+Math.imul(ye,Le)|0,c=c+Math.imul(be,ge)|0,_=_+Math.imul(be,Le)|0,w=w+Math.imul(ue,Be)|0,c=c+Math.imul(ue,fe)|0,c=c+Math.imul(de,Be)|0,_=_+Math.imul(de,fe)|0,w=w+Math.imul(ie,xe)|0,c=c+Math.imul(ie,Ae)|0,c=c+Math.imul(le,xe)|0,_=_+Math.imul(le,Ae)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(G,je)|0,_=_+Math.imul(G,Pe)|0;var Wn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,w=Math.imul(Z,Y),c=Math.imul(Z,te),c=c+Math.imul(X,Y)|0,_=Math.imul(X,te),w=w+Math.imul(Te,ve)|0,c=c+Math.imul(Te,we)|0,c=c+Math.imul(ke,ve)|0,_=_+Math.imul(ke,we)|0,w=w+Math.imul(_e,ge)|0,c=c+Math.imul(_e,Le)|0,c=c+Math.imul(Me,ge)|0,_=_+Math.imul(Me,Le)|0,w=w+Math.imul(ye,Be)|0,c=c+Math.imul(ye,fe)|0,c=c+Math.imul(be,Be)|0,_=_+Math.imul(be,fe)|0,w=w+Math.imul(ue,xe)|0,c=c+Math.imul(ue,Ae)|0,c=c+Math.imul(de,xe)|0,_=_+Math.imul(de,Ae)|0,w=w+Math.imul(ie,je)|0,c=c+Math.imul(ie,Pe)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Pe)|0,w=w+Math.imul(H,Oe)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(G,Oe)|0,_=_+Math.imul(G,ze)|0;var $n=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(se,Y),c=Math.imul(se,te),c=c+Math.imul(ne,Y)|0,_=Math.imul(ne,te),w=w+Math.imul(Z,ve)|0,c=c+Math.imul(Z,we)|0,c=c+Math.imul(X,ve)|0,_=_+Math.imul(X,we)|0,w=w+Math.imul(Te,ge)|0,c=c+Math.imul(Te,Le)|0,c=c+Math.imul(ke,ge)|0,_=_+Math.imul(ke,Le)|0,w=w+Math.imul(_e,Be)|0,c=c+Math.imul(_e,fe)|0,c=c+Math.imul(Me,Be)|0,_=_+Math.imul(Me,fe)|0,w=w+Math.imul(ye,xe)|0,c=c+Math.imul(ye,Ae)|0,c=c+Math.imul(be,xe)|0,_=_+Math.imul(be,Ae)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Pe)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Pe)|0,w=w+Math.imul(ie,Oe)|0,c=c+Math.imul(ie,ze)|0,c=c+Math.imul(le,Oe)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(H,Fe)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(G,Fe)|0,_=_+Math.imul(G,We)|0;var Vn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(he,Y),c=Math.imul(he,te),c=c+Math.imul(B,Y)|0,_=Math.imul(B,te),w=w+Math.imul(se,ve)|0,c=c+Math.imul(se,we)|0,c=c+Math.imul(ne,ve)|0,_=_+Math.imul(ne,we)|0,w=w+Math.imul(Z,ge)|0,c=c+Math.imul(Z,Le)|0,c=c+Math.imul(X,ge)|0,_=_+Math.imul(X,Le)|0,w=w+Math.imul(Te,Be)|0,c=c+Math.imul(Te,fe)|0,c=c+Math.imul(ke,Be)|0,_=_+Math.imul(ke,fe)|0,w=w+Math.imul(_e,xe)|0,c=c+Math.imul(_e,Ae)|0,c=c+Math.imul(Me,xe)|0,_=_+Math.imul(Me,Ae)|0,w=w+Math.imul(ye,je)|0,c=c+Math.imul(ye,Pe)|0,c=c+Math.imul(be,je)|0,_=_+Math.imul(be,Pe)|0,w=w+Math.imul(ue,Oe)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(de,Oe)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ie,Fe)|0,c=c+Math.imul(ie,We)|0,c=c+Math.imul(le,Fe)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(G,$e)|0,_=_+Math.imul(G,Ve)|0;var Hn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,w=Math.imul(O,Y),c=Math.imul(O,te),c=c+Math.imul(z,Y)|0,_=Math.imul(z,te),w=w+Math.imul(he,ve)|0,c=c+Math.imul(he,we)|0,c=c+Math.imul(B,ve)|0,_=_+Math.imul(B,we)|0,w=w+Math.imul(se,ge)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(ne,ge)|0,_=_+Math.imul(ne,Le)|0,w=w+Math.imul(Z,Be)|0,c=c+Math.imul(Z,fe)|0,c=c+Math.imul(X,Be)|0,_=_+Math.imul(X,fe)|0,w=w+Math.imul(Te,xe)|0,c=c+Math.imul(Te,Ae)|0,c=c+Math.imul(ke,xe)|0,_=_+Math.imul(ke,Ae)|0,w=w+Math.imul(_e,je)|0,c=c+Math.imul(_e,Pe)|0,c=c+Math.imul(Me,je)|0,_=_+Math.imul(Me,Pe)|0,w=w+Math.imul(ye,Oe)|0,c=c+Math.imul(ye,ze)|0,c=c+Math.imul(be,Oe)|0,_=_+Math.imul(be,ze)|0,w=w+Math.imul(ue,Fe)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(de,Fe)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ie,$e)|0,c=c+Math.imul(ie,Ve)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(H,He)|0,c=c+Math.imul(H,Ke)|0,c=c+Math.imul(G,He)|0,_=_+Math.imul(G,Ke)|0;var Kn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,w=Math.imul(O,ve),c=Math.imul(O,we),c=c+Math.imul(z,ve)|0,_=Math.imul(z,we),w=w+Math.imul(he,ge)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(B,ge)|0,_=_+Math.imul(B,Le)|0,w=w+Math.imul(se,Be)|0,c=c+Math.imul(se,fe)|0,c=c+Math.imul(ne,Be)|0,_=_+Math.imul(ne,fe)|0,w=w+Math.imul(Z,xe)|0,c=c+Math.imul(Z,Ae)|0,c=c+Math.imul(X,xe)|0,_=_+Math.imul(X,Ae)|0,w=w+Math.imul(Te,je)|0,c=c+Math.imul(Te,Pe)|0,c=c+Math.imul(ke,je)|0,_=_+Math.imul(ke,Pe)|0,w=w+Math.imul(_e,Oe)|0,c=c+Math.imul(_e,ze)|0,c=c+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(ye,Fe)|0,c=c+Math.imul(ye,We)|0,c=c+Math.imul(be,Fe)|0,_=_+Math.imul(be,We)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ie,He)|0,c=c+Math.imul(ie,Ke)|0,c=c+Math.imul(le,He)|0,_=_+Math.imul(le,Ke)|0;var qn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,w=Math.imul(O,ge),c=Math.imul(O,Le),c=c+Math.imul(z,ge)|0,_=Math.imul(z,Le),w=w+Math.imul(he,Be)|0,c=c+Math.imul(he,fe)|0,c=c+Math.imul(B,Be)|0,_=_+Math.imul(B,fe)|0,w=w+Math.imul(se,xe)|0,c=c+Math.imul(se,Ae)|0,c=c+Math.imul(ne,xe)|0,_=_+Math.imul(ne,Ae)|0,w=w+Math.imul(Z,je)|0,c=c+Math.imul(Z,Pe)|0,c=c+Math.imul(X,je)|0,_=_+Math.imul(X,Pe)|0,w=w+Math.imul(Te,Oe)|0,c=c+Math.imul(Te,ze)|0,c=c+Math.imul(ke,Oe)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(_e,Fe)|0,c=c+Math.imul(_e,We)|0,c=c+Math.imul(Me,Fe)|0,_=_+Math.imul(Me,We)|0,w=w+Math.imul(ye,$e)|0,c=c+Math.imul(ye,Ve)|0,c=c+Math.imul(be,$e)|0,_=_+Math.imul(be,Ve)|0,w=w+Math.imul(ue,He)|0,c=c+Math.imul(ue,Ke)|0,c=c+Math.imul(de,He)|0,_=_+Math.imul(de,Ke)|0;var Gn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(O,Be),c=Math.imul(O,fe),c=c+Math.imul(z,Be)|0,_=Math.imul(z,fe),w=w+Math.imul(he,xe)|0,c=c+Math.imul(he,Ae)|0,c=c+Math.imul(B,xe)|0,_=_+Math.imul(B,Ae)|0,w=w+Math.imul(se,je)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(ne,je)|0,_=_+Math.imul(ne,Pe)|0,w=w+Math.imul(Z,Oe)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(X,Oe)|0,_=_+Math.imul(X,ze)|0,w=w+Math.imul(Te,Fe)|0,c=c+Math.imul(Te,We)|0,c=c+Math.imul(ke,Fe)|0,_=_+Math.imul(ke,We)|0,w=w+Math.imul(_e,$e)|0,c=c+Math.imul(_e,Ve)|0,c=c+Math.imul(Me,$e)|0,_=_+Math.imul(Me,Ve)|0,w=w+Math.imul(ye,He)|0,c=c+Math.imul(ye,Ke)|0,c=c+Math.imul(be,He)|0,_=_+Math.imul(be,Ke)|0;var Zn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(O,xe),c=Math.imul(O,Ae),c=c+Math.imul(z,xe)|0,_=Math.imul(z,Ae),w=w+Math.imul(he,je)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(B,je)|0,_=_+Math.imul(B,Pe)|0,w=w+Math.imul(se,Oe)|0,c=c+Math.imul(se,ze)|0,c=c+Math.imul(ne,Oe)|0,_=_+Math.imul(ne,ze)|0,w=w+Math.imul(Z,Fe)|0,c=c+Math.imul(Z,We)|0,c=c+Math.imul(X,Fe)|0,_=_+Math.imul(X,We)|0,w=w+Math.imul(Te,$e)|0,c=c+Math.imul(Te,Ve)|0,c=c+Math.imul(ke,$e)|0,_=_+Math.imul(ke,Ve)|0,w=w+Math.imul(_e,He)|0,c=c+Math.imul(_e,Ke)|0,c=c+Math.imul(Me,He)|0,_=_+Math.imul(Me,Ke)|0;var Yn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(O,je),c=Math.imul(O,Pe),c=c+Math.imul(z,je)|0,_=Math.imul(z,Pe),w=w+Math.imul(he,Oe)|0,c=c+Math.imul(he,ze)|0,c=c+Math.imul(B,Oe)|0,_=_+Math.imul(B,ze)|0,w=w+Math.imul(se,Fe)|0,c=c+Math.imul(se,We)|0,c=c+Math.imul(ne,Fe)|0,_=_+Math.imul(ne,We)|0,w=w+Math.imul(Z,$e)|0,c=c+Math.imul(Z,Ve)|0,c=c+Math.imul(X,$e)|0,_=_+Math.imul(X,Ve)|0,w=w+Math.imul(Te,He)|0,c=c+Math.imul(Te,Ke)|0,c=c+Math.imul(ke,He)|0,_=_+Math.imul(ke,Ke)|0;var Qn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(O,Oe),c=Math.imul(O,ze),c=c+Math.imul(z,Oe)|0,_=Math.imul(z,ze),w=w+Math.imul(he,Fe)|0,c=c+Math.imul(he,We)|0,c=c+Math.imul(B,Fe)|0,_=_+Math.imul(B,We)|0,w=w+Math.imul(se,$e)|0,c=c+Math.imul(se,Ve)|0,c=c+Math.imul(ne,$e)|0,_=_+Math.imul(ne,Ve)|0,w=w+Math.imul(Z,He)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(X,He)|0,_=_+Math.imul(X,Ke)|0;var Jn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,w=Math.imul(O,Fe),c=Math.imul(O,We),c=c+Math.imul(z,Fe)|0,_=Math.imul(z,We),w=w+Math.imul(he,$e)|0,c=c+Math.imul(he,Ve)|0,c=c+Math.imul(B,$e)|0,_=_+Math.imul(B,Ve)|0,w=w+Math.imul(se,He)|0,c=c+Math.imul(se,Ke)|0,c=c+Math.imul(ne,He)|0,_=_+Math.imul(ne,Ke)|0;var Xn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(O,$e),c=Math.imul(O,Ve),c=c+Math.imul(z,$e)|0,_=Math.imul(z,Ve),w=w+Math.imul(he,He)|0,c=c+Math.imul(he,Ke)|0,c=c+Math.imul(B,He)|0,_=_+Math.imul(B,Ke)|0;var es=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(es>>>26)|0,es&=67108863,w=Math.imul(O,He),c=Math.imul(O,Ke),c=c+Math.imul(z,He)|0,_=Math.imul(z,Ke);var ts=(I+w|0)+((c&8191)<<13)|0;return I=(_+(c>>>13)|0)+(ts>>>26)|0,ts&=67108863,S[0]=Dn,S[1]=Bn,S[2]=Un,S[3]=zn,S[4]=Fn,S[5]=Wn,S[6]=$n,S[7]=Vn,S[8]=Hn,S[9]=Kn,S[10]=qn,S[11]=Gn,S[12]=Zn,S[13]=Yn,S[14]=Qn,S[15]=Jn,S[16]=Xn,S[17]=es,S[18]=ts,I!==0&&(S[19]=I,m.length++),m};Math.imul||(T=R);function C(x,a,d){d.negative=a.negative^x.negative,d.length=x.length+a.length;for(var m=0,y=0,g=0;g<d.length-1;g++){var S=y;y=0;for(var I=m&67108863,w=Math.min(g,a.length-1),c=Math.max(0,g-x.length+1);c<=w;c++){var _=g-c,$=x.words[_]|0,H=a.words[c]|0,G=$*H,re=G&67108863;S=S+(G/67108864|0)|0,re=re+I|0,I=re&67108863,S=S+(re>>>26)|0,y+=S>>>26,S&=67108863}d.words[g]=I,m=S,S=y}return m!==0?d.words[g]=m:d.length--,d._strip()}function j(x,a,d){return C(x,a,d)}s.prototype.mulTo=function(a,d){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=T(this,a,d):y<63?m=R(this,a,d):y<1024?m=C(this,a,d):m=j(this,a,d),m},s.prototype.mul=function(a){var d=new s(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},s.prototype.mulf=function(a){var d=new s(null);return d.words=new Array(this.length+a.length),j(this,a,d)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var d=a<0;d&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var m=0,y=0;y<this.length;y++){var g=(this.words[y]|0)*a,S=(g&67108863)+(m&67108863);m>>=26,m+=g/67108864|0,m+=S>>>26,this.words[y]=S&67108863}return m!==0&&(this.words[y]=m,this.length++),this.length=a===0?1:this.length,d?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var d=A(a);if(d.length===0)return new s(1);for(var m=this,y=0;y<d.length&&d[y]===0;y++,m=m.sqr());if(++y<d.length)for(var g=m.sqr();y<d.length;y++,g=g.sqr())d[y]!==0&&(m=m.mul(g));return m},s.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26,y=67108863>>>26-d<<26-d,g;if(d!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&y,w=(this.words[g]|0)-I<<d;this.words[g]=w|S,S=I>>>26-d}S&&(this.words[g]=S,this.length++)}if(m!==0){for(g=this.length-1;g>=0;g--)this.words[g+m]=this.words[g];for(g=0;g<m;g++)this.words[g]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,d,m){n(typeof a=="number"&&a>=0);var y;d?y=(d-d%26)/26:y=0;var g=a%26,S=Math.min((a-g)/26,this.length),I=67108863^67108863>>>g<<g,w=m;if(y-=S,y=Math.max(0,y),w){for(var c=0;c<S;c++)w.words[c]=this.words[c];w.length=S}if(S!==0)if(this.length>S)for(this.length-=S,c=0;c<this.length;c++)this.words[c]=this.words[c+S];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=y);c--){var $=this.words[c]|0;this.words[c]=_<<26-g|$>>>g,_=$&I}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,d,m){return n(this.negative===0),this.iushrn(a,d,m)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26,y=1<<d;if(this.length<=m)return!1;var g=this.words[m];return!!(g&y)},s.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var y=67108863^67108863>>>d<<d;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,d,m){var y=a.length+m,g;this._expand(y);var S,I=0;for(g=0;g<a.length;g++){S=(this.words[g+m]|0)+I;var w=(a.words[g]|0)*d;S-=w&67108863,I=(S>>26)-(w/67108864|0),this.words[g+m]=S&67108863}for(;g<this.length-m;g++)S=(this.words[g+m]|0)+I,I=S>>26,this.words[g+m]=S&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,d){var m=this.length-a.length,y=this.clone(),g=a,S=g.words[g.length-1]|0,I=this._countBits(S);m=26-I,m!==0&&(g=g.ushln(m),y.iushln(m),S=g.words[g.length-1]|0);var w=y.length-g.length,c;if(d!=="mod"){c=new s(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var $=y.clone()._ishlnsubmul(g,1,w);$.negative===0&&(y=$,c&&(c.words[w]=1));for(var H=w-1;H>=0;H--){var G=(y.words[g.length+H]|0)*67108864+(y.words[g.length+H-1]|0);for(G=Math.min(G/S|0,67108863),y._ishlnsubmul(g,G,H);y.negative!==0;)G--,y.negative=0,y._ishlnsubmul(g,1,H),y.isZero()||(y.negative^=1);c&&(c.words[H]=G)}return c&&c._strip(),y._strip(),d!=="div"&&m!==0&&y.iushrn(m),{div:c||null,mod:y}},s.prototype.divmod=function(a,d,m){if(n(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,g,S;return this.negative!==0&&a.negative===0?(S=this.neg().divmod(a,d),d!=="mod"&&(y=S.div.neg()),d!=="div"&&(g=S.mod.neg(),m&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(S=this.divmod(a.neg(),d),d!=="mod"&&(y=S.div.neg()),{div:y,mod:S.mod}):this.negative&a.negative?(S=this.neg().divmod(a.neg(),d),d!=="div"&&(g=S.mod.neg(),m&&g.negative!==0&&g.isub(a)),{div:S.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?d==="div"?{div:this.divn(a.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,d)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(a):d.mod,y=a.ushrn(1),g=a.andln(1),S=m.cmp(y);return S<0||g===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(a){var d=a<0;d&&(a=-a),n(a<=67108863);for(var m=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(m*y+(this.words[g]|0))%a;return d?-y:y},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var d=a<0;d&&(a=-a),n(a<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var g=(this.words[y]|0)+m*67108864;this.words[y]=g/a|0,m=g%a}return this._strip(),d?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var d=this,m=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var y=new s(1),g=new s(0),S=new s(0),I=new s(1),w=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++w;for(var c=m.clone(),_=d.clone();!d.isZero();){for(var $=0,H=1;!(d.words[0]&H)&&$<26;++$,H<<=1);if($>0)for(d.iushrn($);$-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(_)),y.iushrn(1),g.iushrn(1);for(var G=0,re=1;!(m.words[0]&re)&&G<26;++G,re<<=1);if(G>0)for(m.iushrn(G);G-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(c),I.isub(_)),S.iushrn(1),I.iushrn(1);d.cmp(m)>=0?(d.isub(m),y.isub(S),g.isub(I)):(m.isub(d),S.isub(y),I.isub(g))}return{a:S,b:I,gcd:m.iushln(w)}},s.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var d=this,m=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var y=new s(1),g=new s(0),S=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var I=0,w=1;!(d.words[0]&w)&&I<26;++I,w<<=1);if(I>0)for(d.iushrn(I);I-- >0;)y.isOdd()&&y.iadd(S),y.iushrn(1);for(var c=0,_=1;!(m.words[0]&_)&&c<26;++c,_<<=1);if(c>0)for(m.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);d.cmp(m)>=0?(d.isub(m),y.isub(g)):(m.isub(d),g.isub(y))}var $;return d.cmpn(1)===0?$=y:$=g,$.cmpn(0)<0&&$.iadd(a),$},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var y=0;d.isEven()&&m.isEven();y++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var g=d.cmp(m);if(g<0){var S=d;d=m,m=S}else if(g===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(y)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){n(typeof a=="number");var d=a%26,m=(a-d)/26,y=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var g=y,S=m;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var d=a<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(a=-a),n(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var d=this.ucmp(a);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,g=a.words[m]|0;if(y!==g){y<g?d=-1:y>g&&(d=1);break}}return d},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new V(a)},s.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function U(x,a){this.name=x,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},U.prototype.ireduce=function(a){var d=a,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var y=m<this.n?-1:d.ucmp(this.p);return y===0?(d.words[0]=0,d.length=1):y>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},U.prototype.split=function(a,d){a.iushrn(this.n,0,d)},U.prototype.imulK=function(a){return a.imul(this.k)};function L(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,U),L.prototype.split=function(a,d){for(var m=4194303,y=Math.min(a.length,9),g=0;g<y;g++)d.words[g]=a.words[g];if(d.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var S=a.words[9];for(d.words[d.length++]=S&m,g=10;g<a.length;g++){var I=a.words[g]|0;a.words[g-10]=(I&m)<<4|S>>>22,S=I}S>>>=22,a.words[g-10]=S,S===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var y=a.words[m]|0;d+=y*977,a.words[m]=d&67108863,d=y*64+(d/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function F(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,U);function W(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,U);function q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(q,U),q.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+d,g=y&67108863;y>>>=26,a.words[m]=g,d=y}return d!==0&&(a.words[a.length++]=d),a},s._prime=function(a){if(D[a])return D[a];var d;if(a==="k256")d=new L;else if(a==="p224")d=new F;else if(a==="p192")d=new W;else if(a==="p25519")d=new q;else throw new Error("Unknown prime "+a);return D[a]=d,d};function V(x){if(typeof x=="string"){var a=s._prime(x);this.m=a.p,this.prime=a}else n(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}V.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},V.prototype._verify2=function(a,d){n((a.negative|d.negative)===0,"red works only with positives"),n(a.red&&a.red===d.red,"red works only with red numbers")},V.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(p(a,a.umod(this.m)._forceRed(this)),a)},V.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},V.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},V.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},V.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},V.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},V.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},V.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},V.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},V.prototype.isqr=function(a){return this.imul(a,a.clone())},V.prototype.sqr=function(a){return this.mul(a,a)},V.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);n(!y.isZero());var S=new s(1).toRed(this),I=S.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,w).cmp(I)!==0;)c.redIAdd(I);for(var _=this.pow(c,y),$=this.pow(a,y.addn(1).iushrn(1)),H=this.pow(a,y),G=g;H.cmp(S)!==0;){for(var re=H,ie=0;re.cmp(S)!==0;ie++)re=re.redSqr();n(ie<G);var le=this.pow(_,new s(1).iushln(G-ie-1));$=$.redMul(le),_=le.redSqr(),H=H.redMul(_),G=ie}return $},V.prototype.invm=function(a){var d=a._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},V.prototype.pow=function(a,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new s(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var S=y[0],I=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),g=d.length-1;g>=0;g--){for(var _=d.words[g],$=c-1;$>=0;$--){var H=_>>$&1;if(S!==y[0]&&(S=this.sqr(S)),H===0&&I===0){w=0;continue}I<<=1,I|=H,w++,!(w!==m&&(g!==0||$!==0))&&(S=this.mul(S,y[I]),w=0,I=0)}c=26}return S},V.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},V.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},s.mont=function(a){return new K(a)};function K(x){V.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,V),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},K.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(y).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},K.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new s(0)._forceRed(this);var m=a.mul(d),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(y).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},K.prototype.invm=function(a){var d=this.imod(a._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,jn)})(vS);var s$=vS.exports;const Yl=fi(s$);var h0=$_.Buffer;function i$(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,l=t.charAt(0),f=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function p(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=h0.from(b)),!h0.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var k=0,N=0,A=0,R=b.length;A!==R&&b[A]===0;)A++,k++;for(var T=(R-A)*h+1>>>0,C=new Uint8Array(T);A!==R;){for(var j=b[A],D=0,U=T-1;(j!==0||D<N)&&U!==-1;U--,D++)j+=256*C[U]>>>0,C[U]=j%o>>>0,j=j/o>>>0;if(j!==0)throw new Error("Non-zero carry");N=D,A++}for(var L=T-N;L!==T&&C[L]===0;)L++;for(var F=l.repeat(k);L<T;++L)F+=t.charAt(C[L]);return F}function v(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return h0.alloc(0);for(var k=0,N=0,A=0;b[k]===l;)N++,k++;for(var R=(b.length-k)*f+1>>>0,T=new Uint8Array(R);k<b.length;){var C=b.charCodeAt(k);if(C>255)return;var j=e[C];if(j===255)return;for(var D=0,U=R-1;(j!==0||D<A)&&U!==-1;U--,D++)j+=o*T[U]>>>0,T[U]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");A=D,k++}for(var L=R-A;L!==R&&T[L]===0;)L++;var F=h0.allocUnsafe(N+(R-L));F.fill(0,0,N);for(var W=N;L!==R;)F[W++]=T[L++];return F}function E(b){var k=v(b);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:v,decode:E}}var o$=i$,a$=o$,l$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",c$=a$(l$);const wS=fi(c$);var xS={exports:{}};const u$=/[\p{Lu}]/u,d$=/[\p{Ll}]/u,eM=/^[\p{Lu}](?![\p{Lu}])/gu,_C=/([\p{Alpha}\p{N}_]|$)/u,SC=/[_.\- ]+/,f$=new RegExp("^"+SC.source),tM=new RegExp(SC.source+_C.source,"gu"),rM=new RegExp("\\d+"+_C.source,"gu"),h$=(t,e,r)=>{let n=!1,i=!1,s=!1;for(let o=0;o<t.length;o++){const l=t[o];n&&u$.test(l)?(t=t.slice(0,o)+"-"+t.slice(o),n=!1,s=i,i=!0,o++):i&&s&&d$.test(l)?(t=t.slice(0,o-1)+"-"+t.slice(o-1),s=i,i=!1,n=!0):(n=e(l)===l&&r(l)!==l,s=i,i=r(l)===l&&e(l)!==l)}return t},p$=(t,e)=>(eM.lastIndex=0,t.replace(eM,r=>e(r))),m$=(t,e)=>(tM.lastIndex=0,rM.lastIndex=0,t.replace(tM,(r,n)=>e(n)).replace(rM,r=>e(r))),EC=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(s=>s.trim()).filter(s=>s.length).join("-"):t=t.trim(),t.length===0)return"";const r=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),n=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?n(t):r(t):(t!==r(t)&&(t=h$(t,r,n)),t=t.replace(f$,""),e.preserveConsecutiveUppercase?t=p$(t,r):t=r(t),e.pascalCase&&(t=n(t.charAt(0))+t.slice(1)),m$(t,n))};xS.exports=EC;xS.exports.default=EC;var g$=xS.exports;const y$=fi(g$);var _t={},tt={};let rr=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};tt.Layout=rr;function bS(t,e){return e.property?t+"["+e.property+"]":t}tt.nameWithProperty=bS;function v$(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof rr))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}tt.bindConstructorLayout=v$;let Es=class extends rr{isCount(){throw new Error("ExternalLayout is abstract")}};class NC extends Es{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}let _S=class extends Es{constructor(e,r,n){if(!(e instanceof rr))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof So||this.layout instanceof ma}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}},So=class extends rr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}},ma=class extends rr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}};class Zc extends rr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}}class Jd extends rr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}}const gx=Math.pow(2,32);function yy(t){const e=Math.floor(t/gx),r=t-e*gx;return{hi32:e,lo32:r}}function vy(t,e){return t*gx+e}let w$=class extends rr{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return vy(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=yy(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}};class x$ extends rr{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32BE(r),i=e.readUInt32BE(r+4);return vy(n,i)}encode(e,r,n){n===void 0&&(n=0);const i=yy(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}}let b$=class extends rr{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return vy(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=yy(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}};class _$ extends rr{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readInt32BE(r),i=e.readUInt32BE(r+4);return vy(n,i)}encode(e,r,n){n===void 0&&(n=0);const i=yy(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}}class MC extends rr{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}}class AC extends rr{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}}class RC extends rr{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}}class kC extends rr{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}}class TC extends rr{constructor(e,r,n){if(!(e instanceof rr))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Es&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Es)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,i=this.count;if(i instanceof Es&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r){r===void 0&&(r=0);const n=[];let i=0,s=this.count;for(s instanceof Es&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n){n===void 0&&(n=0);const i=this.elementLayout,s=e.reduce((o,l)=>o+i.encode(l,r,n+o),0);return this.count instanceof Es&&this.count.encode(e.length,r,n),s}}let IC=class extends rr{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof rr,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const i=n;let s=0,o=0;for(const l of this.fields){let f=l.span;if(o=0<f?f:0,l.property!==void 0){const h=e[l.property];h!==void 0&&(o=l.encode(h,r,n),0>f&&(f=l.getSpan(r,n)))}s=n,n+=f}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}},SS=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},tg=class extends SS{constructor(e,r){if(!(e instanceof Es&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}},ES=class extends rr{constructor(e,r,n){const i=e instanceof So||e instanceof ma;if(i)e=new tg(new _S(e));else if(e instanceof Es&&e.isCount())e=new tg(e);else if(!(e instanceof SS))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof rr))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&i&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return o(l)},this.configGetSourceVariant=function(l){o=l.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n;const i=this.discriminator,s=i.decode(e,r);let o=this.registry[s];if(o===void 0){let l=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[o.property]=this.defaultLayout.decode(e,r+l)}else n=o.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=s.layout.span),s.encode(e[s.property],r,n),l+o.encode(e[o.property],r,n+l)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new CC(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return xt.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}},CC=class extends rr{constructor(e,r,n,i){if(!(e instanceof ES))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof rr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function hu(t){return 0>t&&(t+=4294967296),t}class NS extends rr{constructor(e,r,n){if(!(e instanceof So||e instanceof ma))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=hu(s),this},this._packedGetValue=function(){return i}}decode(e,r){const n=this.makeDestinationObject();r===void 0&&(r=0);const i=this.word.decode(e,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(i));return n}encode(e,r,n){n===void 0&&(n=0);const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new Xf(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new jC(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}class Xf{constructor(e,r,n){if(!(e instanceof NS))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,l)=>o+l.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=hu(this.valueMask<<this.start),this.property=n}decode(){const e=this.container._packedGetValue();return hu(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==hu(e&this.valueMask))throw new TypeError(bS("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=hu(e<<this.start);this.container._packedSetValue(hu(r&~this.wordMask)|n)}}let jC=class extends Xf{constructor(e,r){super(e,1,r)}decode(e,r){return!!Xf.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),Xf.prototype.encode.call(this,e)}},OC=class extends rr{constructor(e,r){if(!(e instanceof Es&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Es||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Es&&(i=e.length),!(xt.isBuffer(e)&&i===e.length))throw new TypeError(bS("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof Es&&this.length.encode(i,r,n),i}};class PC extends rr{constructor(e){super(-1,e)}getSpan(e,r){if(!xt.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);return e.slice(r,r+i-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const i=new xt(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),r[n+s]=0,s+1}}class LC extends rr{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!xt.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+i).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const i=new xt(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),s}}class DC extends rr{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}}tt.ExternalLayout=Es;tt.GreedyCount=NC;tt.OffsetLayout=_S;tt.UInt=So;tt.UIntBE=ma;tt.Int=Zc;tt.IntBE=Jd;tt.Float=MC;tt.FloatBE=AC;tt.Double=RC;tt.DoubleBE=kC;tt.Sequence=TC;tt.Structure=IC;tt.UnionDiscriminator=SS;tt.UnionLayoutDiscriminator=tg;tt.Union=ES;tt.VariantLayout=CC;tt.BitStructure=NS;tt.BitField=Xf;tt.Boolean=jC;tt.Blob=OC;tt.CString=PC;tt.UTF8=LC;tt.Constant=DC;tt.greedy=(t,e)=>new NC(t,e);tt.offset=(t,e,r)=>new _S(t,e,r);tt.u8=t=>new So(1,t);tt.u16=t=>new So(2,t);tt.u24=t=>new So(3,t);tt.u32=t=>new So(4,t);tt.u40=t=>new So(5,t);tt.u48=t=>new So(6,t);tt.nu64=t=>new w$(t);tt.u16be=t=>new ma(2,t);tt.u24be=t=>new ma(3,t);tt.u32be=t=>new ma(4,t);tt.u40be=t=>new ma(5,t);tt.u48be=t=>new ma(6,t);tt.nu64be=t=>new x$(t);tt.s8=t=>new Zc(1,t);tt.s16=t=>new Zc(2,t);tt.s24=t=>new Zc(3,t);tt.s32=t=>new Zc(4,t);tt.s40=t=>new Zc(5,t);tt.s48=t=>new Zc(6,t);tt.ns64=t=>new b$(t);tt.s16be=t=>new Jd(2,t);tt.s24be=t=>new Jd(3,t);tt.s32be=t=>new Jd(4,t);tt.s40be=t=>new Jd(5,t);tt.s48be=t=>new Jd(6,t);tt.ns64be=t=>new _$(t);tt.f32=t=>new MC(t);tt.f32be=t=>new AC(t);tt.f64=t=>new RC(t);tt.f64be=t=>new kC(t);tt.struct=(t,e,r)=>new IC(t,e,r);tt.bits=(t,e,r)=>new NS(t,e,r);tt.seq=(t,e,r)=>new TC(t,e,r);tt.union=(t,e,r)=>new ES(t,e,r);tt.unionLayoutDiscriminator=(t,e)=>new tg(t,e);tt.blob=(t,e)=>new OC(t,e);tt.cstr=t=>new PC(t);tt.utf8=(t,e)=>new LC(t,e);tt.const=(t,e)=>new DC(t,e);const S$=Dg(ZW);var MS={exports:{}};MS.exports;(function(t){(function(e,r){function n(x,a){if(!x)throw new Error(a||"Assertion failed")}function i(x,a){x.super_=a;var d=function(){};d.prototype=a.prototype,x.prototype=new d,x.prototype.constructor=x}function s(x,a,d){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((a==="le"||a==="be")&&(d=a,a=10),this._init(x||0,a||10,d||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Kd.Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,d){return a.cmp(d)>0?a:d},s.min=function(a,d){return a.cmp(d)<0?a:d},s.prototype._init=function(a,d,m){if(typeof a=="number")return this._initNumber(a,d,m);if(typeof a=="object")return this._initArray(a,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(d===16?this._parseHex(a,y,m):(this._parseBase(a,d,y),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(a,d,m){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,S,I=0;if(m==="be")for(y=a.length-1,g=0;y>=0;y-=3)S=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(m==="le")for(y=0,g=0;y<a.length;y+=3)S=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this._strip()};function l(x,a){var d=x.charCodeAt(a);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+x)}function f(x,a,d){var m=l(x,d);return d-1>=a&&(m|=l(x,d-1)<<4),m}s.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,S=0,I;if(m==="be")for(y=a.length-1;y>=d;y-=2)I=f(a,d,y)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var w=a.length-d;for(y=w%2===0?d+1:d;y<a.length;y+=2)I=f(a,d,y)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this._strip()};function h(x,a,d,m){for(var y=0,g=0,S=Math.min(x.length,d),I=a;I<S;I++){var w=x.charCodeAt(I)-48;y*=m,w>=49?g=w-49+10:w>=17?g=w-17+10:g=w,n(w>=0&&g<m,"Invalid character"),y+=g}return y}s.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=d)y++;y--,g=g/d|0;for(var S=a.length-m,I=S%y,w=Math.min(S,S-I)+m,c=0,_=m;_<w;_+=y)c=h(a,_,_+y,d),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(I!==0){var $=1;for(c=h(a,_,a.length,d),_=0;_<I;_++)$*=d;this.imuln($),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red};function p(x,a){x.words=a.words,x.length=a.length,x.negative=a.negative,x.red=a.red}if(s.prototype._move=function(a){p(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,d){a=a||10,d=d|0||1;var m;if(a===16||a==="hex"){m="";for(var y=0,g=0,S=0;S<this.length;S++){var I=this.words[S],w=((I<<y|g)&16777215).toString(16);g=I>>>24-y&16777215,y+=2,y>=26&&(y-=26,S--),g!==0||S!==this.length-1?m=E[6-w.length]+w+m:m=w+m}for(g!==0&&(m=g.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var c=b[a],_=k[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var H=$.modrn(_).toString(a);$=$.idivn(_),$.isZero()?m=H+m:m=E[c-H.length]+H+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(a,d){return this.toArrayLike(o,a,d)}),s.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)};var N=function(a,d){return a.allocUnsafe?a.allocUnsafe(d):new a(d)};s.prototype.toArrayLike=function(a,d,m){this._strip();var y=this.byteLength(),g=m||Math.max(1,y);n(y<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0");var S=N(a,g),I=d==="le"?"LE":"BE";return this["_toArrayLike"+I](S,y),S},s.prototype._toArrayLikeLE=function(a,d){for(var m=0,y=0,g=0,S=0;g<this.length;g++){var I=this.words[g]<<S|y;a[m++]=I&255,m<a.length&&(a[m++]=I>>8&255),m<a.length&&(a[m++]=I>>16&255),S===6?(m<a.length&&(a[m++]=I>>24&255),y=0,S=0):(y=I>>>24,S+=2)}if(m<a.length)for(a[m++]=y;m<a.length;)a[m++]=0},s.prototype._toArrayLikeBE=function(a,d){for(var m=a.length-1,y=0,g=0,S=0;g<this.length;g++){var I=this.words[g]<<S|y;a[m--]=I&255,m>=0&&(a[m--]=I>>8&255),m>=0&&(a[m--]=I>>16&255),S===6?(m>=0&&(a[m--]=I>>24&255),y=0,S=0):(y=I>>>24,S+=2)}if(m>=0)for(a[m--]=y;m>=0;)a[m--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(a){if(a===0)return 26;var d=a,m=0;return d&8191||(m+=13,d>>>=13),d&127||(m+=7,d>>>=7),d&15||(m+=4,d>>>=4),d&3||(m+=2,d>>>=2),d&1||m++,m},s.prototype.bitLength=function(){var a=this.words[this.length-1],d=this._countBits(a);return(this.length-1)*26+d};function A(x){for(var a=new Array(x.bitLength()),d=0;d<a.length;d++){var m=d/26|0,y=d%26;a[d]=x.words[m]>>>y&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,m!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this._strip()},s.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var d;this.length>a.length?d=a:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this._strip()},s.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var y=0;y<m.length;y++)this.words[y]=d.words[y]^m.words[y];if(this!==d)for(;y<d.length;y++)this.words[y]=d.words[y];return this.length=d.length,this._strip()},s.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var d=Math.ceil(a/26)|0,m=a%26;this._expand(d),m>0&&d--;for(var y=0;y<d;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,d){n(typeof a=="number"&&a>=0);var m=a/26|0,y=a%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this._strip()},s.prototype.iadd=function(a){var d;if(this.negative!==0&&a.negative===0)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();var m,y;this.length>a.length?(m=this,y=a):(m=a,y=this);for(var g=0,S=0;S<y.length;S++)d=(m.words[S]|0)+(y.words[S]|0)+g,this.words[S]=d&67108863,g=d>>>26;for(;g!==0&&S<m.length;S++)d=(m.words[S]|0)+g,this.words[S]=d&67108863,g=d>>>26;if(this.length=m.length,g!==0)this.words[this.length]=g,this.length++;else if(m!==this)for(;S<m.length;S++)this.words[S]=m.words[S];return this},s.prototype.add=function(a){var d;return a.negative!==0&&this.negative===0?(a.negative=0,d=this.sub(a),a.negative^=1,d):a.negative===0&&this.negative!==0?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;m>0?(y=this,g=a):(y=a,g=this);for(var S=0,I=0;I<g.length;I++)d=(y.words[I]|0)-(g.words[I]|0)+S,S=d>>26,this.words[I]=d&67108863;for(;S!==0&&I<y.length;I++)d=(y.words[I]|0)+S,S=d>>26,this.words[I]=d&67108863;if(S===0&&I<y.length&&y!==this)for(;I<y.length;I++)this.words[I]=y.words[I];return this.length=Math.max(this.length,I),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function R(x,a,d){d.negative=a.negative^x.negative;var m=x.length+a.length|0;d.length=m,m=m-1|0;var y=x.words[0]|0,g=a.words[0]|0,S=y*g,I=S&67108863,w=S/67108864|0;d.words[0]=I;for(var c=1;c<m;c++){for(var _=w>>>26,$=w&67108863,H=Math.min(c,a.length-1),G=Math.max(0,c-x.length+1);G<=H;G++){var re=c-G|0;y=x.words[re]|0,g=a.words[G]|0,S=y*g+$,_+=S/67108864|0,$=S&67108863}d.words[c]=$|0,w=_|0}return w!==0?d.words[c]=w|0:d.length--,d._strip()}var T=function(a,d,m){var y=a.words,g=d.words,S=m.words,I=0,w,c,_,$=y[0]|0,H=$&8191,G=$>>>13,re=y[1]|0,ie=re&8191,le=re>>>13,nt=y[2]|0,ue=nt&8191,de=nt>>>13,vt=y[3]|0,ye=vt&8191,be=vt>>>13,Ft=y[4]|0,_e=Ft&8191,Me=Ft>>>13,hr=y[5]|0,Te=hr&8191,ke=hr>>>13,Q=y[6]|0,Z=Q&8191,X=Q>>>13,Ie=y[7]|0,se=Ie&8191,ne=Ie>>>13,De=y[8]|0,he=De&8191,B=De>>>13,P=y[9]|0,O=P&8191,z=P>>>13,ee=g[0]|0,Y=ee&8191,te=ee>>>13,ht=g[1]|0,ve=ht&8191,we=ht>>>13,Pt=g[2]|0,ge=Pt&8191,Le=Pt>>>13,Wr=g[3]|0,Be=Wr&8191,fe=Wr>>>13,At=g[4]|0,xe=At&8191,Ae=At>>>13,vr=g[5]|0,je=vr&8191,Pe=vr>>>13,wr=g[6]|0,Oe=wr&8191,ze=wr>>>13,pi=g[7]|0,Fe=pi&8191,We=pi>>>13,mi=g[8]|0,$e=mi&8191,Ve=mi>>>13,gi=g[9]|0,He=gi&8191,Ke=gi>>>13;m.negative=a.negative^d.negative,m.length=19,w=Math.imul(H,Y),c=Math.imul(H,te),c=c+Math.imul(G,Y)|0,_=Math.imul(G,te);var Dn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,w=Math.imul(ie,Y),c=Math.imul(ie,te),c=c+Math.imul(le,Y)|0,_=Math.imul(le,te),w=w+Math.imul(H,ve)|0,c=c+Math.imul(H,we)|0,c=c+Math.imul(G,ve)|0,_=_+Math.imul(G,we)|0;var Bn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,w=Math.imul(ue,Y),c=Math.imul(ue,te),c=c+Math.imul(de,Y)|0,_=Math.imul(de,te),w=w+Math.imul(ie,ve)|0,c=c+Math.imul(ie,we)|0,c=c+Math.imul(le,ve)|0,_=_+Math.imul(le,we)|0,w=w+Math.imul(H,ge)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(G,ge)|0,_=_+Math.imul(G,Le)|0;var Un=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ye,Y),c=Math.imul(ye,te),c=c+Math.imul(be,Y)|0,_=Math.imul(be,te),w=w+Math.imul(ue,ve)|0,c=c+Math.imul(ue,we)|0,c=c+Math.imul(de,ve)|0,_=_+Math.imul(de,we)|0,w=w+Math.imul(ie,ge)|0,c=c+Math.imul(ie,Le)|0,c=c+Math.imul(le,ge)|0,_=_+Math.imul(le,Le)|0,w=w+Math.imul(H,Be)|0,c=c+Math.imul(H,fe)|0,c=c+Math.imul(G,Be)|0,_=_+Math.imul(G,fe)|0;var zn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(zn>>>26)|0,zn&=67108863,w=Math.imul(_e,Y),c=Math.imul(_e,te),c=c+Math.imul(Me,Y)|0,_=Math.imul(Me,te),w=w+Math.imul(ye,ve)|0,c=c+Math.imul(ye,we)|0,c=c+Math.imul(be,ve)|0,_=_+Math.imul(be,we)|0,w=w+Math.imul(ue,ge)|0,c=c+Math.imul(ue,Le)|0,c=c+Math.imul(de,ge)|0,_=_+Math.imul(de,Le)|0,w=w+Math.imul(ie,Be)|0,c=c+Math.imul(ie,fe)|0,c=c+Math.imul(le,Be)|0,_=_+Math.imul(le,fe)|0,w=w+Math.imul(H,xe)|0,c=c+Math.imul(H,Ae)|0,c=c+Math.imul(G,xe)|0,_=_+Math.imul(G,Ae)|0;var Fn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(Te,Y),c=Math.imul(Te,te),c=c+Math.imul(ke,Y)|0,_=Math.imul(ke,te),w=w+Math.imul(_e,ve)|0,c=c+Math.imul(_e,we)|0,c=c+Math.imul(Me,ve)|0,_=_+Math.imul(Me,we)|0,w=w+Math.imul(ye,ge)|0,c=c+Math.imul(ye,Le)|0,c=c+Math.imul(be,ge)|0,_=_+Math.imul(be,Le)|0,w=w+Math.imul(ue,Be)|0,c=c+Math.imul(ue,fe)|0,c=c+Math.imul(de,Be)|0,_=_+Math.imul(de,fe)|0,w=w+Math.imul(ie,xe)|0,c=c+Math.imul(ie,Ae)|0,c=c+Math.imul(le,xe)|0,_=_+Math.imul(le,Ae)|0,w=w+Math.imul(H,je)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(G,je)|0,_=_+Math.imul(G,Pe)|0;var Wn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,w=Math.imul(Z,Y),c=Math.imul(Z,te),c=c+Math.imul(X,Y)|0,_=Math.imul(X,te),w=w+Math.imul(Te,ve)|0,c=c+Math.imul(Te,we)|0,c=c+Math.imul(ke,ve)|0,_=_+Math.imul(ke,we)|0,w=w+Math.imul(_e,ge)|0,c=c+Math.imul(_e,Le)|0,c=c+Math.imul(Me,ge)|0,_=_+Math.imul(Me,Le)|0,w=w+Math.imul(ye,Be)|0,c=c+Math.imul(ye,fe)|0,c=c+Math.imul(be,Be)|0,_=_+Math.imul(be,fe)|0,w=w+Math.imul(ue,xe)|0,c=c+Math.imul(ue,Ae)|0,c=c+Math.imul(de,xe)|0,_=_+Math.imul(de,Ae)|0,w=w+Math.imul(ie,je)|0,c=c+Math.imul(ie,Pe)|0,c=c+Math.imul(le,je)|0,_=_+Math.imul(le,Pe)|0,w=w+Math.imul(H,Oe)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(G,Oe)|0,_=_+Math.imul(G,ze)|0;var $n=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(se,Y),c=Math.imul(se,te),c=c+Math.imul(ne,Y)|0,_=Math.imul(ne,te),w=w+Math.imul(Z,ve)|0,c=c+Math.imul(Z,we)|0,c=c+Math.imul(X,ve)|0,_=_+Math.imul(X,we)|0,w=w+Math.imul(Te,ge)|0,c=c+Math.imul(Te,Le)|0,c=c+Math.imul(ke,ge)|0,_=_+Math.imul(ke,Le)|0,w=w+Math.imul(_e,Be)|0,c=c+Math.imul(_e,fe)|0,c=c+Math.imul(Me,Be)|0,_=_+Math.imul(Me,fe)|0,w=w+Math.imul(ye,xe)|0,c=c+Math.imul(ye,Ae)|0,c=c+Math.imul(be,xe)|0,_=_+Math.imul(be,Ae)|0,w=w+Math.imul(ue,je)|0,c=c+Math.imul(ue,Pe)|0,c=c+Math.imul(de,je)|0,_=_+Math.imul(de,Pe)|0,w=w+Math.imul(ie,Oe)|0,c=c+Math.imul(ie,ze)|0,c=c+Math.imul(le,Oe)|0,_=_+Math.imul(le,ze)|0,w=w+Math.imul(H,Fe)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(G,Fe)|0,_=_+Math.imul(G,We)|0;var Vn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(he,Y),c=Math.imul(he,te),c=c+Math.imul(B,Y)|0,_=Math.imul(B,te),w=w+Math.imul(se,ve)|0,c=c+Math.imul(se,we)|0,c=c+Math.imul(ne,ve)|0,_=_+Math.imul(ne,we)|0,w=w+Math.imul(Z,ge)|0,c=c+Math.imul(Z,Le)|0,c=c+Math.imul(X,ge)|0,_=_+Math.imul(X,Le)|0,w=w+Math.imul(Te,Be)|0,c=c+Math.imul(Te,fe)|0,c=c+Math.imul(ke,Be)|0,_=_+Math.imul(ke,fe)|0,w=w+Math.imul(_e,xe)|0,c=c+Math.imul(_e,Ae)|0,c=c+Math.imul(Me,xe)|0,_=_+Math.imul(Me,Ae)|0,w=w+Math.imul(ye,je)|0,c=c+Math.imul(ye,Pe)|0,c=c+Math.imul(be,je)|0,_=_+Math.imul(be,Pe)|0,w=w+Math.imul(ue,Oe)|0,c=c+Math.imul(ue,ze)|0,c=c+Math.imul(de,Oe)|0,_=_+Math.imul(de,ze)|0,w=w+Math.imul(ie,Fe)|0,c=c+Math.imul(ie,We)|0,c=c+Math.imul(le,Fe)|0,_=_+Math.imul(le,We)|0,w=w+Math.imul(H,$e)|0,c=c+Math.imul(H,Ve)|0,c=c+Math.imul(G,$e)|0,_=_+Math.imul(G,Ve)|0;var Hn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,w=Math.imul(O,Y),c=Math.imul(O,te),c=c+Math.imul(z,Y)|0,_=Math.imul(z,te),w=w+Math.imul(he,ve)|0,c=c+Math.imul(he,we)|0,c=c+Math.imul(B,ve)|0,_=_+Math.imul(B,we)|0,w=w+Math.imul(se,ge)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(ne,ge)|0,_=_+Math.imul(ne,Le)|0,w=w+Math.imul(Z,Be)|0,c=c+Math.imul(Z,fe)|0,c=c+Math.imul(X,Be)|0,_=_+Math.imul(X,fe)|0,w=w+Math.imul(Te,xe)|0,c=c+Math.imul(Te,Ae)|0,c=c+Math.imul(ke,xe)|0,_=_+Math.imul(ke,Ae)|0,w=w+Math.imul(_e,je)|0,c=c+Math.imul(_e,Pe)|0,c=c+Math.imul(Me,je)|0,_=_+Math.imul(Me,Pe)|0,w=w+Math.imul(ye,Oe)|0,c=c+Math.imul(ye,ze)|0,c=c+Math.imul(be,Oe)|0,_=_+Math.imul(be,ze)|0,w=w+Math.imul(ue,Fe)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(de,Fe)|0,_=_+Math.imul(de,We)|0,w=w+Math.imul(ie,$e)|0,c=c+Math.imul(ie,Ve)|0,c=c+Math.imul(le,$e)|0,_=_+Math.imul(le,Ve)|0,w=w+Math.imul(H,He)|0,c=c+Math.imul(H,Ke)|0,c=c+Math.imul(G,He)|0,_=_+Math.imul(G,Ke)|0;var Kn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,w=Math.imul(O,ve),c=Math.imul(O,we),c=c+Math.imul(z,ve)|0,_=Math.imul(z,we),w=w+Math.imul(he,ge)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(B,ge)|0,_=_+Math.imul(B,Le)|0,w=w+Math.imul(se,Be)|0,c=c+Math.imul(se,fe)|0,c=c+Math.imul(ne,Be)|0,_=_+Math.imul(ne,fe)|0,w=w+Math.imul(Z,xe)|0,c=c+Math.imul(Z,Ae)|0,c=c+Math.imul(X,xe)|0,_=_+Math.imul(X,Ae)|0,w=w+Math.imul(Te,je)|0,c=c+Math.imul(Te,Pe)|0,c=c+Math.imul(ke,je)|0,_=_+Math.imul(ke,Pe)|0,w=w+Math.imul(_e,Oe)|0,c=c+Math.imul(_e,ze)|0,c=c+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,ze)|0,w=w+Math.imul(ye,Fe)|0,c=c+Math.imul(ye,We)|0,c=c+Math.imul(be,Fe)|0,_=_+Math.imul(be,We)|0,w=w+Math.imul(ue,$e)|0,c=c+Math.imul(ue,Ve)|0,c=c+Math.imul(de,$e)|0,_=_+Math.imul(de,Ve)|0,w=w+Math.imul(ie,He)|0,c=c+Math.imul(ie,Ke)|0,c=c+Math.imul(le,He)|0,_=_+Math.imul(le,Ke)|0;var qn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,w=Math.imul(O,ge),c=Math.imul(O,Le),c=c+Math.imul(z,ge)|0,_=Math.imul(z,Le),w=w+Math.imul(he,Be)|0,c=c+Math.imul(he,fe)|0,c=c+Math.imul(B,Be)|0,_=_+Math.imul(B,fe)|0,w=w+Math.imul(se,xe)|0,c=c+Math.imul(se,Ae)|0,c=c+Math.imul(ne,xe)|0,_=_+Math.imul(ne,Ae)|0,w=w+Math.imul(Z,je)|0,c=c+Math.imul(Z,Pe)|0,c=c+Math.imul(X,je)|0,_=_+Math.imul(X,Pe)|0,w=w+Math.imul(Te,Oe)|0,c=c+Math.imul(Te,ze)|0,c=c+Math.imul(ke,Oe)|0,_=_+Math.imul(ke,ze)|0,w=w+Math.imul(_e,Fe)|0,c=c+Math.imul(_e,We)|0,c=c+Math.imul(Me,Fe)|0,_=_+Math.imul(Me,We)|0,w=w+Math.imul(ye,$e)|0,c=c+Math.imul(ye,Ve)|0,c=c+Math.imul(be,$e)|0,_=_+Math.imul(be,Ve)|0,w=w+Math.imul(ue,He)|0,c=c+Math.imul(ue,Ke)|0,c=c+Math.imul(de,He)|0,_=_+Math.imul(de,Ke)|0;var Gn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(O,Be),c=Math.imul(O,fe),c=c+Math.imul(z,Be)|0,_=Math.imul(z,fe),w=w+Math.imul(he,xe)|0,c=c+Math.imul(he,Ae)|0,c=c+Math.imul(B,xe)|0,_=_+Math.imul(B,Ae)|0,w=w+Math.imul(se,je)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(ne,je)|0,_=_+Math.imul(ne,Pe)|0,w=w+Math.imul(Z,Oe)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(X,Oe)|0,_=_+Math.imul(X,ze)|0,w=w+Math.imul(Te,Fe)|0,c=c+Math.imul(Te,We)|0,c=c+Math.imul(ke,Fe)|0,_=_+Math.imul(ke,We)|0,w=w+Math.imul(_e,$e)|0,c=c+Math.imul(_e,Ve)|0,c=c+Math.imul(Me,$e)|0,_=_+Math.imul(Me,Ve)|0,w=w+Math.imul(ye,He)|0,c=c+Math.imul(ye,Ke)|0,c=c+Math.imul(be,He)|0,_=_+Math.imul(be,Ke)|0;var Zn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(O,xe),c=Math.imul(O,Ae),c=c+Math.imul(z,xe)|0,_=Math.imul(z,Ae),w=w+Math.imul(he,je)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(B,je)|0,_=_+Math.imul(B,Pe)|0,w=w+Math.imul(se,Oe)|0,c=c+Math.imul(se,ze)|0,c=c+Math.imul(ne,Oe)|0,_=_+Math.imul(ne,ze)|0,w=w+Math.imul(Z,Fe)|0,c=c+Math.imul(Z,We)|0,c=c+Math.imul(X,Fe)|0,_=_+Math.imul(X,We)|0,w=w+Math.imul(Te,$e)|0,c=c+Math.imul(Te,Ve)|0,c=c+Math.imul(ke,$e)|0,_=_+Math.imul(ke,Ve)|0,w=w+Math.imul(_e,He)|0,c=c+Math.imul(_e,Ke)|0,c=c+Math.imul(Me,He)|0,_=_+Math.imul(Me,Ke)|0;var Yn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(O,je),c=Math.imul(O,Pe),c=c+Math.imul(z,je)|0,_=Math.imul(z,Pe),w=w+Math.imul(he,Oe)|0,c=c+Math.imul(he,ze)|0,c=c+Math.imul(B,Oe)|0,_=_+Math.imul(B,ze)|0,w=w+Math.imul(se,Fe)|0,c=c+Math.imul(se,We)|0,c=c+Math.imul(ne,Fe)|0,_=_+Math.imul(ne,We)|0,w=w+Math.imul(Z,$e)|0,c=c+Math.imul(Z,Ve)|0,c=c+Math.imul(X,$e)|0,_=_+Math.imul(X,Ve)|0,w=w+Math.imul(Te,He)|0,c=c+Math.imul(Te,Ke)|0,c=c+Math.imul(ke,He)|0,_=_+Math.imul(ke,Ke)|0;var Qn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(O,Oe),c=Math.imul(O,ze),c=c+Math.imul(z,Oe)|0,_=Math.imul(z,ze),w=w+Math.imul(he,Fe)|0,c=c+Math.imul(he,We)|0,c=c+Math.imul(B,Fe)|0,_=_+Math.imul(B,We)|0,w=w+Math.imul(se,$e)|0,c=c+Math.imul(se,Ve)|0,c=c+Math.imul(ne,$e)|0,_=_+Math.imul(ne,Ve)|0,w=w+Math.imul(Z,He)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(X,He)|0,_=_+Math.imul(X,Ke)|0;var Jn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,w=Math.imul(O,Fe),c=Math.imul(O,We),c=c+Math.imul(z,Fe)|0,_=Math.imul(z,We),w=w+Math.imul(he,$e)|0,c=c+Math.imul(he,Ve)|0,c=c+Math.imul(B,$e)|0,_=_+Math.imul(B,Ve)|0,w=w+Math.imul(se,He)|0,c=c+Math.imul(se,Ke)|0,c=c+Math.imul(ne,He)|0,_=_+Math.imul(ne,Ke)|0;var Xn=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(O,$e),c=Math.imul(O,Ve),c=c+Math.imul(z,$e)|0,_=Math.imul(z,Ve),w=w+Math.imul(he,He)|0,c=c+Math.imul(he,Ke)|0,c=c+Math.imul(B,He)|0,_=_+Math.imul(B,Ke)|0;var es=(I+w|0)+((c&8191)<<13)|0;I=(_+(c>>>13)|0)+(es>>>26)|0,es&=67108863,w=Math.imul(O,He),c=Math.imul(O,Ke),c=c+Math.imul(z,He)|0,_=Math.imul(z,Ke);var ts=(I+w|0)+((c&8191)<<13)|0;return I=(_+(c>>>13)|0)+(ts>>>26)|0,ts&=67108863,S[0]=Dn,S[1]=Bn,S[2]=Un,S[3]=zn,S[4]=Fn,S[5]=Wn,S[6]=$n,S[7]=Vn,S[8]=Hn,S[9]=Kn,S[10]=qn,S[11]=Gn,S[12]=Zn,S[13]=Yn,S[14]=Qn,S[15]=Jn,S[16]=Xn,S[17]=es,S[18]=ts,I!==0&&(S[19]=I,m.length++),m};Math.imul||(T=R);function C(x,a,d){d.negative=a.negative^x.negative,d.length=x.length+a.length;for(var m=0,y=0,g=0;g<d.length-1;g++){var S=y;y=0;for(var I=m&67108863,w=Math.min(g,a.length-1),c=Math.max(0,g-x.length+1);c<=w;c++){var _=g-c,$=x.words[_]|0,H=a.words[c]|0,G=$*H,re=G&67108863;S=S+(G/67108864|0)|0,re=re+I|0,I=re&67108863,S=S+(re>>>26)|0,y+=S>>>26,S&=67108863}d.words[g]=I,m=S,S=y}return m!==0?d.words[g]=m:d.length--,d._strip()}function j(x,a,d){return C(x,a,d)}s.prototype.mulTo=function(a,d){var m,y=this.length+a.length;return this.length===10&&a.length===10?m=T(this,a,d):y<63?m=R(this,a,d):y<1024?m=C(this,a,d):m=j(this,a,d),m},s.prototype.mul=function(a){var d=new s(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},s.prototype.mulf=function(a){var d=new s(null);return d.words=new Array(this.length+a.length),j(this,a,d)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var d=a<0;d&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var m=0,y=0;y<this.length;y++){var g=(this.words[y]|0)*a,S=(g&67108863)+(m&67108863);m>>=26,m+=g/67108864|0,m+=S>>>26,this.words[y]=S&67108863}return m!==0&&(this.words[y]=m,this.length++),this.length=a===0?1:this.length,d?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var d=A(a);if(d.length===0)return new s(1);for(var m=this,y=0;y<d.length&&d[y]===0;y++,m=m.sqr());if(++y<d.length)for(var g=m.sqr();y<d.length;y++,g=g.sqr())d[y]!==0&&(m=m.mul(g));return m},s.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26,y=67108863>>>26-d<<26-d,g;if(d!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&y,w=(this.words[g]|0)-I<<d;this.words[g]=w|S,S=I>>>26-d}S&&(this.words[g]=S,this.length++)}if(m!==0){for(g=this.length-1;g>=0;g--)this.words[g+m]=this.words[g];for(g=0;g<m;g++)this.words[g]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,d,m){n(typeof a=="number"&&a>=0);var y;d?y=(d-d%26)/26:y=0;var g=a%26,S=Math.min((a-g)/26,this.length),I=67108863^67108863>>>g<<g,w=m;if(y-=S,y=Math.max(0,y),w){for(var c=0;c<S;c++)w.words[c]=this.words[c];w.length=S}if(S!==0)if(this.length>S)for(this.length-=S,c=0;c<this.length;c++)this.words[c]=this.words[c+S];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=y);c--){var $=this.words[c]|0;this.words[c]=_<<26-g|$>>>g,_=$&I}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,d,m){return n(this.negative===0),this.iushrn(a,d,m)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26,y=1<<d;if(this.length<=m)return!1;var g=this.words[m];return!!(g&y)},s.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var d=a%26,m=(a-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var y=67108863^67108863>>>d<<d;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,d,m){var y=a.length+m,g;this._expand(y);var S,I=0;for(g=0;g<a.length;g++){S=(this.words[g+m]|0)+I;var w=(a.words[g]|0)*d;S-=w&67108863,I=(S>>26)-(w/67108864|0),this.words[g+m]=S&67108863}for(;g<this.length-m;g++)S=(this.words[g+m]|0)+I,I=S>>26,this.words[g+m]=S&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,d){var m=this.length-a.length,y=this.clone(),g=a,S=g.words[g.length-1]|0,I=this._countBits(S);m=26-I,m!==0&&(g=g.ushln(m),y.iushln(m),S=g.words[g.length-1]|0);var w=y.length-g.length,c;if(d!=="mod"){c=new s(null),c.length=w+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var $=y.clone()._ishlnsubmul(g,1,w);$.negative===0&&(y=$,c&&(c.words[w]=1));for(var H=w-1;H>=0;H--){var G=(y.words[g.length+H]|0)*67108864+(y.words[g.length+H-1]|0);for(G=Math.min(G/S|0,67108863),y._ishlnsubmul(g,G,H);y.negative!==0;)G--,y.negative=0,y._ishlnsubmul(g,1,H),y.isZero()||(y.negative^=1);c&&(c.words[H]=G)}return c&&c._strip(),y._strip(),d!=="div"&&m!==0&&y.iushrn(m),{div:c||null,mod:y}},s.prototype.divmod=function(a,d,m){if(n(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,g,S;return this.negative!==0&&a.negative===0?(S=this.neg().divmod(a,d),d!=="mod"&&(y=S.div.neg()),d!=="div"&&(g=S.mod.neg(),m&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(S=this.divmod(a.neg(),d),d!=="mod"&&(y=S.div.neg()),{div:y,mod:S.mod}):this.negative&a.negative?(S=this.neg().divmod(a.neg(),d),d!=="div"&&(g=S.mod.neg(),m&&g.negative!==0&&g.isub(a)),{div:S.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?d==="div"?{div:this.divn(a.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,d)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(a):d.mod,y=a.ushrn(1),g=a.andln(1),S=m.cmp(y);return S<0||g===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(a){var d=a<0;d&&(a=-a),n(a<=67108863);for(var m=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(m*y+(this.words[g]|0))%a;return d?-y:y},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var d=a<0;d&&(a=-a),n(a<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var g=(this.words[y]|0)+m*67108864;this.words[y]=g/a|0,m=g%a}return this._strip(),d?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var d=this,m=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var y=new s(1),g=new s(0),S=new s(0),I=new s(1),w=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++w;for(var c=m.clone(),_=d.clone();!d.isZero();){for(var $=0,H=1;!(d.words[0]&H)&&$<26;++$,H<<=1);if($>0)for(d.iushrn($);$-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(c),g.isub(_)),y.iushrn(1),g.iushrn(1);for(var G=0,re=1;!(m.words[0]&re)&&G<26;++G,re<<=1);if(G>0)for(m.iushrn(G);G-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(c),I.isub(_)),S.iushrn(1),I.iushrn(1);d.cmp(m)>=0?(d.isub(m),y.isub(S),g.isub(I)):(m.isub(d),S.isub(y),I.isub(g))}return{a:S,b:I,gcd:m.iushln(w)}},s.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var d=this,m=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var y=new s(1),g=new s(0),S=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var I=0,w=1;!(d.words[0]&w)&&I<26;++I,w<<=1);if(I>0)for(d.iushrn(I);I-- >0;)y.isOdd()&&y.iadd(S),y.iushrn(1);for(var c=0,_=1;!(m.words[0]&_)&&c<26;++c,_<<=1);if(c>0)for(m.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);d.cmp(m)>=0?(d.isub(m),y.isub(g)):(m.isub(d),g.isub(y))}var $;return d.cmpn(1)===0?$=y:$=g,$.cmpn(0)<0&&$.iadd(a),$},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var y=0;d.isEven()&&m.isEven();y++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var g=d.cmp(m);if(g<0){var S=d;d=m,m=S}else if(g===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(y)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){n(typeof a=="number");var d=a%26,m=(a-d)/26,y=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var g=y,S=m;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var d=a<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(a=-a),n(a<=67108863,"Number is too big");var y=this.words[0]|0;m=y===a?0:y<a?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var d=this.ucmp(a);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,g=a.words[m]|0;if(y!==g){y<g?d=-1:y>g&&(d=1);break}}return d},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new V(a)},s.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function U(x,a){this.name=x,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},U.prototype.ireduce=function(a){var d=a,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var y=m<this.n?-1:d.ucmp(this.p);return y===0?(d.words[0]=0,d.length=1):y>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},U.prototype.split=function(a,d){a.iushrn(this.n,0,d)},U.prototype.imulK=function(a){return a.imul(this.k)};function L(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,U),L.prototype.split=function(a,d){for(var m=4194303,y=Math.min(a.length,9),g=0;g<y;g++)d.words[g]=a.words[g];if(d.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var S=a.words[9];for(d.words[d.length++]=S&m,g=10;g<a.length;g++){var I=a.words[g]|0;a.words[g-10]=(I&m)<<4|S>>>22,S=I}S>>>=22,a.words[g-10]=S,S===0&&a.length>10?a.length-=10:a.length-=9},L.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var y=a.words[m]|0;d+=y*977,a.words[m]=d&67108863,d=y*64+(d/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function F(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,U);function W(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,U);function q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(q,U),q.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var y=(a.words[m]|0)*19+d,g=y&67108863;y>>>=26,a.words[m]=g,d=y}return d!==0&&(a.words[a.length++]=d),a},s._prime=function(a){if(D[a])return D[a];var d;if(a==="k256")d=new L;else if(a==="p224")d=new F;else if(a==="p192")d=new W;else if(a==="p25519")d=new q;else throw new Error("Unknown prime "+a);return D[a]=d,d};function V(x){if(typeof x=="string"){var a=s._prime(x);this.m=a.p,this.prime=a}else n(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}V.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},V.prototype._verify2=function(a,d){n((a.negative|d.negative)===0,"red works only with positives"),n(a.red&&a.red===d.red,"red works only with red numbers")},V.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(p(a,a.umod(this.m)._forceRed(this)),a)},V.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},V.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},V.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},V.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},V.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},V.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},V.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},V.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},V.prototype.isqr=function(a){return this.imul(a,a.clone())},V.prototype.sqr=function(a){return this.mul(a,a)},V.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(a,m)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);n(!y.isZero());var S=new s(1).toRed(this),I=S.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,w).cmp(I)!==0;)c.redIAdd(I);for(var _=this.pow(c,y),$=this.pow(a,y.addn(1).iushrn(1)),H=this.pow(a,y),G=g;H.cmp(S)!==0;){for(var re=H,ie=0;re.cmp(S)!==0;ie++)re=re.redSqr();n(ie<G);var le=this.pow(_,new s(1).iushln(G-ie-1));$=$.redMul(le),_=le.redSqr(),H=H.redMul(_),G=ie}return $},V.prototype.invm=function(a){var d=a._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},V.prototype.pow=function(a,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return a.clone();var m=4,y=new Array(1<<m);y[0]=new s(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var S=y[0],I=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),g=d.length-1;g>=0;g--){for(var _=d.words[g],$=c-1;$>=0;$--){var H=_>>$&1;if(S!==y[0]&&(S=this.sqr(S)),H===0&&I===0){w=0;continue}I<<=1,I|=H,w++,!(w!==m&&(g!==0||$!==0))&&(S=this.mul(S,y[I]),w=0,I=0)}c=26}return S},V.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},V.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},s.mont=function(a){return new K(a)};function K(x){V.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,V),K.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},K.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},K.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(y).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},K.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new s(0)._forceRed(this);var m=a.mul(d),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(y).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},K.prototype.invm=function(a){var d=this.imod(a._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,jn)})(MS);var E$=MS.exports;(function(t){var e=jn&&jn.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=l,t.i64=f,t.u128=h,t.i128=p,t.u256=v,t.i256=E,t.publicKey=k,t.option=A,t.bool=R,t.vec=j,t.tagged=D,t.vecU8=U,t.str=L,t.rustEnum=F,t.array=W,t.map=V;const r=tt,n=S$,i=e(E$);var s=tt;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return s.struct}});class o extends r.Layout{constructor(x,a,d){super(x,d),this.blob=(0,r.blob)(x),this.signed=a}decode(x,a=0){const d=new i.default(this.blob.decode(x,a),10,"le");return this.signed?d.fromTwos(this.span*8).clone():d}encode(x,a,d=0){return this.signed&&(x=x.toTwos(this.span*8)),this.blob.encode(x.toArrayLike(xt,"le",this.span),a,d)}}function l(K){return new o(8,!1,K)}function f(K){return new o(8,!0,K)}function h(K){return new o(16,!1,K)}function p(K){return new o(16,!0,K)}function v(K){return new o(32,!1,K)}function E(K){return new o(32,!0,K)}class b extends r.Layout{constructor(x,a,d,m){super(x.span,m),this.layout=x,this.decoder=a,this.encoder=d}decode(x,a){return this.decoder(this.layout.decode(x,a))}encode(x,a,d){return this.layout.encode(this.encoder(x),a,d)}getSpan(x,a){return this.layout.getSpan(x,a)}}function k(K){return new b((0,r.blob)(32),x=>new n.PublicKey(x),x=>x.toBuffer(),K)}class N extends r.Layout{constructor(x,a){super(-1,a),this.layout=x,this.discriminator=(0,r.u8)()}encode(x,a,d=0){return x==null?this.discriminator.encode(0,a,d):(this.discriminator.encode(1,a,d),this.layout.encode(x,a,d+1)+1)}decode(x,a=0){const d=this.discriminator.decode(x,a);if(d===0)return null;if(d===1)return this.layout.decode(x,a+1);throw new Error("Invalid option "+this.property)}getSpan(x,a=0){const d=this.discriminator.decode(x,a);if(d===0)return 1;if(d===1)return this.layout.getSpan(x,a+1)+1;throw new Error("Invalid option "+this.property)}}function A(K,x){return new N(K,x)}function R(K){return new b((0,r.u8)(),T,C,K)}function T(K){if(K===0)return!1;if(K===1)return!0;throw new Error("Invalid bool: "+K)}function C(K){return K?1:0}function j(K,x){const a=(0,r.u32)("length"),d=(0,r.struct)([a,(0,r.seq)(K,(0,r.offset)(a,-a.span),"values")]);return new b(d,({values:m})=>m,m=>({values:m}),x)}function D(K,x,a){const d=(0,r.struct)([l("tag"),x.replicate("data")]);function m({tag:y,data:g}){if(!y.eq(K))throw new Error("Invalid tag, expected: "+K.toString("hex")+", got: "+y.toString("hex"));return g}return new b(d,m,y=>({tag:K,data:y}),a)}function U(K){const x=(0,r.u32)("length"),a=(0,r.struct)([x,(0,r.blob)((0,r.offset)(x,-x.span),"data")]);return new b(a,({data:d})=>d,d=>({data:d}),K)}function L(K){return new b(U(),x=>x.toString("utf-8"),x=>xt.from(x,"utf-8"),K)}function F(K,x,a){const d=(0,r.union)(a??(0,r.u8)(),x);return K.forEach((m,y)=>d.addVariant(y,m,m.property)),d}function W(K,x,a){const d=(0,r.struct)([(0,r.seq)(K,x,"values")]);return new b(d,({values:m})=>m,m=>({values:m}),a)}class q extends r.Layout{constructor(x,a,d){super(x.span+a.span,d),this.keyLayout=x,this.valueLayout=a}decode(x,a){a=a||0;const d=this.keyLayout.decode(x,a),m=this.valueLayout.decode(x,a+this.keyLayout.getSpan(x,a));return[d,m]}encode(x,a,d){d=d||0;const m=this.keyLayout.encode(x[0],a,d),y=this.valueLayout.encode(x[1],a,d+m);return m+y}getSpan(x,a){return this.keyLayout.getSpan(x,a)+this.valueLayout.getSpan(x,a)}}function V(K,x,a){const d=(0,r.u32)("length"),m=(0,r.struct)([d,(0,r.seq)(new q(K,x),(0,r.offset)(d,-d.span),"values")]);return new b(m,({values:y})=>new Map(y),y=>({values:Array.from(y.entries())}),a)}})(_t);function Xd(t){let e=t.length;for(;--e>=0;)t[e]=0}const N$=3,M$=258,BC=29,A$=256,R$=A$+1+BC,UC=30,k$=512,T$=new Array((R$+2)*2);Xd(T$);const I$=new Array(UC*2);Xd(I$);const C$=new Array(k$);Xd(C$);const j$=new Array(M$-N$+1);Xd(j$);const O$=new Array(BC);Xd(O$);const P$=new Array(UC);Xd(P$);const L$=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var yx=L$;const D$=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},B$=new Uint32Array(D$()),U$=(t,e,r,n)=>{const i=B$,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Gi=U$,vx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const z$=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var F$=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)z$(r,n)&&(t[n]=r[n])}}return t},W$=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let o=t[n];r.set(o,i),i+=o.length}return r},FC={assign:F$,flattenChunks:W$};let WC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{WC=!1}const jh=new Uint8Array(256);for(let t=0;t<256;t++)jh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;jh[254]=jh[254]=1;var $$=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,o=t.length,l=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),s=0,i=0;s<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const V$=(t,e)=>{if(e<65534&&t.subarray&&WC)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var H$=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){s[i++]=o;continue}let l=jh[o];if(l>4){s[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return V$(s,i)},K$=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+jh[t[r]]>e?r:e},wx={string2buf:$$,buf2string:H$,utf8border:K$};function q$(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var G$=q$;const p0=16209,Z$=16191;var Y$=function(e,r){let n,i,s,o,l,f,h,p,v,E,b,k,N,A,R,T,C,j,D,U,L,F,W,q;const V=e.state;n=e.next_in,W=e.input,i=n+(e.avail_in-5),s=e.next_out,q=e.output,o=s-(r-e.avail_out),l=s+(e.avail_out-257),f=V.dmax,h=V.wsize,p=V.whave,v=V.wnext,E=V.window,b=V.hold,k=V.bits,N=V.lencode,A=V.distcode,R=(1<<V.lenbits)-1,T=(1<<V.distbits)-1;e:do{k<15&&(b+=W[n++]<<k,k+=8,b+=W[n++]<<k,k+=8),C=N[b&R];t:for(;;){if(j=C>>>24,b>>>=j,k-=j,j=C>>>16&255,j===0)q[s++]=C&65535;else if(j&16){D=C&65535,j&=15,j&&(k<j&&(b+=W[n++]<<k,k+=8),D+=b&(1<<j)-1,b>>>=j,k-=j),k<15&&(b+=W[n++]<<k,k+=8,b+=W[n++]<<k,k+=8),C=A[b&T];r:for(;;){if(j=C>>>24,b>>>=j,k-=j,j=C>>>16&255,j&16){if(U=C&65535,j&=15,k<j&&(b+=W[n++]<<k,k+=8,k<j&&(b+=W[n++]<<k,k+=8)),U+=b&(1<<j)-1,U>f){e.msg="invalid distance too far back",V.mode=p0;break e}if(b>>>=j,k-=j,j=s-o,U>j){if(j=U-j,j>p&&V.sane){e.msg="invalid distance too far back",V.mode=p0;break e}if(L=0,F=E,v===0){if(L+=h-j,j<D){D-=j;do q[s++]=E[L++];while(--j);L=s-U,F=q}}else if(v<j){if(L+=h+v-j,j-=v,j<D){D-=j;do q[s++]=E[L++];while(--j);if(L=0,v<D){j=v,D-=j;do q[s++]=E[L++];while(--j);L=s-U,F=q}}}else if(L+=v-j,j<D){D-=j;do q[s++]=E[L++];while(--j);L=s-U,F=q}for(;D>2;)q[s++]=F[L++],q[s++]=F[L++],q[s++]=F[L++],D-=3;D&&(q[s++]=F[L++],D>1&&(q[s++]=F[L++]))}else{L=s-U;do q[s++]=q[L++],q[s++]=q[L++],q[s++]=q[L++],D-=3;while(D>2);D&&(q[s++]=q[L++],D>1&&(q[s++]=q[L++]))}}else if(j&64){e.msg="invalid distance code",V.mode=p0;break e}else{C=A[(C&65535)+(b&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){V.mode=Z$;break e}else{e.msg="invalid literal/length code",V.mode=p0;break e}else{C=N[(C&65535)+(b&(1<<j)-1)];continue t}break}}while(n<i&&s<l);D=k>>3,n-=D,k-=D<<3,b&=(1<<k)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<l?257+(l-s):257-(s-l),V.hold=b,V.bits=k};const au=15,nM=852,sM=592,iM=0,fw=1,oM=2,Q$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),J$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),X$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eV=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),tV=(t,e,r,n,i,s,o,l)=>{const f=l.bits;let h=0,p=0,v=0,E=0,b=0,k=0,N=0,A=0,R=0,T=0,C,j,D,U,L,F=null,W;const q=new Uint16Array(au+1),V=new Uint16Array(au+1);let K=null,x,a,d;for(h=0;h<=au;h++)q[h]=0;for(p=0;p<n;p++)q[e[r+p]]++;for(b=f,E=au;E>=1&&q[E]===0;E--);if(b>E&&(b=E),E===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(v=1;v<E&&q[v]===0;v++);for(b<v&&(b=v),A=1,h=1;h<=au;h++)if(A<<=1,A-=q[h],A<0)return-1;if(A>0&&(t===iM||E!==1))return-1;for(V[1]=0,h=1;h<au;h++)V[h+1]=V[h]+q[h];for(p=0;p<n;p++)e[r+p]!==0&&(o[V[e[r+p]]++]=p);if(t===iM?(F=K=o,W=20):t===fw?(F=Q$,K=J$,W=257):(F=X$,K=eV,W=0),T=0,p=0,h=v,L=s,k=b,N=0,D=-1,R=1<<b,U=R-1,t===fw&&R>nM||t===oM&&R>sM)return 1;for(;;){x=h-N,o[p]+1<W?(a=0,d=o[p]):o[p]>=W?(a=K[o[p]-W],d=F[o[p]-W]):(a=96,d=0),C=1<<h-N,j=1<<k,v=j;do j-=C,i[L+(T>>N)+j]=x<<24|a<<16|d|0;while(j!==0);for(C=1<<h-1;T&C;)C>>=1;if(C!==0?(T&=C-1,T+=C):T=0,p++,--q[h]===0){if(h===E)break;h=e[r+o[p]]}if(h>b&&(T&U)!==D){for(N===0&&(N=b),L+=v,k=h-N,A=1<<k;k+N<E&&(A-=q[k+N],!(A<=0));)k++,A<<=1;if(R+=1<<k,t===fw&&R>nM||t===oM&&R>sM)return 1;D=T&U,i[D]=b<<24|k<<16|L-s|0}}return T!==0&&(i[L+T]=h-N<<24|64<<16|0),l.bits=b,0};var eh=tV;const rV=0,$C=1,VC=2,{Z_FINISH:aM,Z_BLOCK:nV,Z_TREES:m0,Z_OK:Ic,Z_STREAM_END:sV,Z_NEED_DICT:iV,Z_STREAM_ERROR:ci,Z_DATA_ERROR:HC,Z_MEM_ERROR:KC,Z_BUF_ERROR:oV,Z_DEFLATED:lM}=zC,wy=16180,cM=16181,uM=16182,dM=16183,fM=16184,hM=16185,pM=16186,mM=16187,gM=16188,yM=16189,rg=16190,ko=16191,hw=16192,vM=16193,pw=16194,wM=16195,xM=16196,bM=16197,_M=16198,g0=16199,y0=16200,SM=16201,EM=16202,NM=16203,MM=16204,AM=16205,mw=16206,RM=16207,kM=16208,pr=16209,qC=16210,GC=16211,aV=852,lV=592,cV=15,uV=cV,TM=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function dV(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<wy||e.mode>GC?1:0},ZC=t=>{if(Yc(t))return ci;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=wy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(aV),e.distcode=e.distdyn=new Int32Array(lV),e.sane=1,e.back=-1,Ic},YC=t=>{if(Yc(t))return ci;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ZC(t)},QC=(t,e)=>{let r;if(Yc(t))return ci;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ci:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,YC(t))},JC=(t,e)=>{if(!t)return ci;const r=new dV;t.state=r,r.strm=t,r.window=null,r.mode=wy;const n=QC(t,e);return n!==Ic&&(t.state=null),n},fV=t=>JC(t,uV);let IM=!0,gw,yw;const hV=t=>{if(IM){gw=new Int32Array(512),yw=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(eh($C,t.lens,0,288,gw,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;eh(VC,t.lens,0,32,yw,0,t.work,{bits:5}),IM=!1}t.lencode=gw,t.lenbits=9,t.distcode=yw,t.distbits=5},XC=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},pV=(t,e)=>{let r,n,i,s,o,l,f,h,p,v,E,b,k,N,A=0,R,T,C,j,D,U,L,F;const W=new Uint8Array(4);let q,V;const K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yc(t)||!t.output||!t.input&&t.avail_in!==0)return ci;r=t.state,r.mode===ko&&(r.mode=hw),o=t.next_out,i=t.output,f=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,h=r.hold,p=r.bits,v=l,E=f,F=Ic;e:for(;;)switch(r.mode){case wy:if(r.wrap===0){r.mode=hw;break}for(;p<16;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,W[0]=h&255,W[1]=h>>>8&255,r.check=Gi(r.check,W,2,0),h=0,p=0,r.mode=cM;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=pr;break}if((h&15)!==lM){t.msg="unknown compression method",r.mode=pr;break}if(h>>>=4,p-=4,L=(h&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){t.msg="invalid window size",r.mode=pr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=h&512?yM:ko,h=0,p=0;break;case cM:for(;p<16;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if(r.flags=h,(r.flags&255)!==lM){t.msg="unknown compression method",r.mode=pr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=pr;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,r.check=Gi(r.check,W,2,0)),h=0,p=0,r.mode=uM;case uM:for(;p<32;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,W[2]=h>>>16&255,W[3]=h>>>24&255,r.check=Gi(r.check,W,4,0)),h=0,p=0,r.mode=dM;case dM:for(;p<16;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,r.check=Gi(r.check,W,2,0)),h=0,p=0,r.mode=fM;case fM:if(r.flags&1024){for(;p<16;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(W[0]=h&255,W[1]=h>>>8&255,r.check=Gi(r.check,W,2,0)),h=0,p=0}else r.head&&(r.head.extra=null);r.mode=hM;case hM:if(r.flags&1024&&(b=r.length,b>l&&(b=l),b&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+b),L)),r.flags&512&&r.wrap&4&&(r.check=Gi(r.check,n,b,s)),l-=b,s+=b,r.length-=b),r.length))break e;r.length=0,r.mode=pM;case pM:if(r.flags&2048){if(l===0)break e;b=0;do L=n[s+b++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&b<l);if(r.flags&512&&r.wrap&4&&(r.check=Gi(r.check,n,b,s)),l-=b,s+=b,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=mM;case mM:if(r.flags&4096){if(l===0)break e;b=0;do L=n[s+b++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&b<l);if(r.flags&512&&r.wrap&4&&(r.check=Gi(r.check,n,b,s)),l-=b,s+=b,L)break e}else r.head&&(r.head.comment=null);r.mode=gM;case gM:if(r.flags&512){for(;p<16;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if(r.wrap&4&&h!==(r.check&65535)){t.msg="header crc mismatch",r.mode=pr;break}h=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ko;break;case yM:for(;p<32;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}t.adler=r.check=TM(h),h=0,p=0,r.mode=rg;case rg:if(r.havedict===0)return t.next_out=o,t.avail_out=f,t.next_in=s,t.avail_in=l,r.hold=h,r.bits=p,iV;t.adler=r.check=1,r.mode=ko;case ko:if(e===nV||e===m0)break e;case hw:if(r.last){h>>>=p&7,p-=p&7,r.mode=mw;break}for(;p<3;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}switch(r.last=h&1,h>>>=1,p-=1,h&3){case 0:r.mode=vM;break;case 1:if(hV(r),r.mode=g0,e===m0){h>>>=2,p-=2;break e}break;case 2:r.mode=xM;break;case 3:t.msg="invalid block type",r.mode=pr}h>>>=2,p-=2;break;case vM:for(h>>>=p&7,p-=p&7;p<32;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=pr;break}if(r.length=h&65535,h=0,p=0,r.mode=pw,e===m0)break e;case pw:r.mode=wM;case wM:if(b=r.length,b){if(b>l&&(b=l),b>f&&(b=f),b===0)break e;i.set(n.subarray(s,s+b),o),l-=b,s+=b,f-=b,o+=b,r.length-=b;break}r.mode=ko;break;case xM:for(;p<14;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if(r.nlen=(h&31)+257,h>>>=5,p-=5,r.ndist=(h&31)+1,h>>>=5,p-=5,r.ncode=(h&15)+4,h>>>=4,p-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=pr;break}r.have=0,r.mode=bM;case bM:for(;r.have<r.ncode;){for(;p<3;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}r.lens[K[r.have++]]=h&7,h>>>=3,p-=3}for(;r.have<19;)r.lens[K[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,q={bits:r.lenbits},F=eh(rV,r.lens,0,19,r.lencode,0,r.work,q),r.lenbits=q.bits,F){t.msg="invalid code lengths set",r.mode=pr;break}r.have=0,r.mode=_M;case _M:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[h&(1<<r.lenbits)-1],R=A>>>24,T=A>>>16&255,C=A&65535,!(R<=p);){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if(C<16)h>>>=R,p-=R,r.lens[r.have++]=C;else{if(C===16){for(V=R+2;p<V;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if(h>>>=R,p-=R,r.have===0){t.msg="invalid bit length repeat",r.mode=pr;break}L=r.lens[r.have-1],b=3+(h&3),h>>>=2,p-=2}else if(C===17){for(V=R+3;p<V;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}h>>>=R,p-=R,L=0,b=3+(h&7),h>>>=3,p-=3}else{for(V=R+7;p<V;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}h>>>=R,p-=R,L=0,b=11+(h&127),h>>>=7,p-=7}if(r.have+b>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=pr;break}for(;b--;)r.lens[r.have++]=L}}if(r.mode===pr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=pr;break}if(r.lenbits=9,q={bits:r.lenbits},F=eh($C,r.lens,0,r.nlen,r.lencode,0,r.work,q),r.lenbits=q.bits,F){t.msg="invalid literal/lengths set",r.mode=pr;break}if(r.distbits=6,r.distcode=r.distdyn,q={bits:r.distbits},F=eh(VC,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,q),r.distbits=q.bits,F){t.msg="invalid distances set",r.mode=pr;break}if(r.mode=g0,e===m0)break e;case g0:r.mode=y0;case y0:if(l>=6&&f>=258){t.next_out=o,t.avail_out=f,t.next_in=s,t.avail_in=l,r.hold=h,r.bits=p,Y$(t,E),o=t.next_out,i=t.output,f=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,h=r.hold,p=r.bits,r.mode===ko&&(r.back=-1);break}for(r.back=0;A=r.lencode[h&(1<<r.lenbits)-1],R=A>>>24,T=A>>>16&255,C=A&65535,!(R<=p);){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if(T&&!(T&240)){for(j=R,D=T,U=C;A=r.lencode[U+((h&(1<<j+D)-1)>>j)],R=A>>>24,T=A>>>16&255,C=A&65535,!(j+R<=p);){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}h>>>=j,p-=j,r.back+=j}if(h>>>=R,p-=R,r.back+=R,r.length=C,T===0){r.mode=AM;break}if(T&32){r.back=-1,r.mode=ko;break}if(T&64){t.msg="invalid literal/length code",r.mode=pr;break}r.extra=T&15,r.mode=SM;case SM:if(r.extra){for(V=r.extra;p<V;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=EM;case EM:for(;A=r.distcode[h&(1<<r.distbits)-1],R=A>>>24,T=A>>>16&255,C=A&65535,!(R<=p);){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if(!(T&240)){for(j=R,D=T,U=C;A=r.distcode[U+((h&(1<<j+D)-1)>>j)],R=A>>>24,T=A>>>16&255,C=A&65535,!(j+R<=p);){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}h>>>=j,p-=j,r.back+=j}if(h>>>=R,p-=R,r.back+=R,T&64){t.msg="invalid distance code",r.mode=pr;break}r.offset=C,r.extra=T&15,r.mode=NM;case NM:if(r.extra){for(V=r.extra;p<V;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=pr;break}r.mode=MM;case MM:if(f===0)break e;if(b=E-f,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=pr;break}b>r.wnext?(b-=r.wnext,k=r.wsize-b):k=r.wnext-b,b>r.length&&(b=r.length),N=r.window}else N=i,k=o-r.offset,b=r.length;b>f&&(b=f),f-=b,r.length-=b;do i[o++]=N[k++];while(--b);r.length===0&&(r.mode=y0);break;case AM:if(f===0)break e;i[o++]=r.length,f--,r.mode=y0;break;case mw:if(r.wrap){for(;p<32;){if(l===0)break e;l--,h|=n[s++]<<p,p+=8}if(E-=f,t.total_out+=E,r.total+=E,r.wrap&4&&E&&(t.adler=r.check=r.flags?Gi(r.check,i,E,o-E):yx(r.check,i,E,o-E)),E=f,r.wrap&4&&(r.flags?h:TM(h))!==r.check){t.msg="incorrect data check",r.mode=pr;break}h=0,p=0}r.mode=RM;case RM:if(r.wrap&&r.flags){for(;p<32;){if(l===0)break e;l--,h+=n[s++]<<p,p+=8}if(r.wrap&4&&h!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=pr;break}h=0,p=0}r.mode=kM;case kM:F=sV;break e;case pr:F=HC;break e;case qC:return KC;case GC:default:return ci}return t.next_out=o,t.avail_out=f,t.next_in=s,t.avail_in=l,r.hold=h,r.bits=p,(r.wsize||E!==t.avail_out&&r.mode<pr&&(r.mode<mw||e!==aM))&&XC(t,t.output,t.next_out,E-t.avail_out),v-=t.avail_in,E-=t.avail_out,t.total_in+=v,t.total_out+=E,r.total+=E,r.wrap&4&&E&&(t.adler=r.check=r.flags?Gi(r.check,i,E,t.next_out-E):yx(r.check,i,E,t.next_out-E)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ko?128:0)+(r.mode===g0||r.mode===pw?256:0),(v===0&&E===0||e===aM)&&F===Ic&&(F=oV),F},mV=t=>{if(Yc(t))return ci;let e=t.state;return e.window&&(e.window=null),t.state=null,Ic},gV=(t,e)=>{if(Yc(t))return ci;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Ic):ci},yV=(t,e)=>{const r=e.length;let n,i,s;return Yc(t)||(n=t.state,n.wrap!==0&&n.mode!==rg)?ci:n.mode===rg&&(i=1,i=yx(i,e,r,0),i!==n.check)?HC:(s=XC(t,e,r,r),s?(n.mode=qC,KC):(n.havedict=1,Ic))};var vV=YC,wV=QC,xV=ZC,bV=fV,_V=JC,SV=pV,EV=mV,NV=gV,MV=yV,AV="pako inflate (from Nodeca project)",Uo={inflateReset:vV,inflateReset2:wV,inflateResetKeep:xV,inflateInit:bV,inflateInit2:_V,inflate:SV,inflateEnd:EV,inflateGetHeader:NV,inflateSetDictionary:MV,inflateInfo:AV};function RV(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var kV=RV;const ej=Object.prototype.toString,{Z_NO_FLUSH:TV,Z_FINISH:IV,Z_OK:Oh,Z_STREAM_END:vw,Z_NEED_DICT:ww,Z_STREAM_ERROR:CV,Z_DATA_ERROR:CM,Z_MEM_ERROR:jV}=zC;function xy(t){this.options=FC.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new G$,this.strm.avail_out=0;let r=Uo.inflateInit2(this.strm,e.windowBits);if(r!==Oh)throw new Error(vx[r]);if(this.header=new kV,Uo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wx.string2buf(e.dictionary):ej.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Uo.inflateSetDictionary(this.strm,e.dictionary),r!==Oh)))throw new Error(vx[r])}xy.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?IV:TV,ej.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Uo.inflate(r,o),s===ww&&i&&(s=Uo.inflateSetDictionary(r,i),s===Oh?s=Uo.inflate(r,o):s===CM&&(s=ww));r.avail_in>0&&s===vw&&r.state.wrap>0&&t[r.next_in]!==0;)Uo.inflateReset(r),s=Uo.inflate(r,o);switch(s){case CV:case CM:case ww:case jV:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===vw))if(this.options.to==="string"){let f=wx.utf8border(r.output,r.next_out),h=r.next_out-f,p=wx.buf2string(r.output,f);r.next_out=h,r.avail_out=n-h,h&&r.output.set(r.output.subarray(f,f+h),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Oh&&l===0)){if(s===vw)return s=Uo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};xy.prototype.onData=function(t){this.chunks.push(t)};xy.prototype.onEnd=function(t){t===Oh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=FC.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function OV(t,e){const r=new xy(e);if(r.push(t),r.err)throw r.msg||vx[r.err];return r.result}var PV=OV,LV={inflate:PV};const{inflate:DV}=LV;var BV=DV,tj={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,v,E){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,v||f,E),k=r?r+h:h;return f._events[k]?f._events[k].fn?f._events[k]=[f._events[k],b]:f._events[k].push(b):(f._events[k]=b,f._eventsCount++),f}function o(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],p,v;if(this._eventsCount===0)return h;for(v in p=this._events)e.call(p,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},l.prototype.listeners=function(h){var p=r?r+h:h,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var E=0,b=v.length,k=new Array(b);E<b;E++)k[E]=v[E].fn;return k},l.prototype.listenerCount=function(h){var p=r?r+h:h,v=this._events[p];return v?v.fn?1:v.length:0},l.prototype.emit=function(h,p,v,E,b,k){var N=r?r+h:h;if(!this._events[N])return!1;var A=this._events[N],R=arguments.length,T,C;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,v),!0;case 4:return A.fn.call(A.context,p,v,E),!0;case 5:return A.fn.call(A.context,p,v,E,b),!0;case 6:return A.fn.call(A.context,p,v,E,b,k),!0}for(C=1,T=new Array(R-1);C<R;C++)T[C-1]=arguments[C];A.fn.apply(A.context,T)}else{var j=A.length,D;for(C=0;C<j;C++)switch(A[C].once&&this.removeListener(h,A[C].fn,void 0,!0),R){case 1:A[C].fn.call(A[C].context);break;case 2:A[C].fn.call(A[C].context,p);break;case 3:A[C].fn.call(A[C].context,p,v);break;case 4:A[C].fn.call(A[C].context,p,v,E);break;default:if(!T)for(D=1,T=new Array(R-1);D<R;D++)T[D-1]=arguments[D];A[C].fn.apply(A[C].context,T)}}return!0},l.prototype.on=function(h,p,v){return s(this,h,p,v,!1)},l.prototype.once=function(h,p,v){return s(this,h,p,v,!0)},l.prototype.removeListener=function(h,p,v,E){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return o(this,b),this;var k=this._events[b];if(k.fn)k.fn===p&&(!E||k.once)&&(!v||k.context===v)&&o(this,b);else{for(var N=0,A=[],R=k.length;N<R;N++)(k[N].fn!==p||E&&!k[N].once||v&&k[N].context!==v)&&A.push(k[N]);A.length?this._events[b]=A.length===1?A[0]:A:o(this,b)}return this},l.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(tj);var UV=tj.exports;const zV=fi(UV);function FV(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((r,n)=>t.slice(n*e,(n+1)*e))}const Fl=t=>"version"in t;function WV(t){return new TextDecoder("utf-8").decode(t)}function jM(t){return wS.encode(t)}function rj(t){return it.from(t,"base64")}function ja(t){return"accounts"in t}async function $V(t){const e=(await me.findProgramAddress([],t))[0];return await me.createWithSeed(e,VV(),t)}function VV(){return"anchor:idl"}const HV=_t.struct([_t.publicKey("authority"),_t.vecU8("data")]);function KV(t){return HV.decode(t)}function qV(t){const e=["name","path","account","relations","generic"],r=s=>s.split(".").map(y$).join("."),n=s=>{for(const o in s){const l=s[o];e.includes(o)?s[o]=Array.isArray(l)?l.map(r):r(l):typeof l=="object"&&n(l)}},i=structuredClone(t);return n(i),i}function Ou(t,e,r,n){return t!=null&&t.length?t[0].name?r(t):n(t):e()}function GV(t){const e=new Map;return t.errors&&t.errors.forEach(r=>{var n;let i=(n=r.msg)!==null&&n!==void 0?n:r.name;e.set(r.code,i)}),e}function ZV(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach(i=>{r[i.name]=e[n],n+=1}),r}function nj(t,e={}){t.forEach(r=>{if(ja(r))nj(r.accounts,e[r.name]);else if(!e[r.name])throw new Error(`Account \`${r.name}\` not provided.`)})}function Ti(t){return t instanceof me?t:new me(t)}class YV extends TypeError{constructor(e,r){let n;const{message:i,...s}=e,{path:o}=e,l=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(l),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var f;return(f=n)!=null?f:n=[e,...r()]}}}function QV(t){return Ku(t)&&typeof t[Symbol.iterator]=="function"}function Ku(t){return typeof t=="object"&&t!=null}function wl(t){return typeof t=="string"?JSON.stringify(t):""+t}function JV(t){const{done:e,value:r}=t.next();return e?void 0:r}function XV(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:l,message:f="Expected a value of type `"+o+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+wl(n)+"`"}=t;return{value:n,type:o,refinement:l,key:i[i.length-1],path:i,branch:s,...t,message:f}}function*OM(t,e,r,n){QV(t)||(t=[t]);for(const i of t){const s=XV(i,e,r,n);s&&(yield s)}}function*AS(t,e,r){r===void 0&&(r={});const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,l={path:n,branch:i};if(s&&(t=e.coercer(t,l),o&&e.type!=="type"&&Ku(e.schema)&&Ku(t)&&!Array.isArray(t)))for(const h in t)e.schema[h]===void 0&&delete t[h];let f=!0;for(const h of e.validator(t,l))f=!1,yield[h,void 0];for(let[h,p,v]of e.entries(t,l)){const E=AS(p,v,{path:h===void 0?n:[...n,h],branch:h===void 0?i:[...i,p],coerce:s,mask:o});for(const b of E)b[0]?(f=!1,yield[b[0],void 0]):s&&(p=b[1],h===void 0?t=p:t instanceof Map?t.set(h,p):t instanceof Set?t.add(p):Ku(t)&&(t[h]=p))}if(f)for(const h of e.refiner(t,l))f=!1,yield[h,void 0];f&&(yield[void 0,t])}class Cl{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:r,schema:n,validator:i,refiner:s,coercer:o=f=>f,entries:l=function*(){}}=e;this.type=r,this.schema=n,this.entries=l,this.coercer=o,i?this.validator=(f,h)=>{const p=i(f,h);return OM(p,h,this,f)}:this.validator=()=>[],s?this.refiner=(f,h)=>{const p=s(f,h);return OM(p,h,this,f)}:this.refiner=()=>[]}assert(e){return eH(e,this)}create(e){return RS(e,this)}is(e){return sj(e,this)}mask(e){return tH(e,this)}validate(e,r){return r===void 0&&(r={}),xp(e,this,r)}}function eH(t,e){const r=xp(t,e);if(r[0])throw r[0]}function RS(t,e){const r=xp(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function tH(t,e){const r=xp(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function sj(t,e){return!xp(t,e)[0]}function xp(t,e,r){r===void 0&&(r={});const n=AS(t,e,r),i=JV(n);return i[0]?[new YV(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function bp(t,e){return new Cl({type:t,schema:null,validator:e})}function rH(){return bp("any",()=>!0)}function xw(t){return new Cl({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+wl(e)}})}function nH(){return bp("boolean",t=>typeof t=="boolean")}function PM(t){const e=wl(t);return new Cl({type:"literal",schema:t,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+wl(r)}})}function v0(t){return new Cl({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function K0(){return bp("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+wl(t))}function q0(t){return new Cl({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function nc(){return bp("string",t=>typeof t=="string"||"Expected a string, but received: "+wl(t))}function fl(t){const e=Object.keys(t);return new Cl({type:"type",schema:t,*entries(r){if(Ku(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Ku(r)||"Expected an object, but received: "+wl(r)}})}function ij(t){const e=t.map(r=>r.type).join(" | ");return new Cl({type:"union",schema:null,coercer(r,n){return(t.find(s=>{const[o]=s.validate(r,{coerce:!0});return!o})||kS()).coercer(r,n)},validator(r,n){const i=[];for(const s of t){const[...o]=AS(r,s,n),[l]=o;if(l[0])for(const[f]of o)f&&i.push(f);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+wl(r),...i]}})}function kS(){return bp("unknown",()=>!0)}function sH(t,e,r){return new Cl({...t,coercer:(n,i)=>sj(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}const LM=99;async function iH(t,e,r){if(e.length<=LM)return await DM(t,e,r);{const n=FV(e,LM);return(await Promise.all(n.map(s=>DM(t,s,r)))).flat()}}async function DM(t,e,r){const n=r??t.commitment,{value:i,context:s}=await t.getMultipleAccountsInfoAndContext(e,n);return i.map((l,f)=>l===null?null:{publicKey:e[f],account:l,context:s})}async function oH(t,e,r,n,i){var s;r&&r.length>0&&e.sign(...r);const o=e._compile(),l=o.serialize(),h=e._serialize(l).toString("base64"),p={encoding:"base64",commitment:n??t.commitment};if(i){const k=(Array.isArray(i)?i:o.nonProgramIds()).map(N=>N.toBase58());p.accounts={encoding:"base64",addresses:k}}r&&r.length>0&&(p.sigVerify=!0);const v=[h,p],E=await t._rpcRequest("simulateTransaction",v),b=RS(E,uH);if("error"in b){let k;if("data"in b.error&&(k=(s=b.error.data)===null||s===void 0?void 0:s.logs,k&&Array.isArray(k))){const N=`
    `,A=N+k.join(N);console.error(b.error.message,A)}throw new vl("failed to simulate transaction: "+b.error.message,k)}return b.result}function aH(t){return sH(oj(t),lH,e=>"error"in e?e:{...e,result:RS(e.result,t)})}const lH=oj(kS());function oj(t){return ij([fl({jsonrpc:PM("2.0"),id:nc(),result:t}),fl({jsonrpc:PM("2.0"),id:nc(),error:fl({code:kS(),message:nc(),data:q0(rH())})})])}function cH(t){return aH(fl({context:fl({slot:K0()}),value:t}))}const uH=cH(fl({err:v0(ij([fl({}),nc()])),logs:v0(xw(nc())),accounts:q0(v0(xw(v0(fl({executable:nH(),owner:nc(),lamports:K0(),data:xw(nc()),rentEpoch:q0(K0())}))))),unitsConsumed:q0(K0())}));class Md{constructor(e,r,n=Md.defaultOptions()){this.connection=e,this.wallet=r,this.opts=n,this.publicKey=r==null?void 0:r.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,r=Md.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,r,n){var i,s,o,l;if(n===void 0&&(n=this.opts),Fl(e))r&&e.sign(r);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,r)for(const h of r)e.partialSign(h);e=await this.wallet.signTransaction(e);const f=e.serialize();try{return await BM(this.connection,f,n)}catch(h){if(h instanceof xx){const p=jM(Fl(e)?((s=e.signatures)===null||s===void 0?void 0:s[0])||new Uint8Array:(o=e.signature)!==null&&o!==void 0?o:new Uint8Array),v=Fl(e)?0:void 0,E=await this.connection.getTransaction(p,{commitment:"confirmed",maxSupportedTransactionVersion:v});if(E){const b=(l=E.meta)===null||l===void 0?void 0:l.logMessages;throw b?new vl(h.message,b):h}else throw h}else throw h}}async sendAll(e,r){var n,i,s;r===void 0&&(r=this.opts);const o=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash;let l=e.map(p=>{var v,E;if(Fl(p.tx)){let b=p.tx;return p.signers&&b.sign(p.signers),b}else{let b=p.tx,k=(v=p.signers)!==null&&v!==void 0?v:[];return b.feePayer=(E=b.feePayer)!==null&&E!==void 0?E:this.wallet.publicKey,b.recentBlockhash=o,k.forEach(N=>{b.partialSign(N)}),b}});const f=await this.wallet.signAllTransactions(l),h=[];for(let p=0;p<l.length;p+=1){const v=f[p],E=v.serialize();try{h.push(await BM(this.connection,E,r))}catch(b){if(b instanceof xx){const k=jM(Fl(v)?((n=v.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(i=v.signature)!==null&&i!==void 0?i:new Uint8Array),N=Fl(v)?0:void 0,A=await this.connection.getTransaction(k,{commitment:"confirmed",maxSupportedTransactionVersion:N});if(A){const R=(s=A.meta)===null||s===void 0?void 0:s.logMessages;throw R?new vl(b.message,R):b}else throw b}else throw b}}return h}async simulate(e,r,n,i){let s=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,o;if(Fl(e)?(r&&r.length>0&&(e.sign(r),e=await this.wallet.signTransaction(e)),o=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=s,r&&r.length>0&&(e=await this.wallet.signTransaction(e)),o=await oH(this.connection,e,r,n,i)),o.value.err)throw new dH(o.value);return o.value}}class dH extends Error{constructor(e,r){super(r),this.simulationResponse=e}}async function BM(t,e,r){const n=r?{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot}:{};let i;const s=Date.now();for(;Date.now()-s<6e4;)try{const o=await t.sendRawTransaction(e,n);if(r!=null&&r.blockhash)if(n.maxRetries===0){const l=AbortSignal.timeout(15e3);i=(await t.confirmTransaction({abortSignal:l,signature:o,...r.blockhash},r&&r.commitment)).value}else i=(await t.confirmTransaction({signature:o,...r.blockhash},r&&r.commitment)).value;else i=(await t.confirmTransaction(o,r&&r.commitment)).value;if(i.err)throw new xx(`Raw transaction ${o} failed (${JSON.stringify(i)})`);return o}catch(o){if(o.name==="TimeoutError")continue;throw o}throw Error("Transaction failed to confirm in 60s")}class xx extends Error{constructor(e){super(e)}}function fH(t){_x=t}function bx(){return _x===null?Md.local():_x}let _x=null;var hH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof XN<"u"?XN:typeof self<"u"?self:{},ae={};Object.defineProperty(ae,"__esModule",{value:!0});var aj=ae.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=nO=ae.ANCHOR_ERROR__REQUIRE_VIOLATED=rO=ae.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=tO=ae.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=eO=ae.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Xj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Jj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Qj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Yj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Zj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Gj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=qj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Kj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Hj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Vj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=$j=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Wj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Fj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=zj=ae.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Uj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Bj=ae.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Dj=ae.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Lj=ae.ANCHOR_ERROR__CONSTRAINT_SPACE=Pj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Oj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=jj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Cj=ae.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=Ij=ae.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Tj=ae.ANCHOR_ERROR__CONSTRAINT_ZERO=kj=ae.ANCHOR_ERROR__CONSTRAINT_ADDRESS=Rj=ae.ANCHOR_ERROR__CONSTRAINT_CLOSE=Aj=ae.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Mj=ae.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Nj=ae.ANCHOR_ERROR__CONSTRAINT_STATE=Ej=ae.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=Sj=ae.ANCHOR_ERROR__CONSTRAINT_SEEDS=_j=ae.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=bj=ae.ANCHOR_ERROR__CONSTRAINT_OWNER=xj=ae.ANCHOR_ERROR__CONSTRAINT_RAW=wj=ae.ANCHOR_ERROR__CONSTRAINT_SIGNER=vj=ae.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=yj=ae.ANCHOR_ERROR__CONSTRAINT_MUT=gj=ae.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=mj=ae.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=pj=ae.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=hj=ae.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=fj=ae.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=dj=ae.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=uj=ae.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=cj=ae.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,lj=ae.ANCHOR_ERROR__DEPRECATED=kO=ae.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=RO=ae.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=AO=ae.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=MO=ae.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=NO=ae.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=EO=ae.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=SO=ae.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=_O=ae.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=bO=ae.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=xO=ae.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=wO=ae.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=vO=ae.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=yO=ae.ANCHOR_ERROR__INVALID_PROGRAM_ID=gO=ae.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=mO=ae.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=pO=ae.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=hO=ae.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=fO=ae.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=dO=ae.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=uO=ae.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=cO=ae.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=lO=ae.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=aO=ae.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=oO=ae.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=iO=ae.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=sO=ae.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,cj=ae.ANCHOR_ERROR__INSTRUCTION_MISSING=100,uj=ae.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,dj=ae.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,fj=ae.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,hj=ae.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,pj=ae.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,mj=ae.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,gj=ae.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,yj=ae.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,vj=ae.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,wj=ae.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,xj=ae.ANCHOR_ERROR__CONSTRAINT_RAW=2003,bj=ae.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,_j=ae.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Sj=ae.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Ej=ae.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,Nj=ae.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Mj=ae.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Aj=ae.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,Rj=ae.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,kj=ae.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Tj=ae.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Ij=ae.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Cj=ae.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,jj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Oj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Pj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Lj=ae.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Dj=ae.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Bj=ae.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,Uj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,zj=ae.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,Fj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Wj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,$j=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,Vj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Hj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Kj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,qj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,Gj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Zj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Yj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Qj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Jj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Xj=ae.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,eO=ae.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,tO=ae.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,rO=ae.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,nO=ae.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;aj=ae.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var sO=ae.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,iO=ae.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,oO=ae.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,aO=ae.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,lO=ae.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,cO=ae.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,uO=ae.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,dO=ae.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,fO=ae.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,hO=ae.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,pO=ae.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,mO=ae.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,gO=ae.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,yO=ae.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,vO=ae.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,wO=ae.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,xO=ae.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,bO=ae.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,_O=ae.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,SO=ae.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,EO=ae.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,NO=ae.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,MO=ae.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,AO=ae.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,RO=ae.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,kO=ae.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;lj=ae.ANCHOR_ERROR__DEPRECATED=5e3;const pH=new Map;function TO(t){return pH.get(t)!==void 0}class Aa extends Error{constructor(e){super(e),this.name="IdlError"}}class _p{constructor(e){this.stack=e}static parse(e){var r;const n=/^Program (\w*) invoke/,i=/^Program \w* success/,s=[];for(let o=0;o<e.length;o++){if(i.exec(e[o])){s.pop();continue}const l=(r=n.exec(e[o]))===null||r===void 0?void 0:r[1];l&&s.push(new me(l))}return new _p(s)}}class th extends Error{constructor(e,r,n,i,s,o){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=i,this.error={errorCode:e,errorMessage:r,comparedValues:o,origin:s},this._programErrorStack=_p.parse(i)}static parse(e){if(!e)return null;const r=e.findIndex(E=>E.startsWith("Program log: AnchorError"));if(r===-1)return null;const n=e[r],i=[n];let s;if(r+1<e.length){if(e[r+1]==="Program log: Left:"){const E=/^Program log: (.*)$/,b=E.exec(e[r+2])[1],k=E.exec(e[r+4])[1];s=[new me(b),new me(k)],i.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){const E=/^Program log: (Left|Right): (.*)$/,b=E.exec(e[r+1])[2],k=E.exec(e[r+2])[2];i.push(...e.slice(r+1,r+3)),s=[b,k]}}const l=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),h=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),v=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(l){const[E,b,k]=l.slice(1,4),N={code:E,number:parseInt(b)};return new th(N,k,i,e,void 0,s)}else if(h){const[E,b,k,N,A]=h.slice(1,6),R={code:k,number:parseInt(N)},T={file:E,line:parseInt(b)};return new th(R,A,i,e,T,s)}else if(v){const[E,b,k,N]=v.slice(1,5),A=E,R={code:b,number:parseInt(k)};return new th(R,N,i,e,A,s)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ng extends Error{constructor(e,r,n){super(),this.code=e,this.msg=r,this.logs=n,n&&(this._programErrorStack=_p.parse(n))}static parse(e,r){const n=e.toString();let i;if(n.includes("custom program error:")){let l=n.split("custom program error: ");if(l.length!==2)return null;i=l[1]}else{const l=n.match(/"Custom":([0-9]+)}/g);if(!l||l.length>1)return null;i=l[0].match(/([0-9]+)/g)[0]}let s;try{s=parseInt(i)}catch{return null}let o=r.get(s);return o!==void 0?new ng(s,o,e.logs):(o=mH.get(s),o!==void 0?new ng(s,o,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function IO(t,e){TO("debug-logs")&&console.log("Translating error:",t);const r=th.parse(t.logs);if(r)return r;const n=ng.parse(t,e);if(n)return n;if(t.logs){const i={get:function(s,o){return o==="programErrorStack"?s.programErrorStack.stack:o==="program"?s.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=_p.parse(t.logs),new Proxy(t,i)}return t}const Ze={InstructionMissing:cj,InstructionFallbackNotFound:uj,InstructionDidNotDeserialize:dj,InstructionDidNotSerialize:fj,IdlInstructionStub:hj,IdlInstructionInvalidProgram:pj,IdlAccountNotEmpty:mj,EventInstructionStub:gj,ConstraintMut:yj,ConstraintHasOne:vj,ConstraintSigner:wj,ConstraintRaw:xj,ConstraintOwner:bj,ConstraintRentExempt:_j,ConstraintSeeds:Sj,ConstraintExecutable:Ej,ConstraintState:Nj,ConstraintAssociated:Mj,ConstraintAssociatedInit:Aj,ConstraintClose:Rj,ConstraintAddress:kj,ConstraintZero:Tj,ConstraintTokenMint:Ij,ConstraintTokenOwner:Cj,ConstraintMintMintAuthority:jj,ConstraintMintFreezeAuthority:Oj,ConstraintMintDecimals:Pj,ConstraintSpace:Lj,ConstraintAccountIsNone:Dj,ConstraintTokenTokenProgram:Bj,ConstraintMintTokenProgram:Uj,ConstraintAssociatedTokenTokenProgram:zj,ConstraintMintGroupPointerExtension:Fj,ConstraintMintGroupPointerExtensionAuthority:Wj,ConstraintMintGroupPointerExtensionGroupAddress:$j,ConstraintMintGroupMemberPointerExtension:Vj,ConstraintMintGroupMemberPointerExtensionAuthority:Hj,ConstraintMintGroupMemberPointerExtensionMemberAddress:Kj,ConstraintMintMetadataPointerExtension:qj,ConstraintMintMetadataPointerExtensionAuthority:Gj,ConstraintMintMetadataPointerExtensionMetadataAddress:Zj,ConstraintMintCloseAuthorityExtension:Yj,ConstraintMintCloseAuthorityExtensionAuthority:Qj,ConstraintMintPermanentDelegateExtension:Jj,ConstraintMintPermanentDelegateExtensionDelegate:Xj,ConstraintMintTransferHookExtension:eO,ConstraintMintTransferHookExtensionAuthority:tO,ConstraintMintTransferHookExtensionProgramId:rO,RequireViolated:nO,RequireEqViolated:aj,RequireKeysEqViolated:sO,RequireNeqViolated:iO,RequireKeysNeqViolated:oO,RequireGtViolated:aO,RequireGteViolated:lO,AccountDiscriminatorAlreadySet:cO,AccountDiscriminatorNotFound:uO,AccountDiscriminatorMismatch:dO,AccountDidNotDeserialize:fO,AccountDidNotSerialize:hO,AccountNotEnoughKeys:pO,AccountNotMutable:mO,AccountOwnedByWrongProgram:gO,InvalidProgramId:yO,InvalidProgramExecutable:vO,AccountNotSigner:wO,AccountNotSystemOwned:xO,AccountNotInitialized:bO,AccountNotProgramData:_O,AccountNotAssociatedTokenAccount:SO,AccountSysvarMismatch:EO,AccountReallocExceedsLimit:NO,AccountDuplicateReallocs:MO,DeclaredProgramIdMismatch:AO,TryingToInitPayerAsProgramAccount:RO,InvalidNumericConversion:kO,Deprecated:lj},mH=new Map([[Ze.InstructionMissing,"Instruction discriminator not provided"],[Ze.InstructionFallbackNotFound,"Fallback functions are not supported"],[Ze.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Ze.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Ze.IdlInstructionStub,"The program was compiled without idl instructions"],[Ze.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Ze.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Ze.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Ze.ConstraintMut,"A mut constraint was violated"],[Ze.ConstraintHasOne,"A has one constraint was violated"],[Ze.ConstraintSigner,"A signer constraint was violated"],[Ze.ConstraintRaw,"A raw constraint was violated"],[Ze.ConstraintOwner,"An owner constraint was violated"],[Ze.ConstraintRentExempt,"A rent exemption constraint was violated"],[Ze.ConstraintSeeds,"A seeds constraint was violated"],[Ze.ConstraintExecutable,"An executable constraint was violated"],[Ze.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Ze.ConstraintAssociated,"An associated constraint was violated"],[Ze.ConstraintAssociatedInit,"An associated init constraint was violated"],[Ze.ConstraintClose,"A close constraint was violated"],[Ze.ConstraintAddress,"An address constraint was violated"],[Ze.ConstraintZero,"Expected zero account discriminant"],[Ze.ConstraintTokenMint,"A token mint constraint was violated"],[Ze.ConstraintTokenOwner,"A token owner constraint was violated"],[Ze.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Ze.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Ze.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Ze.ConstraintSpace,"A space constraint was violated"],[Ze.ConstraintAccountIsNone,"A required account for the constraint is None"],[Ze.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Ze.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Ze.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Ze.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Ze.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Ze.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Ze.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Ze.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Ze.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Ze.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Ze.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Ze.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Ze.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Ze.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Ze.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Ze.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Ze.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Ze.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Ze.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Ze.RequireViolated,"A require expression was violated"],[Ze.RequireEqViolated,"A require_eq expression was violated"],[Ze.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Ze.RequireNeqViolated,"A require_neq expression was violated"],[Ze.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Ze.RequireGtViolated,"A require_gt expression was violated"],[Ze.RequireGteViolated,"A require_gte expression was violated"],[Ze.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Ze.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Ze.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Ze.AccountDidNotDeserialize,"Failed to deserialize the account"],[Ze.AccountDidNotSerialize,"Failed to serialize the account"],[Ze.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Ze.AccountNotMutable,"The given account is not mutable"],[Ze.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Ze.InvalidProgramId,"Program ID was not as expected"],[Ze.InvalidProgramExecutable,"Program account is not executable"],[Ze.AccountNotSigner,"The given account did not sign"],[Ze.AccountNotSystemOwned,"The given account is not owned by the system program"],[Ze.AccountNotInitialized,"The program expected this account to be already initialized"],[Ze.AccountNotProgramData,"The given account is not a program data account"],[Ze.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Ze.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Ze.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Ze.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Ze.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Ze.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Ze.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Ze.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Bt{static fieldLayout(e,r=[],n){const i=e.name;switch(e.type){case"bool":return _t.bool(i);case"u8":return _t.u8(i);case"i8":return _t.i8(i);case"u16":return _t.u16(i);case"i16":return _t.i16(i);case"u32":return _t.u32(i);case"i32":return _t.i32(i);case"f32":return _t.f32(i);case"u64":return _t.u64(i);case"i64":return _t.i64(i);case"f64":return _t.f64(i);case"u128":return _t.u128(i);case"i128":return _t.i128(i);case"u256":return _t.u256(i);case"i256":return _t.i256(i);case"bytes":return _t.vecU8(i);case"string":return _t.str(i);case"pubkey":return _t.publicKey(i);default:{if("option"in e.type)return _t.option(Bt.fieldLayout({type:e.type.option},r,n),i);if("vec"in e.type)return _t.vec(Bt.fieldLayout({type:e.type.vec},r,n),i);if("array"in e.type){let[s,o]=e.type.array;return o=Bt.resolveArrayLen(o,n),_t.array(Bt.fieldLayout({type:s},r,n),o,i)}if("defined"in e.type){if(!r)throw new Aa("User defined types not provided");const s=e.type.defined.name,o=r.find(l=>l.name===s);if(!o)throw new Aa(`Type not found: ${e.name}`);return Bt.typeDefLayout({typeDef:o,types:r,genericArgs:n??e.type.defined.generics,name:i})}if("generic"in e.type){const s=n==null?void 0:n.at(0);if((s==null?void 0:s.kind)!=="type")throw new Aa(`Invalid generic field: ${e.name}`);return Bt.fieldLayout({...e,type:s.type},r)}throw new Aa(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:r,name:n,genericArgs:i}){switch(e.type.kind){case"struct":{const s=Ou(e.type.fields,()=>[],o=>o.map(l=>{const f=i&&Bt.resolveGenericArgs({type:l.type,typeDef:e,genericArgs:i});return Bt.fieldLayout(l,r,f)}),o=>o.map((l,f)=>{const h=i&&Bt.resolveGenericArgs({type:l,typeDef:e,genericArgs:i});return Bt.fieldLayout({name:f.toString(),type:l},r,h)}));return _t.struct(s,n)}case"enum":{const s=e.type.variants.map(o=>{const l=Ou(o.fields,()=>[],f=>f.map(h=>{const p=i&&Bt.resolveGenericArgs({type:h.type,typeDef:e,genericArgs:i});return Bt.fieldLayout(h,r,p)}),f=>f.map((h,p)=>{const v=i&&Bt.resolveGenericArgs({type:h,typeDef:e,genericArgs:i});return Bt.fieldLayout({name:p.toString(),type:h},r,v)}));return _t.struct(l,o.name)});return n!==void 0?_t.rustEnum(s).replicate(n):_t.rustEnum(s,n)}case"type":return Bt.fieldLayout({type:e.type.alias,name:n},r)}}static typeSize(e,r,n){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Bt.typeSize(e.option,r,n);if("coption"in e)return 4+Bt.typeSize(e.coption,r,n);if("vec"in e)return 1;if("array"in e){let[s,o]=e.array;return o=Bt.resolveArrayLen(o,n),Bt.typeSize(s,r,n)*o}if("defined"in e){const s=(i=r.types)===null||i===void 0?void 0:i.find(l=>l.name===e.defined.name);if(!s)throw new Aa(`Type not found: ${JSON.stringify(e)}`);const o=l=>{const f=n??e.defined.generics,h=f&&Bt.resolveGenericArgs({type:l,typeDef:s,genericArgs:f});return Bt.typeSize(l,r,h)};switch(s.type.kind){case"struct":return Ou(s.type.fields,()=>[0],l=>l.map(f=>o(f.type)),l=>l.map(f=>o(f))).reduce((l,f)=>l+f,0);case"enum":{const l=s.type.variants.map(f=>Ou(f.fields,()=>[0],h=>h.map(p=>o(p.type)),h=>h.map(p=>o(p))).reduce((h,p)=>h+p,0));return Math.max(...l)+1}case"type":return Bt.typeSize(s.type.alias,r,n)}}if("generic"in e){const s=n==null?void 0:n.at(0);if((s==null?void 0:s.kind)!=="type")throw new Aa(`Invalid generic: ${e.generic}`);return Bt.typeSize(s.type,r,n)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,r){if(typeof e=="number")return e;if(r){const n=r.find(i=>i.kind==="const");(n==null?void 0:n.kind)==="const"&&(e=+n.value)}if(typeof e!="number")throw new Aa("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:r,genericArgs:n,isDefined:i}){if(typeof e!="object")return null;for(const s in r.generics){const o=r.generics[s];if("generic"in e&&o.name===e.generic)return[n[s]];if("option"in e){const l=Bt.resolveGenericArgs({type:e.option,typeDef:r,genericArgs:n,isDefined:i});if(!l||!i)return l;if(l[0].kind==="type")return[{kind:"type",type:{option:l[0].type}}]}if("vec"in e){const l=Bt.resolveGenericArgs({type:e.vec,typeDef:r,genericArgs:n,isDefined:i});if(!l||!i)return l;if(l[0].kind==="type")return[{kind:"type",type:{vec:l[0].type}}]}if("array"in e){const[l,f]=e.array,h=typeof f=="object",p=Bt.resolveGenericArgs({type:l,typeDef:r,genericArgs:n,isDefined:i})||[];if(h){const v=r.generics.findIndex(E=>E.name===f.generic);v!==-1&&p.push(n[v])}if(p.length>0){if(!i)return p;if(p[0].kind==="type"&&p[1].kind==="const")return[{kind:"type",type:{array:[p[0].type,+p[1].value]}}]}if(h&&o.name===f.generic){const v=n[s];return i?[{kind:"type",type:{array:[l,+v.value]}}]:[v]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(l=>{switch(l.kind){case"type":return Bt.resolveGenericArgs({type:l.type,typeDef:r,genericArgs:n,isDefined:!0});case"const":return[l]}}).filter(l=>l!==null):null}return null}}class gH{constructor(e){this.idl=e;const r=e.instructions.map(n=>{const i=n.name,s=n.args.map(l=>Bt.fieldLayout(l,e.types)),o=_t.struct(s,i);return[i,{discriminator:n.discriminator,layout:o}]});this.ixLayouts=new Map(r)}encode(e,r){const n=it.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const s=i.layout.encode(r,n),o=n.slice(0,s);return it.concat([it.from(i.discriminator),o])}decode(e,r="hex"){typeof e=="string"&&(e=r==="hex"?it.from(e,"hex"):wS.decode(e));for(const[n,i]of this.ixLayouts){const s=e.subarray(0,i.discriminator.length);if(s.equals(it.from(i.discriminator)))return{name:n,data:i.layout.decode(e.subarray(s.length))}}return null}format(e,r){return Is.format(e,r,this.idl)}}class Is{static format(e,r,n){const i=n.instructions.find(f=>e.name===f.name);if(!i)return console.error("Invalid instruction given"),null;const s=i.args.map(f=>({name:f.name,type:Is.formatIdlType(f.type),data:Is.formatIdlData(f,e.data[f.name],n.types)})),o=Is.flattenIdlAccounts(i.accounts),l=r.map((f,h)=>h<o.length?{name:o[h].name,...f}:{name:void 0,...f});return{args:s,accounts:l}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const r=e.defined.name;if(e.defined.generics){const n=e.defined.generics.map(i=>{switch(i.kind){case"type":return Is.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${r}<${n}>`}return r}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,r,n){if(typeof e.type=="string")return r.toString();if("vec"in e.type)return"["+r.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,n)).join(", ")+"]";if("option"in e.type)return r===null?"null":this.formatIdlData({name:"",type:e.type.option},r,n);if("defined"in e.type){if(!n)throw new Error("User defined types not provided");const i=e.type.defined.name,s=n.find(o=>o.name===i);if(!s)throw new Error(`Type not found: ${i}`);return Is.formatIdlDataDefined(s,r,n)}return"unknown"}static formatIdlDataDefined(e,r,n){switch(e.type.kind){case"struct":return"{ "+Ou(e.type.fields,()=>"",i=>Object.entries(r).map(([s,o])=>{const l=i.find(f=>f.name===s);if(!l)throw new Error(`Field not found: ${s}`);return s+": "+Is.formatIdlData(l,o,n)}).join(", "),i=>Object.entries(r).map(([s,o])=>s+": "+Is.formatIdlData({name:"",type:i[s]},o,n)).join(", "))+" }";case"enum":{const i=Object.keys(r)[0],s=e.type.variants.find(l=>l.name===i);if(!s)throw new Error(`Unable to find variant: ${i}`);const o=r[i];return Ou(s.fields,()=>i,l=>{const f=Object.keys(o).map(h=>{const p=o[h],v=l.find(E=>E.name===h);if(!v)throw new Error(`Field not found: ${h}`);return h+": "+Is.formatIdlData(v,p,n)}).join(", ");return`${i} { ${f} }`},l=>{const f=Object.entries(o).map(([h,p])=>h+": "+Is.formatIdlData({name:"",type:l[h]},p,n)).join(", ");return`${i} { ${f} }`})}case"type":return Is.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,r){return e.map(n=>{const i=yH(n.name);if(n.hasOwnProperty("accounts")){const s=r?`${r} > ${i}`:i;return Is.flattenIdlAccounts(n.accounts,s)}else return{...n,name:r?`${r} > ${i}`:i}}).flat()}}function yH(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class vH{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const r=e.types;if(!r)throw new Error("Accounts require `idl.types`");const n=e.accounts.map(i=>{const s=r.find(o=>o.name===i.name);if(!s)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Bt.typeDefLayout({typeDef:s,types:r})}]});this.accountLayouts=new Map(n)}async encode(e,r){const n=it.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const s=i.layout.encode(r,n),o=n.slice(0,s),l=this.accountDiscriminator(e);return it.concat([l,o])}decode(e,r){const n=this.accountDiscriminator(e);if(n.compare(r.slice(0,n.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,r)}decodeAny(e){for(const[r,n]of this.accountLayouts)if(e.subarray(0,n.discriminator.length).equals(it.from(n.discriminator)))return this.decodeUnchecked(r,e);throw new Error("Account not found")}decodeUnchecked(e,r){const n=this.accountDiscriminator(e),i=r.subarray(n.length),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);return s.layout.decode(i)}memcmp(e,r){const n=this.accountDiscriminator(e);return{offset:0,bytes:wS.encode(r?it.concat([n,r]):n)}}size(e){return this.accountDiscriminator(e).length+Bt.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var r;const n=(r=this.idl.accounts)===null||r===void 0?void 0:r.find(i=>i.name===e);if(!n)throw new Error(`Account not found: ${e}`);return it.from(n.discriminator)}}class wH{constructor(e){if(!e.events){this.layouts=new Map;return}const r=e.types;if(!r)throw new Error("Events require `idl.types`");const n=e.events.map(i=>{const s=r.find(o=>o.name===i.name);if(!s)throw new Error(`Event not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Bt.typeDefLayout({typeDef:s,types:r})}]});this.layouts=new Map(n)}decode(e){let r;try{r=rj(e)}catch{return null}for(const[n,i]of this.layouts){const s=r.subarray(0,i.discriminator.length);if(s.equals(it.from(i.discriminator)))return{name:n,data:i.layout.decode(r.subarray(s.length))}}return null}}class xH{constructor(e){const r=e.types;if(!r){this.typeLayouts=new Map;return}const n=r.filter(i=>!i.generics).map(i=>[i.name,Bt.typeDefLayout({typeDef:i,types:r})]);this.typeLayouts=new Map(n)}encode(e,r){const n=it.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const s=i.encode(r,n);return n.slice(0,s)}decode(e,r){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(r)}}class CO{constructor(e){this.instruction=new gH(e),this.accounts=new vH(e),this.events=new wH(e),this.types=new xH(e)}}let Ts=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};var by=Ts;function bH(t,e){return e.property?t+"["+e.property+"]":t}class sc extends Ts{isCount(){throw new Error("ExternalLayout is abstract")}}class jO extends sc{constructor(e,r,n){if(!(e instanceof Ts))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof _y||this.layout instanceof OO}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}}class _y extends Ts{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class OO extends Ts{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}const Sx=Math.pow(2,32);function PO(t){const e=Math.floor(t/Sx),r=t-e*Sx;return{hi32:e,lo32:r}}function LO(t,e){return t*Sx+e}class _H extends Ts{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return LO(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=PO(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}}class SH extends Ts{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return LO(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=PO(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}}class EH extends Ts{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Ts,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const i=n;let s=0,o=0;for(const l of this.fields){let f=l.span;if(o=0<f?f:0,l.property!==void 0){const h=e[l.property];h!==void 0&&(o=l.encode(h,r,n),0>f&&(f=l.getSpan(r,n)))}s=n,n+=f}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class DO{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UM extends DO{constructor(e,r){if(!(e instanceof sc&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class BO extends Ts{constructor(e,r,n){const i=e instanceof _y||e instanceof OO;if(i)e=new UM(new jO(e));else if(e instanceof sc&&e.isCount())e=new UM(e);else if(!(e instanceof DO))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Ts))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&i&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return o(l)},this.configGetSourceVariant=function(l){o=l.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n;const i=this.discriminator,s=i.decode(e,r);let o=this.registry[s];if(o===void 0){let l=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[o.property]=this.defaultLayout.decode(e,r+l)}else n=o.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=s.layout.span),s.encode(e[s.property],r,n),l+o.encode(e[o.property],r,n+l)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new NH(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return xt.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class NH extends Ts{constructor(e,r,n,i){if(!(e instanceof BO))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Ts))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class MH extends Ts{constructor(e,r){if(!(e instanceof sc&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof sc||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof sc&&(i=e.length),!(xt.isBuffer(e)&&i===e.length))throw new TypeError(bH("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof sc&&this.length.encode(i,r,n),i}}var AH=(t,e,r)=>new jO(t,e,r),RH=t=>new _y(1,t),Ko=t=>new _y(4,t),kH=t=>new _H(t),la=t=>new SH(t),Xr=(t,e,r)=>new EH(t,e,r),UO=(t,e,r)=>new BO(t,e,r),Sp=(t,e)=>new MH(t,e);class TH extends by{constructor(e){super(-1,e),this.property=e,this.layout=Xr([Ko("length"),Ko("lengthPadding"),Sp(AH(Ko(),-8),"chars")],this.property)}encode(e,r,n=0){if(e==null)return this.layout.span;const i={chars:xt.from(e,"utf8")};return this.layout.encode(i,r,n)}decode(e,r=0){return this.layout.decode(e,r).chars.toString()}getSpan(e,r=0){return Ko().span+Ko().span+new Yl(new Uint8Array(e).slice(r,r+4),10,"le").toNumber()}}function Sy(t){return new TH(t)}function ui(t){return Sp(32,t)}const qs=UO(Ko("instruction"));qs.addVariant(0,Xr([la("lamports"),la("space"),ui("owner")]),"createAccount");qs.addVariant(1,Xr([ui("owner")]),"assign");qs.addVariant(2,Xr([la("lamports")]),"transfer");qs.addVariant(3,Xr([ui("base"),Sy("seed"),la("lamports"),la("space"),ui("owner")]),"createAccountWithSeed");qs.addVariant(4,Xr([ui("authorized")]),"advanceNonceAccount");qs.addVariant(5,Xr([la("lamports")]),"withdrawNonceAccount");qs.addVariant(6,Xr([ui("authorized")]),"initializeNonceAccount");qs.addVariant(7,Xr([ui("authorized")]),"authorizeNonceAccount");qs.addVariant(8,Xr([la("space")]),"allocate");qs.addVariant(9,Xr([ui("base"),Sy("seed"),la("space"),ui("owner")]),"allocateWithSeed");qs.addVariant(10,Xr([ui("base"),Sy("seed"),ui("owner")]),"assignWithSeed");qs.addVariant(11,Xr([la("lamports"),Sy("seed"),ui("owner")]),"transferWithSeed");Math.max(...Object.values(qs.registry).map(t=>t.span));class IH extends by{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}function zM(t){return new IH(Sp(32),e=>new me(e),e=>e.toBuffer(),t)}Xr([Ko("version"),Ko("state"),zM("authorizedPubkey"),zM("nonce"),Xr([kH("lamportsPerSignature")],"feeCalculator")]);new me("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new me("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var FM={exports:{}};(function(t,e){var r=typeof self<"u"?self:hH,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function f(a){return a&&DataView.prototype.isPrototypeOf(a)}if(l.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(a){return a&&h.indexOf(Object.prototype.toString.call(a))>-1};function v(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function E(a){return typeof a!="string"&&(a=String(a)),a}function b(a){var d={next:function(){var m=a.shift();return{done:m===void 0,value:m}}};return l.iterable&&(d[Symbol.iterator]=function(){return d}),d}function k(a){this.map={},a instanceof k?a.forEach(function(d,m){this.append(m,d)},this):Array.isArray(a)?a.forEach(function(d){this.append(d[0],d[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(d){this.append(d,a[d])},this)}k.prototype.append=function(a,d){a=v(a),d=E(d);var m=this.map[a];this.map[a]=m?m+", "+d:d},k.prototype.delete=function(a){delete this.map[v(a)]},k.prototype.get=function(a){return a=v(a),this.has(a)?this.map[a]:null},k.prototype.has=function(a){return this.map.hasOwnProperty(v(a))},k.prototype.set=function(a,d){this.map[v(a)]=E(d)},k.prototype.forEach=function(a,d){for(var m in this.map)this.map.hasOwnProperty(m)&&a.call(d,this.map[m],m,this)},k.prototype.keys=function(){var a=[];return this.forEach(function(d,m){a.push(m)}),b(a)},k.prototype.values=function(){var a=[];return this.forEach(function(d){a.push(d)}),b(a)},k.prototype.entries=function(){var a=[];return this.forEach(function(d,m){a.push([m,d])}),b(a)},l.iterable&&(k.prototype[Symbol.iterator]=k.prototype.entries);function N(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function A(a){return new Promise(function(d,m){a.onload=function(){d(a.result)},a.onerror=function(){m(a.error)}})}function R(a){var d=new FileReader,m=A(d);return d.readAsArrayBuffer(a),m}function T(a){var d=new FileReader,m=A(d);return d.readAsText(a),m}function C(a){for(var d=new Uint8Array(a),m=new Array(d.length),y=0;y<d.length;y++)m[y]=String.fromCharCode(d[y]);return m.join("")}function j(a){if(a.slice)return a.slice(0);var d=new Uint8Array(a.byteLength);return d.set(new Uint8Array(a)),d.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(a){this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:l.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:l.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():l.arrayBuffer&&l.blob&&f(a)?(this._bodyArrayBuffer=j(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||p(a))?this._bodyArrayBuffer=j(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var a=N(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?N(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(R)}),this.text=function(){var a=N(this);if(a)return a;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(a){var d=a.toUpperCase();return U.indexOf(d)>-1?d:a}function F(a,d){d=d||{};var m=d.body;if(a instanceof F){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,d.headers||(this.headers=new k(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!m&&a._bodyInit!=null&&(m=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new k(d.headers)),this.method=L(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&m)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(m)}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function W(a){var d=new FormData;return a.trim().split("&").forEach(function(m){if(m){var y=m.split("="),g=y.shift().replace(/\+/g," "),S=y.join("=").replace(/\+/g," ");d.append(decodeURIComponent(g),decodeURIComponent(S))}}),d}function q(a){var d=new k,m=a.replace(/\r?\n[\t ]+/g," ");return m.split(/\r?\n/).forEach(function(y){var g=y.split(":"),S=g.shift().trim();if(S){var I=g.join(":").trim();d.append(S,I)}}),d}D.call(F.prototype);function V(a,d){d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new k(d.headers),this.url=d.url||"",this._initBody(a)}D.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new k(this.headers),url:this.url})},V.error=function(){var a=new V(null,{status:0,statusText:""});return a.type="error",a};var K=[301,302,303,307,308];V.redirect=function(a,d){if(K.indexOf(d)===-1)throw new RangeError("Invalid status code");return new V(null,{status:d,headers:{location:a}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(d,m){this.message=d,this.name=m;var y=Error(d);this.stack=y.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function x(a,d){return new Promise(function(m,y){var g=new F(a,d);if(g.signal&&g.signal.aborted)return y(new o.DOMException("Aborted","AbortError"));var S=new XMLHttpRequest;function I(){S.abort()}S.onload=function(){var w={status:S.status,statusText:S.statusText,headers:q(S.getAllResponseHeaders()||"")};w.url="responseURL"in S?S.responseURL:w.headers.get("X-Request-URL");var c="response"in S?S.response:S.responseText;m(new V(c,w))},S.onerror=function(){y(new TypeError("Network request failed"))},S.ontimeout=function(){y(new TypeError("Network request failed"))},S.onabort=function(){y(new o.DOMException("Aborted","AbortError"))},S.open(g.method,g.url,!0),g.credentials==="include"?S.withCredentials=!0:g.credentials==="omit"&&(S.withCredentials=!1),"responseType"in S&&l.blob&&(S.responseType="blob"),g.headers.forEach(function(w,c){S.setRequestHeader(c,w)}),g.signal&&(g.signal.addEventListener("abort",I),S.onreadystatechange=function(){S.readyState===4&&g.signal.removeEventListener("abort",I)}),S.send(typeof g._bodyInit>"u"?null:g._bodyInit)})}return x.polyfill=!0,s.fetch||(s.fetch=x,s.Headers=k,s.Request=F,s.Response=V),o.Headers=k,o.Request=F,o.Response=V,o.fetch=x,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(FM,FM.exports);_t.rustEnum([_t.struct([],"uninitialized"),_t.struct([_t.option(_t.publicKey(),"authorityAddress")],"buffer"),_t.struct([_t.publicKey("programdataAddress")],"program"),_t.struct([_t.u64("slot"),_t.option(_t.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,_t.u32());const Ex="Program log: ",zO="Program data: ",CH=Ex.length,jH=zO.length;class OH{constructor(e,r,n){this._programId=e,this._provider=r,this._eventParser=new FO(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,r,n){var i;let s=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((i=this._eventListeners.get(e))!==null&&i!==void 0?i:[]).concat(s)),this._eventCallbacks.set(s,[e,r]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(o,l)=>{if(!o.err)for(const f of this._eventParser.parseLogs(o.logs)){const h=this._eventListeners.get(f.name);h&&h.forEach(p=>{const v=this._eventCallbacks.get(p);if(v){const[,E]=v;E(f.data,l.slot,o.signature)}})}},n)),s}async removeEventListener(e){const r=this._eventCallbacks.get(e);if(!r)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=r;let i=this._eventListeners.get(n);if(!i)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),i=i.filter(s=>s!==e),this._eventListeners.set(n,i),i.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class FO{constructor(e,r){this.coder=r,this.programId=e}*parseLogs(e,r=!1){const n=new LH(e),i=new PH;let s=n.next();for(;s!==null;){let[o,l,f]=this.handleLog(i,s,r);o&&(yield o),l&&i.push(l),f&&i.pop(),s=n.next()}}handleLog(e,r,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(r,n):[null,...this.handleSystemLog(r)]}handleProgramLog(e,r){if(e.startsWith(Ex)||e.startsWith(zO)){const n=e.startsWith(Ex)?e.slice(CH):e.slice(jH),i=this.coder.events.decode(n);if(r&&i===null)throw new Error(`Unable to decode event ${n}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const r=e.split(":")[0];return r.match(/^Program (.*) success/g)!==null?[null,!0]:r.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:r.includes("invoke")?["cpi",!1]:[null,!1]}}class PH{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class LH{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function Ey(t,e){var r,n;let i={};const s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(n=(r=t.args)===null||r===void 0?void 0:r.map(o=>o.name))!==null&&n!==void 0?n:[]}`);i=e.pop()}return[e,i]}class sg{static build(e,r,n){if(e.name==="_inner")throw new Aa("the _inner name is reserved");const i=(...s)=>{const[o,l]=Ey(e,[...s]);nj(e.accounts,l.accounts),DH(e,...s);const f=i.accounts(l.accounts);return l.remainingAccounts!==void 0&&f.push(...l.remainingAccounts),TO("debug-logs")&&console.log("Outgoing account metas:",f),new nr({keys:f,programId:n,data:r(e.name,ZV(e,...o))})};return i.accounts=s=>sg.accountsArray(s,e.accounts,n,e.name),i}static accountsArray(e,r,n,i){return e?r.map(s=>{if(ja(s)){const p=e[s.name];return sg.accountsArray(p,s.accounts,n,i).flat()}let o;try{o=Ti(e[s.name])}catch{throw new Error(`Wrong input type for account "${s.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const l=s.optional&&o.equals(n),f=!!(s.writable&&!l),h=!!(s.signer&&!l);return{pubkey:o,isWritable:f,isSigner:h}}).flat():[]}}function DH(t,...e){}class BH{static build(e,r){return(...i)=>{var s,o,l;const[,f]=Ey(e,[...i]),h=new jt;if(f.preInstructions&&f.instructions)throw new Error("instructions is deprecated, use preInstructions");return(s=f.preInstructions)===null||s===void 0||s.forEach(p=>h.add(p)),(o=f.instructions)===null||o===void 0||o.forEach(p=>h.add(p)),h.add(r(...i)),(l=f.postInstructions)===null||l===void 0||l.forEach(p=>h.add(p)),h}}}class UH{static build(e,r,n,i){return async(...o)=>{var l;const f=r(...o),[,h]=Ey(e,[...o]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(f,(l=h.signers)!==null&&l!==void 0?l:[],h.options)}catch(p){throw IO(p,n)}}}}class zH{static build(e,r,n,i){var s;return((s=e.accounts)!==null&&s!==void 0?s:[]).reduce((o,l)=>(o[l.name]=new FH(e,l,n,i,r),o),{})}}class FH{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,r,n,i,s){this._idlAccount=r,this._programId=n,this._provider=i??bx(),this._coder=s??new CO(e),this._size=this._coder.accounts.size(r.name)}async fetchNullable(e,r){const{data:n}=await this.fetchNullableAndContext(e,r);return n}async fetchNullableAndContext(e,r){const n=await this.getAccountInfoAndContext(e,r),{value:i,context:s}=n;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:s}}async fetch(e,r){const{data:n}=await this.fetchNullableAndContext(e,r);if(n===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,r){const{data:n,context:i}=await this.fetchNullableAndContext(e,r);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:i}}async fetchMultiple(e,r){return(await this.fetchMultipleAndContext(e,r)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,r){return(await iH(this._provider.connection,e.map(i=>Ti(i)),r)).map(i=>{if(i==null)return null;const{account:s,context:o}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,s.data),context:o}})}async all(e){const r=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof xt?e:void 0),n=[];return(r==null?void 0:r.offset)!=null&&(r==null?void 0:r.bytes)!=null&&n.push({memcmp:{offset:r.offset,bytes:r.bytes}}),(r==null?void 0:r.dataSize)!=null&&n.push({dataSize:r.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map(({pubkey:s,account:o})=>({publicKey:s,account:this._coder.accounts.decode(this._idlAccount.name,o.data)}))}subscribe(e,r){const n=bf.get(e.toString());if(n)return n.ee;const i=new zV;e=Ti(e);const s=this._provider.connection.onAccountChange(e,o=>{const l=this._coder.accounts.decode(this._idlAccount.name,o.data);i.emit("change",l)},r);return bf.set(e.toString(),{ee:i,listener:s}),i}async unsubscribe(e){let r=bf.get(e.toString());if(!r){console.warn("Address is not subscribed");return}bf&&await this._provider.connection.removeAccountChangeListener(r.listener).then(()=>{bf.delete(e.toString())}).catch(console.error)}async createInstruction(e,r){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return Br.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:r??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(r??n),programId:this._programId})}async getAccountInfo(e,r){return await this._provider.connection.getAccountInfo(Ti(e),r)}async getAccountInfoAndContext(e,r){return await this._provider.connection.getAccountInfoAndContext(Ti(e),r)}}const bf=new Map;class WH{static build(e,r,n,i,s,o,l){return async(...h)=>{var p;const v=r(...h),[,E]=Ey(e,[...h]);let b;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{b=await i.simulate(v,E.signers,(p=E.options)===null||p===void 0?void 0:p.commitment)}catch(A){throw IO(A,n)}if(b===void 0)throw new Error("Unable to simulate transaction");const k=b.logs;if(!k)throw new Error("Simulated logs not found");const N=[];if(l.events){let A=new FO(o,s);for(const R of A.parseLogs(k))N.push(R)}return{events:N,raw:k}}}}function bw(t){return new WO(Sp(8),e=>TS.fromBuffer(e),e=>e.toBuffer(),t)}function w0(t){return new WO(Sp(32),e=>new me(e),e=>e.toBuffer(),t)}function _w(t,e){return new $H(t,e)}class WO extends by{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}class $H extends by{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=Ko()}encode(e,r,n=0){return e==null?this.layout.span+this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+4)+4)}decode(e,r=0){const n=this.discriminator.decode(e,r);if(n===0)return null;if(n===1)return this.layout.decode(e,r+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,r=0){return this.layout.getSpan(e,r+4)+4}}class TS extends Yl{toBuffer(){const e=super.toArray().reverse(),r=xt.from(e);if(r.length===8)return r;if(r.length>=8)throw new Error("u64 too large");const n=xt.alloc(8);return r.copy(n),n}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new TS([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}const VH=Xr([w0("mint"),w0("owner"),bw("amount"),_w(w0(),"delegate"),(t=>{const e=UO(RH("discriminator"),null,t);return e.addVariant(0,Xr([]),"uninitialized"),e.addVariant(1,Xr([]),"initialized"),e.addVariant(2,Xr([]),"frozen"),e})("state"),_w(bw(),"isNative"),bw("delegatedAmount"),_w(w0(),"closeAuthority")]);function HH(t){return VH.decode(t)}class KH{constructor(e,r,n,i,s,o,l,f){this._args=e,this._accounts=r,this._provider=n,this._programId=i,this._idlIx=s,this._idlTypes=l,this._customResolver=f,this._accountStore=new qH(n,o,i)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const r=o=>ja(o)?o.accounts.some(r):!!(o.address||o.pda||o.relations),n=(o,l=[],f=[])=>{for(const h of o)ja(h)?f.push(...n(h.accounts,[...l,h.name])):f.push([...l,h.name]);return f},i=this._idlIx.accounts.filter(r),s=n(i).filter(o=>!this.get(o)).map(o=>o.reduce((l,f)=>l+"."+f)).map(o=>`\`${o}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${s}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const r=e.reduce((n,i)=>n&&n[i],this._accounts);if(r&&r.toBase58)return r}set(e,r){let n=this._accounts;e.forEach((i,s)=>{var o;s===e.length-1&&(n[i]=r),n[i]=(o=n[i])!==null&&o!==void 0?o:{},n=n[i]})}resolveOptionalsHelper(e,r){const n={};for(const i of r){const s=i.name,o=e[s];o!==void 0&&($O(o)?ja(i)?n[s]=this.resolveOptionalsHelper(o,i.accounts):n[s]=VO(o):o!==null?n[s]=Ti(o):i.optional&&(n[s]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:r}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,r}return 0}resolveEventCpi(e,r=[]){for(const n in e){const i=e[n];ja(i)&&this.resolveEventCpi(i.accounts,[...r,i.name]);const s=+n+1;if(s===e.length)return;const o=e[n].name,l=e[s].name;if(o==="eventAuthority"&&l==="program"){const f=[...r,o],h=[...r,l];this.get(f)||this.set(f,me.findProgramAddressSync([xt.from("__event_authority")],this._programId)[0]),this.get(h)||this.set(h,this._programId);return}}}resolveConst(e,r=[]){for(const n of e){const i=n.name;if(ja(n))this.resolveConst(n.accounts,[...r,i]);else{const s=n;if((s.signer||s.address)&&!this.get([...r,i])){if(s.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...r,i],this._provider.publicKey)}s.address&&this.set([...r,i],Ti(s.address))}}}}async resolvePdasAndRelations(e,r=[]){let n=0;for(const i of e){const s=i.name;if(ja(i))n+=await this.resolvePdasAndRelations(i.accounts,[...r,s]);else{const o=i;if((o.pda||o.relations)&&!this.get([...r,s])){n++;try{if(o.pda){const l=await Promise.all(o.pda.seeds.map(p=>this.toBuffer(p,r)));if(l.some(p=>!p))continue;const f=await this.parseProgramId(o,r),[h]=me.findProgramAddressSync(l,f);this.set([...r,s],h)}}catch{}try{if(o.relations){const l=this.get([...r,o.relations[0]]);if(l){const f=await this._accountStore.fetchAccount({publicKey:l});this.set([...r,s],f[s])}}}catch{}}}}return n}async parseProgramId(e,r=[]){var n;if(!(!((n=e.pda)===null||n===void 0)&&n.program))return this._programId;const i=await this.toBuffer(e.pda.program,r);if(!i)throw new Error(`Program seed not resolved: ${e.name}`);return new me(i)}async toBuffer(e,r=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,r);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[r,...n]=e.path.split("."),i=this._idlIx.args.findIndex(l=>l.name===r);if(i===-1)throw new Error(`Unable to find argument for seed: ${r}`);const s=n.reduce((l,f)=>(l??{})[f],this._args[i]);if(s===void 0)return;const o=this.getType(this._idlIx.args[i].type,n);return this.toBufferValue(o,s)}async toBufferAccount(e,r=[]){const[n,...i]=e.path.split("."),s=this.get([...r,n]);if(!s)return;if(!i.length)return this.toBufferValue("pubkey",s);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let l=await this._accountStore.fetchAccount({publicKey:s,name:e.account}),f=i;for(;f.length>0;)l=l[f[0]],f=f.slice(1);if(l===void 0)return;const h=this.getType({defined:{name:e.account}},i);return this.toBufferValue(h,l)}toBufferValue(e,r){switch(e){case"u8":case"i8":return xt.from([r]);case"u16":case"i16":return new Yl(r).toArrayLike(xt,"le",2);case"u32":case"i32":return new Yl(r).toArrayLike(xt,"le",4);case"u64":case"i64":return new Yl(r).toArrayLike(xt,"le",8);case"u128":case"i128":return new Yl(r).toArrayLike(xt,"le",16);case"u256":case"i256":return new Yl(r).toArrayLike(xt,"le",32);case"string":return xt.from(r);case"pubkey":return r.toBuffer();case"bytes":return xt.from(r);default:if(e!=null&&e.array)return xt.from(r);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,r=[]){var n;const i=(n=e==null?void 0:e.defined)===null||n===void 0?void 0:n.name;if(i){if(i==="tokenAccount")switch(r.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${r}`)}const s=this._idlTypes.find(p=>p.name===i);if(!s)throw new Error(`Type not found: ${i}`);const[o,...l]=r,h=s.type.fields.find(p=>p.name===o);if(!h)throw new Error(`Field not found: ${o}`);return this.getType(h.type,l)}return e}}class qH{constructor(e,r,n){this._provider=e,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=r}async fetchAccount({publicKey:e,name:r}){const n=e.toBase58();if(!this._cache.has(n)){const i=await this._provider.connection.getAccountInfo(e);if(i===null)throw new Error(`Account not found: ${n}`);if(r==="tokenAccount"){const s=HH(i.data);this._cache.set(n,s)}else{const s=await this.getAccountsNs(i.owner);if(s){const o=Object.values(s)[0];if(o){const l=o.coder.accounts.decodeAny(i.data);this._cache.set(n,l)}}}}return this._cache.get(n)}async getAccountsNs(e){const r=e.toBase58();if(!this._idls[r]){const n=await Ad.fetchIdl(e,this._provider);if(n){const i=new Ad(n,this._provider);this._idls[r]=i.account}}return this._idls[r]}}class GH{static build(e,r,n,i,s,o,l,f,h,p,v){return(...E)=>new ZH(E,i,s,o,l,f,e,r,n,h,p,v)}}function $O(t){return typeof t=="object"&&t!==null&&!("_bn"in t)}function VO(t,e){const r={};for(const n in t){const i=t[n];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");r[n]=$O(i)?VO(i):Ti(i)}return r}class ZH{constructor(e,r,n,i,s,o,l,f,h,p,v,E){this._args=e,this._ixFn=r,this._txFn=n,this._rpcFn=i,this._simulateFn=s,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new KH(e,this._accounts,l,f,h,p,v,E)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,r=!1){return r?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class YH{static build(e,r,n,i){const s=r.accounts.find(f=>f.writable),o=!!r.returns;return s||!o?void 0:async(...f)=>{let h=await n(...f);const p=`Program return: ${e} `;let v=h.raw.find(N=>N.startsWith(p));if(!v)throw new Error("View expected return log");let E=rj(v.slice(p.length)),b=r.returns;if(!b)throw new Error("View expected return type");return Bt.fieldLayout({type:b},i.types).decode(E)}}}class QH{static build(e,r,n,i,s){const o={},l={},f={},h={},p={},v={},E=GV(e),b=e.accounts?zH.build(e,r,n,i):{};return e.instructions.forEach(k=>{const N=sg.build(k,(U,L)=>r.instruction.encode(U,L),n),A=BH.build(k,N),R=UH.build(k,A,E,i),T=WH.build(k,A,E,i,r,n,e),C=YH.build(n,k,T,e),j=GH.build(i,n,k,N,A,R,T,C,b,e.types||[],s==null?void 0:s(k)),D=k.name;l[D]=N,f[D]=A,o[D]=R,h[D]=T,p[D]=j,C&&(v[D]=C)}),[o,l,f,b,h,p,v]}}class Ad{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,r=bx(),n,i){this._idl=qV(e),this._rawIdl=e,this._provider=r,this._programId=Ti(e.address),this._coder=n??new CO(this._idl),this._events=new OH(this._programId,r,this._coder);const[s,o,l,f,h,p,v]=QH.build(this._idl,this._coder,this._programId,r,i);this.rpc=s,this.instruction=o,this.transaction=l,this.account=f,this.simulate=h,this.methods=p,this.views=v}static async at(e,r){const n=Ti(e),i=await Ad.fetchIdl(n,r);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new Ad(i,r)}static async fetchIdl(e,r){r=r??bx();const n=Ti(e),i=await $V(n),s=await r.connection.getAccountInfo(i);if(!s)return null;let o=KV(s.data.slice(8));const l=BV(o.data);return JSON.parse(WV(l))}addEventListener(e,r,n){return this._events.addEventListener(e,r,n)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new me("11111111111111111111111111111111");const JH=bC,XH=(t,e)=>new Md(t,e,Md.defaultOptions()),eK=t=>{try{if(!t)throw new Error("Provider is null or undefined");console.log("Creating Anchor program with IDL"),console.log("- Provider connection:",t.connection.rpcEndpoint),console.log("- Provider wallet public key:",t.wallet.publicKey.toString()),fH(t);const e=new Ad(xC);if(!e||!e.programId)throw new Error("Program creation failed - program or programId is null");return console.log("Program created successfully with ID:",e.programId.toString()),e}catch(e){throw console.error("Error creating Anchor program:",e),new Error(`Failed to initialize program: ${e instanceof Error?e.message:"Unknown error"}`)}},tK=t=>{var n;if(!((n=window.phantom)!=null&&n.solana))throw new Error("Phantom wallet not available");const e=ta.generate();return Object.defineProperty(e,"publicKey",{get:()=>t}),{publicKey:t,signTransaction:async i=>{try{const s=await window.phantom.solana.signTransaction(i);if(!s)throw new Error("Failed to sign transaction");return s}catch(s){throw console.error("Error signing transaction:",s),s}},signAllTransactions:async i=>{try{const s=await window.phantom.solana.signAllTransactions(i);if(!s||s.length!==i.length)throw new Error("Failed to sign all transactions");return s}catch(s){throw console.error("Error signing transactions:",s),s}},get payer(){return e}}};class tn extends Error{constructor(e,r){super(e),this.error=r}}class xl extends tn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class rK extends tn{constructor(){super(...arguments),this.name="WalletLoadError"}}class Pu extends tn{constructor(){super(...arguments),this.name="WalletConfigError"}}class Cc extends tn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class IS extends tn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class CS extends tn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class ic extends tn{constructor(){super(...arguments),this.name="WalletAccountError"}}class Rd extends tn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class jr extends tn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Jo extends tn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Ii extends tn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Ny extends tn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WM extends tn{constructor(){super(...arguments),this.name="WalletSignInError"}}var Ct;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Ct||(Ct={}));class HO extends nS{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,r,n={}){const i=this.publicKey;if(!i)throw new jr;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await r.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function KO(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function r(){if(t())for(const s of e)s()}const n=setInterval(r,1e3);e.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",r))),document.readyState!=="complete"&&(window.addEventListener("load",r,{once:!0}),e.push(()=>window.removeEventListener("load",r))),r()}function Nx(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),r=t.includes("safari");return e&&r}function Xo(t){return"version"in t}class nK extends HO{async sendTransaction(e,r,n={}){let i=!0;try{if(Xo(e)){if(!this.supportedTransactionVersions)throw new Jo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Jo(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await r.sendRawTransaction(s,n)}catch(s){throw s instanceof Ii?(i=!1,s):new Jo(s==null?void 0:s.message,s)}}else try{const{signers:s,...o}=n;e=await this.prepareTransaction(e,r,o),s!=null&&s.length&&e.partialSign(...s),e=await this.signTransaction(e);const l=e.serialize();return await r.sendRawTransaction(l,o)}catch(s){throw s instanceof Ii?(i=!1,s):new Jo(s==null?void 0:s.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(e){for(const n of e)if(Xo(n)){if(!this.supportedTransactionVersions)throw new Ii("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new Ii(`Signing transaction version ${n.version} isn't supported by this wallet`)}const r=[];for(const n of e)r.push(await this.signTransaction(n));return r}}class jS extends nK{}class sK extends jS{}const cs="solana:signAndSendTransaction",bc="solana:signIn",qo="solana:signMessage",Sr="solana:signTransaction",My="standard:connect",ig="standard:disconnect",Ay="standard:events";function iK(t){return My in t.features&&Ay in t.features&&(cs in t.features||Sr in t.features)}var Mx;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(Mx||(Mx={}));function OS(t){return console.error("Wallet error:",t),t instanceof jr?"Please connect your wallet to continue.":t instanceof xl?"Wallet not ready. Please check if Phantom is installed and unlocked.":t instanceof tn?t.message.includes("User rejected")?"Connection rejected. Please approve the connection request in your wallet.":t.message.includes("timeout")?"Connection timed out. Please try again.":t.message.includes("No wallet selected")?"Please select a wallet to connect.":t.message.includes("Wallet not found")?"Wallet not found. Please make sure Phantom is installed and unlocked.":`Wallet error: ${t.message}`:t instanceof Error?t.message.includes("0x1")?"Insufficient funds for transaction.":t.message.includes("0x2")?"Invalid account data.":t.message.includes("Custom program error: 0x1")?"Program error: Invalid instruction data.":t.message.includes("Custom program error: 0x2")?"Program error: Invalid program account data.":t.message.includes("blockhash")?"Transaction expired. Please try again.":t.message.includes("Blockhash not found")?"Network error. Please try again.":t.message.includes("insufficient funds")?"Insufficient SOL in your wallet. Please add funds and try again.":t.message.includes("User rejected")?"Transaction rejected. Please approve the transaction in your wallet.":t.message.includes("timeout")?"Transaction timed out. Please try again.":t.message.includes("Failed to connect")?"Failed to connect to wallet. Please try again or use a different wallet.":t.message.includes("failed to sign")?"Failed to sign transaction. Please try again.":t.message.includes("Transaction was not confirmed")?"Transaction was not confirmed. Please check your wallet for details.":`Error: ${t.message}`:"An unexpected error occurred. Please try again."}var oK=t=>{switch(t){case"success":return cK;case"info":return dK;case"warning":return uK;case"error":return fK;default:return null}},aK=Array(12).fill(0),lK=({visible:t,className:e})=>J.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},J.createElement("div",{className:"sonner-spinner"},aK.map((r,n)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cK=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uK=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dK=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fK=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hK=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pK=()=>{let[t,e]=J.useState(document.hidden);return J.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Ax=1,mK=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ax++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,o=n.then(async f=>{if(s=["resolve",f],J.isValidElement(f))i=!1,this.create({id:r,type:"default",message:f});else if(yK(f)&&!f.ok){i=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,p=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:r,type:"error",message:h,description:p})}else if(e.success!==void 0){i=!1;let h=typeof e.success=="function"?await e.success(f):e.success,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"success",message:h,description:p})}}).catch(async f=>{if(s=["reject",f],e.error!==void 0){i=!1;let h=typeof e.error=="function"?await e.error(f):e.error,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"error",message:h,description:p})}}).finally(()=>{var f;i&&(this.dismiss(r),r=void 0),(f=e.finally)==null||f.call(e)}),l=()=>new Promise((f,h)=>o.then(()=>s[0]==="reject"?h(s[1]):f(s[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Ax++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},vs=new mK,gK=(t,e)=>{let r=(e==null?void 0:e.id)||Ax++;return vs.addToast({title:t,...e,id:r}),r},yK=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vK=gK,wK=()=>vs.toasts,xK=()=>vs.getActiveToasts(),lt=Object.assign(vK,{success:vs.success,info:vs.info,warning:vs.warning,error:vs.error,custom:vs.custom,message:vs.message,promise:vs.promise,dismiss:vs.dismiss,loading:vs.loading},{getHistory:wK,getToasts:xK});function bK(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}bK(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function x0(t){return t.label!==void 0}var _K=3,SK="32px",EK="16px",$M=4e3,NK=356,MK=14,AK=20,RK=200;function vi(...t){return t.filter(Boolean).join(" ")}function kK(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var TK=t=>{var e,r,n,i,s,o,l,f,h,p,v;let{invert:E,toast:b,unstyled:k,interacting:N,setHeights:A,visibleToasts:R,heights:T,index:C,toasts:j,expanded:D,removeToast:U,defaultRichColors:L,closeButton:F,style:W,cancelButtonStyle:q,actionButtonStyle:V,className:K="",descriptionClassName:x="",duration:a,position:d,gap:m,loadingIcon:y,expandByDefault:g,classNames:S,icons:I,closeButtonAriaLabel:w="Close toast",pauseWhenPageIsHidden:c}=t,[_,$]=J.useState(null),[H,G]=J.useState(null),[re,ie]=J.useState(!1),[le,nt]=J.useState(!1),[ue,de]=J.useState(!1),[vt,ye]=J.useState(!1),[be,Ft]=J.useState(!1),[_e,Me]=J.useState(0),[hr,Te]=J.useState(0),ke=J.useRef(b.duration||a||$M),Q=J.useRef(null),Z=J.useRef(null),X=C===0,Ie=C+1<=R,se=b.type,ne=b.dismissible!==!1,De=b.className||"",he=b.descriptionClassName||"",B=J.useMemo(()=>T.findIndex(fe=>fe.toastId===b.id)||0,[T,b.id]),P=J.useMemo(()=>{var fe;return(fe=b.closeButton)!=null?fe:F},[b.closeButton,F]),O=J.useMemo(()=>b.duration||a||$M,[b.duration,a]),z=J.useRef(0),ee=J.useRef(0),Y=J.useRef(0),te=J.useRef(null),[ht,ve]=d.split("-"),we=J.useMemo(()=>T.reduce((fe,At,xe)=>xe>=B?fe:fe+At.height,0),[T,B]),Pt=pK(),ge=b.invert||E,Le=se==="loading";ee.current=J.useMemo(()=>B*m+we,[B,we]),J.useEffect(()=>{ke.current=O},[O]),J.useEffect(()=>{ie(!0)},[]),J.useEffect(()=>{let fe=Z.current;if(fe){let At=fe.getBoundingClientRect().height;return Te(At),A(xe=>[{toastId:b.id,height:At,position:b.position},...xe]),()=>A(xe=>xe.filter(Ae=>Ae.toastId!==b.id))}},[A,b.id]),J.useLayoutEffect(()=>{if(!re)return;let fe=Z.current,At=fe.style.height;fe.style.height="auto";let xe=fe.getBoundingClientRect().height;fe.style.height=At,Te(xe),A(Ae=>Ae.find(vr=>vr.toastId===b.id)?Ae.map(vr=>vr.toastId===b.id?{...vr,height:xe}:vr):[{toastId:b.id,height:xe,position:b.position},...Ae])},[re,b.title,b.description,A,b.id]);let Wr=J.useCallback(()=>{nt(!0),Me(ee.current),A(fe=>fe.filter(At=>At.toastId!==b.id)),setTimeout(()=>{U(b)},RK)},[b,U,A,ee]);J.useEffect(()=>{if(b.promise&&se==="loading"||b.duration===1/0||b.type==="loading")return;let fe;return D||N||c&&Pt?(()=>{if(Y.current<z.current){let At=new Date().getTime()-z.current;ke.current=ke.current-At}Y.current=new Date().getTime()})():ke.current!==1/0&&(z.current=new Date().getTime(),fe=setTimeout(()=>{var At;(At=b.onAutoClose)==null||At.call(b,b),Wr()},ke.current)),()=>clearTimeout(fe)},[D,N,b,se,c,Pt,Wr]),J.useEffect(()=>{b.delete&&Wr()},[Wr,b.delete]);function Be(){var fe,At,xe;return I!=null&&I.loading?J.createElement("div",{className:vi(S==null?void 0:S.loader,(fe=b==null?void 0:b.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":se==="loading"},I.loading):y?J.createElement("div",{className:vi(S==null?void 0:S.loader,(At=b==null?void 0:b.classNames)==null?void 0:At.loader,"sonner-loader"),"data-visible":se==="loading"},y):J.createElement(lK,{className:vi(S==null?void 0:S.loader,(xe=b==null?void 0:b.classNames)==null?void 0:xe.loader),visible:se==="loading"})}return J.createElement("li",{tabIndex:0,ref:Z,className:vi(K,De,S==null?void 0:S.toast,(e=b==null?void 0:b.classNames)==null?void 0:e.toast,S==null?void 0:S.default,S==null?void 0:S[se],(r=b==null?void 0:b.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=b.richColors)!=null?n:L,"data-styled":!(b.jsx||b.unstyled||k),"data-mounted":re,"data-promise":!!b.promise,"data-swiped":be,"data-removed":le,"data-visible":Ie,"data-y-position":ht,"data-x-position":ve,"data-index":C,"data-front":X,"data-swiping":ue,"data-dismissible":ne,"data-type":se,"data-invert":ge,"data-swipe-out":vt,"data-swipe-direction":H,"data-expanded":!!(D||g&&re),style:{"--index":C,"--toasts-before":C,"--z-index":j.length-C,"--offset":`${le?_e:ee.current}px`,"--initial-height":g?"auto":`${hr}px`,...W,...b.style},onDragEnd:()=>{de(!1),$(null),te.current=null},onPointerDown:fe=>{Le||!ne||(Q.current=new Date,Me(ee.current),fe.target.setPointerCapture(fe.pointerId),fe.target.tagName!=="BUTTON"&&(de(!0),te.current={x:fe.clientX,y:fe.clientY}))},onPointerUp:()=>{var fe,At,xe,Ae;if(vt||!ne)return;te.current=null;let vr=Number(((fe=Z.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),je=Number(((At=Z.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pe=new Date().getTime()-((xe=Q.current)==null?void 0:xe.getTime()),wr=_==="x"?vr:je,Oe=Math.abs(wr)/Pe;if(Math.abs(wr)>=AK||Oe>.11){Me(ee.current),(Ae=b.onDismiss)==null||Ae.call(b,b),G(_==="x"?vr>0?"right":"left":je>0?"down":"up"),Wr(),ye(!0),Ft(!1);return}de(!1),$(null)},onPointerMove:fe=>{var At,xe,Ae,vr;if(!te.current||!ne||((At=window.getSelection())==null?void 0:At.toString().length)>0)return;let je=fe.clientY-te.current.y,Pe=fe.clientX-te.current.x,wr=(xe=t.swipeDirections)!=null?xe:kK(d);!_&&(Math.abs(Pe)>1||Math.abs(je)>1)&&$(Math.abs(Pe)>Math.abs(je)?"x":"y");let Oe={x:0,y:0};_==="y"?(wr.includes("top")||wr.includes("bottom"))&&(wr.includes("top")&&je<0||wr.includes("bottom")&&je>0)&&(Oe.y=je):_==="x"&&(wr.includes("left")||wr.includes("right"))&&(wr.includes("left")&&Pe<0||wr.includes("right")&&Pe>0)&&(Oe.x=Pe),(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&Ft(!0),(Ae=Z.current)==null||Ae.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(vr=Z.current)==null||vr.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},P&&!b.jsx?J.createElement("button",{"aria-label":w,"data-disabled":Le,"data-close-button":!0,onClick:Le||!ne?()=>{}:()=>{var fe;Wr(),(fe=b.onDismiss)==null||fe.call(b,b)},className:vi(S==null?void 0:S.closeButton,(i=b==null?void 0:b.classNames)==null?void 0:i.closeButton)},(s=I==null?void 0:I.close)!=null?s:hK):null,b.jsx||M.isValidElement(b.title)?b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title:J.createElement(J.Fragment,null,se||b.icon||b.promise?J.createElement("div",{"data-icon":"",className:vi(S==null?void 0:S.icon,(o=b==null?void 0:b.classNames)==null?void 0:o.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||Be():null,b.type!=="loading"?b.icon||(I==null?void 0:I[se])||oK(se):null):null,J.createElement("div",{"data-content":"",className:vi(S==null?void 0:S.content,(l=b==null?void 0:b.classNames)==null?void 0:l.content)},J.createElement("div",{"data-title":"",className:vi(S==null?void 0:S.title,(f=b==null?void 0:b.classNames)==null?void 0:f.title)},typeof b.title=="function"?b.title():b.title),b.description?J.createElement("div",{"data-description":"",className:vi(x,he,S==null?void 0:S.description,(h=b==null?void 0:b.classNames)==null?void 0:h.description)},typeof b.description=="function"?b.description():b.description):null),M.isValidElement(b.cancel)?b.cancel:b.cancel&&x0(b.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||q,onClick:fe=>{var At,xe;x0(b.cancel)&&ne&&((xe=(At=b.cancel).onClick)==null||xe.call(At,fe),Wr())},className:vi(S==null?void 0:S.cancelButton,(p=b==null?void 0:b.classNames)==null?void 0:p.cancelButton)},b.cancel.label):null,M.isValidElement(b.action)?b.action:b.action&&x0(b.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||V,onClick:fe=>{var At,xe;x0(b.action)&&((xe=(At=b.action).onClick)==null||xe.call(At,fe),!fe.defaultPrevented&&Wr())},className:vi(S==null?void 0:S.actionButton,(v=b==null?void 0:b.classNames)==null?void 0:v.actionButton)},b.action.label):null))};function VM(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function IK(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?EK:SK;function f(h){["top","right","bottom","left"].forEach(p=>{r[`${o}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${o}-${h}`]=l:r[`${o}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):f(l)}),r}var CK=M.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:f,mobileOffset:h,theme:p="light",richColors:v,duration:E,style:b,visibleToasts:k=_K,toastOptions:N,dir:A=VM(),gap:R=MK,loadingIcon:T,icons:C,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:D}=t,[U,L]=J.useState([]),F=J.useMemo(()=>Array.from(new Set([n].concat(U.filter(c=>c.position).map(c=>c.position)))),[U,n]),[W,q]=J.useState([]),[V,K]=J.useState(!1),[x,a]=J.useState(!1),[d,m]=J.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),y=J.useRef(null),g=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=J.useRef(null),I=J.useRef(!1),w=J.useCallback(c=>{L(_=>{var $;return($=_.find(H=>H.id===c.id))!=null&&$.delete||vs.dismiss(c.id),_.filter(({id:H})=>H!==c.id)})},[]);return J.useEffect(()=>vs.subscribe(c=>{if(c.dismiss){L(_=>_.map($=>$.id===c.id?{...$,delete:!0}:$));return}setTimeout(()=>{WT.flushSync(()=>{L(_=>{let $=_.findIndex(H=>H.id===c.id);return $!==-1?[..._.slice(0,$),{..._[$],...c},..._.slice($+1)]:[c,..._]})})})}),[]),J.useEffect(()=>{if(p!=="system"){m(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?m("dark"):m("light")),typeof window>"u")return;let c=window.matchMedia("(prefers-color-scheme: dark)");try{c.addEventListener("change",({matches:_})=>{m(_?"dark":"light")})}catch{c.addListener(({matches:$})=>{try{m($?"dark":"light")}catch(H){console.error(H)}})}},[p]),J.useEffect(()=>{U.length<=1&&K(!1)},[U]),J.useEffect(()=>{let c=_=>{var $,H;i.every(G=>_[G]||_.code===G)&&(K(!0),($=y.current)==null||$.focus()),_.code==="Escape"&&(document.activeElement===y.current||(H=y.current)!=null&&H.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[i]),J.useEffect(()=>{if(y.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,I.current=!1)}},[y.current]),J.createElement("section",{ref:e,"aria-label":`${j} ${g}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((c,_)=>{var $;let[H,G]=c.split("-");return U.length?J.createElement("ol",{key:c,dir:A==="auto"?VM():A,tabIndex:-1,ref:y,className:l,"data-sonner-toaster":!0,"data-theme":d,"data-y-position":H,"data-lifted":V&&U.length>1&&!s,"data-x-position":G,style:{"--front-toast-height":`${(($=W[0])==null?void 0:$.height)||0}px`,"--width":`${NK}px`,"--gap":`${R}px`,...b,...IK(f,h)},onBlur:re=>{I.current&&!re.currentTarget.contains(re.relatedTarget)&&(I.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||I.current||(I.current=!0,S.current=re.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{x||K(!1)},onDragEnd:()=>K(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||a(!0)},onPointerUp:()=>a(!1)},U.filter(re=>!re.position&&_===0||re.position===c).map((re,ie)=>{var le,nt;return J.createElement(TK,{key:re.id,icons:C,index:ie,toast:re,defaultRichColors:v,duration:(le=N==null?void 0:N.duration)!=null?le:E,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:r,visibleToasts:k,closeButton:(nt=N==null?void 0:N.closeButton)!=null?nt:o,interacting:x,position:c,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,removeToast:w,toasts:U.filter(ue=>ue.position==re.position),heights:W.filter(ue=>ue.position==re.position),setHeights:q,expandByDefault:s,gap:R,loadingIcon:T,expanded:V,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const qO=M.createContext({program:null,connection:null,walletAddress:null,isConnected:!1,connectWallet:async()=>!1,disconnectWallet:()=>{},isLoading:!0}),jK=({children:t})=>{const[e,r]=M.useState(null),[n,i]=M.useState(null),[s,o]=M.useState(null),[l,f]=M.useState(!1),[h,p]=M.useState(!0);M.useEffect(()=>{(async()=>{try{let N="https://api.devnet.solana.com";N?!/^https?:\/\//i.test(N)&&N!=="devnet"&&N!=="testnet"&&N!=="mainnet-beta"?(N=`http://${N}`,console.log("Adding http:// prefix to endpoint:",N)):(N==="devnet"||N==="testnet"||N==="mainnet-beta")&&(N=mx(N),console.log(`Using Solana ${N} network`)):(N=mx("devnet"),console.log("FORCING CONNECTION TO SOLANA DEVNET")),console.log("Connecting to Solana at:",N);const A=new hS(N,"confirmed");i(A);const R=sessionStorage.getItem("walletAddress");if(R){console.log("Found previously connected wallet:",R),o(R);try{await v(R,A)}catch(T){console.error("Error initializing with saved wallet address:",T),sessionStorage.removeItem("walletAddress"),o(null)}}}catch(N){console.error("Error initializing connection:",N),lt.error("Failed to connect to Solana network")}finally{p(!1)}})()},[]);const v=async(k,N)=>{try{console.log("Initializing Anchor program with address:",k),console.log("Connection endpoint:",N.rpcEndpoint),console.log("Is connection to Devnet:",N.rpcEndpoint.includes("devnet"));const A=new me(k),R=tK(A),T=XH(N,R);console.log("Creating Anchor program with program ID:",bC.toString()),console.log("Using IDL:",JSON.stringify(xC).substring(0,100)+"...");const C=eK(T);if(!C)throw new Error("Failed to create Anchor program - program is null");console.log("Program successfully initialized:",C.programId.toString()),r(C),f(!0)}catch(A){console.error("Failed to initialize Anchor program:",A),lt.error("Failed to initialize program: "+(A instanceof Error?A.message:"Unknown error")),f(!1),r(null)}},E=async()=>{var k;try{if(!n)throw new Error("No connection available");if(typeof window>"u"||!((k=window.phantom)!=null&&k.solana))throw new Error("Phantom wallet not installed");console.log("Connecting to Phantom wallet...");const{publicKey:N}=await window.phantom.solana.connect();if(!N)throw new Error("Failed to get public key from wallet");const A=N.toString();return console.log("Wallet connected with address:",A),o(A),sessionStorage.setItem("walletAddress",A),await v(A,n),lt.success("Wallet connected successfully"),!0}catch(N){console.error("Error connecting wallet:",N);const A=OS(N);return lt.error(A),!1}},b=async()=>{var k;try{(k=window.phantom)!=null&&k.solana&&await window.phantom.solana.disconnect(),o(null),r(null),f(!1),sessionStorage.removeItem("walletAddress"),lt.success("Wallet disconnected")}catch(N){console.error("Error disconnecting wallet:",N),lt.error("Failed to disconnect wallet")}};return u.jsx(qO.Provider,{value:{program:e,connection:n,walletAddress:s,isConnected:l,connectWallet:E,disconnectWallet:b,isLoading:h},children:t})},GO=M.createContext({});function PS(){return M.useContext(GO)}const OK=({children:t,endpoint:e,config:r={commitment:"confirmed"}})=>{const n=M.useMemo(()=>new hS(e,r),[e,r]);return J.createElement(GO.Provider,{value:{connection:n}},t)};class HM extends tn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const PK=[],Ry={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){bi("call","select")},connect(){return Promise.reject(bi("call","connect"))},disconnect(){return Promise.reject(bi("call","disconnect"))},sendTransaction(){return Promise.reject(bi("call","sendTransaction"))},signTransaction(){return Promise.reject(bi("call","signTransaction"))},signAllTransactions(){return Promise.reject(bi("call","signAllTransactions"))},signMessage(){return Promise.reject(bi("call","signMessage"))},signIn(){return Promise.reject(bi("call","signIn"))}};Object.defineProperty(Ry,"wallets",{get(){return bi("read","wallets"),PK}});Object.defineProperty(Ry,"wallet",{get(){return bi("read","wallet"),null}});Object.defineProperty(Ry,"publicKey",{get(){return bi("read","publicKey"),null}});function bi(t,e){const r=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(r),r}const ZO=M.createContext(Ry);function ef(){return M.useContext(ZO)}function LK(t,e){const r=M.useState(()=>{try{const s=localStorage.getItem(t);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return e}),n=r[0],i=M.useRef(!0);return M.useEffect(()=>{if(i.current){i.current=!1;return}try{n===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n))}catch(s){typeof window<"u"&&console.error(s)}},[n,t]),r}var DK=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},YO={},Gs={};let LS;const BK=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Gs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Gs.getSymbolTotalCodewords=function(e){return BK[e]};Gs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Gs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');LS=e};Gs.isKanjiModeEnabled=function(){return typeof LS<"u"};Gs.toSJIS=function(e){return LS(e)};var ky={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(ky);function QO(){this.buffer=[],this.length=0}QO.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var UK=QO;function Ep(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Ep.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};Ep.prototype.get=function(t,e){return this.data[t*this.size+e]};Ep.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Ep.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var zK=Ep,JO={};(function(t){const e=Gs.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let f=1;f<i-1;f++)l[f]=l[f-1]-o;return l.push(6),l.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let l=0;l<o;l++)for(let f=0;f<o;f++)l===0&&f===0||l===0&&f===o-1||l===o-1&&f===0||i.push([s[l],s[f]]);return i}})(JO);var XO={};const FK=Gs.getSymbolSize,KM=7;XO.getPositions=function(e){const r=FK(e);return[[0,0],[r-KM,0],[0,r-KM]]};var e4={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,l=0,f=0,h=null,p=null;for(let v=0;v<s;v++){l=f=0,h=p=null;for(let E=0;E<s;E++){let b=i.get(v,E);b===h?l++:(l>=5&&(o+=e.N1+(l-5)),h=b,l=1),b=i.get(E,v),b===p?f++:(f>=5&&(o+=e.N1+(f-5)),p=b,f=1)}l>=5&&(o+=e.N1+(l-5)),f>=5&&(o+=e.N1+(f-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let l=0;l<s-1;l++)for(let f=0;f<s-1;f++){const h=i.get(l,f)+i.get(l,f+1)+i.get(l+1,f)+i.get(l+1,f+1);(h===4||h===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,l=0,f=0;for(let h=0;h<s;h++){l=f=0;for(let p=0;p<s;p++)l=l<<1&2047|i.get(h,p),p>=10&&(l===1488||l===93)&&o++,f=f<<1&2047|i.get(p,h),p>=10&&(f===1488||f===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let f=0;f<o;f++)s+=i.data[f];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let l=0;l<o;l++)for(let f=0;f<o;f++)s.isReserved(f,l)||s.xor(f,l,r(i,f,l))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let l=0,f=1/0;for(let h=0;h<o;h++){s(h),t.applyMask(h,i);const p=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(h,i),p<f&&(f=p,l=h)}return l}})(e4);var Ty={};const Za=ky,b0=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],_0=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ty.getBlocksCount=function(e,r){switch(r){case Za.L:return b0[(e-1)*4+0];case Za.M:return b0[(e-1)*4+1];case Za.Q:return b0[(e-1)*4+2];case Za.H:return b0[(e-1)*4+3];default:return}};Ty.getTotalCodewordsCount=function(e,r){switch(r){case Za.L:return _0[(e-1)*4+0];case Za.M:return _0[(e-1)*4+1];case Za.Q:return _0[(e-1)*4+2];case Za.H:return _0[(e-1)*4+3];default:return}};var t4={},Iy={};const rh=new Uint8Array(512),og=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)rh[r]=e,og[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)rh[r]=rh[r-255]})();Iy.log=function(e){if(e<1)throw new Error("log("+e+")");return og[e]};Iy.exp=function(e){return rh[e]};Iy.mul=function(e,r){return e===0||r===0?0:rh[og[e]+og[r]]};(function(t){const e=Iy;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<i.length;l++)s[o+l]^=e.mul(n[o],i[l]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let f=0;f<i.length;f++)s[f]^=e.mul(i[f],o);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(t4);const r4=t4;function DS(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}DS.prototype.initialize=function(e){this.degree=e,this.genPoly=r4.generateECPolynomial(this.degree)};DS.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=r4.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var WK=DS,n4={},jl={},BS={};BS.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Eo={};const s4="[0-9]+",$K="[A-Z $%*+\\-./:]+";let Ph="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ph=Ph.replace(/u/g,"\\u");const VK="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ph+`)(?:.|[\r
]))+`;Eo.KANJI=new RegExp(Ph,"g");Eo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Eo.BYTE=new RegExp(VK,"g");Eo.NUMERIC=new RegExp(s4,"g");Eo.ALPHANUMERIC=new RegExp($K,"g");const HK=new RegExp("^"+Ph+"$"),KK=new RegExp("^"+s4+"$"),qK=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Eo.testKanji=function(e){return HK.test(e)};Eo.testNumeric=function(e){return KK.test(e)};Eo.testAlphanumeric=function(e){return qK.test(e)};(function(t){const e=BS,r=Eo;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(jl);(function(t){const e=Gs,r=Ty,n=ky,i=jl,s=BS,o=7973,l=e.getBCHDigit(o);function f(E,b,k){for(let N=1;N<=40;N++)if(b<=t.getCapacity(N,k,E))return N}function h(E,b){return i.getCharCountIndicator(E,b)+4}function p(E,b){let k=0;return E.forEach(function(N){const A=h(N.mode,b);k+=A+N.getBitsLength()}),k}function v(E,b){for(let k=1;k<=40;k++)if(p(E,k)<=t.getCapacity(k,b,i.MIXED))return k}t.from=function(b,k){return s.isValid(b)?parseInt(b,10):k},t.getCapacity=function(b,k,N){if(!s.isValid(b))throw new Error("Invalid QR Code version");typeof N>"u"&&(N=i.BYTE);const A=e.getSymbolTotalCodewords(b),R=r.getTotalCodewordsCount(b,k),T=(A-R)*8;if(N===i.MIXED)return T;const C=T-h(N,b);switch(N){case i.NUMERIC:return Math.floor(C/10*3);case i.ALPHANUMERIC:return Math.floor(C/11*2);case i.KANJI:return Math.floor(C/13);case i.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(b,k){let N;const A=n.from(k,n.M);if(Array.isArray(b)){if(b.length>1)return v(b,A);if(b.length===0)return 1;N=b[0]}else N=b;return f(N.mode,N.getLength(),A)},t.getEncodedBits=function(b){if(!s.isValid(b)||b<7)throw new Error("Invalid QR Code version");let k=b<<12;for(;e.getBCHDigit(k)-l>=0;)k^=o<<e.getBCHDigit(k)-l;return b<<12|k}})(n4);var i4={};const Rx=Gs,o4=1335,GK=21522,qM=Rx.getBCHDigit(o4);i4.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;Rx.getBCHDigit(i)-qM>=0;)i^=o4<<Rx.getBCHDigit(i)-qM;return(n<<10|i)^GK};var a4={};const ZK=jl;function kd(t){this.mode=ZK.NUMERIC,this.data=t.toString()}kd.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};kd.prototype.getLength=function(){return this.data.length};kd.prototype.getBitsLength=function(){return kd.getBitsLength(this.data.length)};kd.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var YK=kd;const QK=jl,Sw=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Td(t){this.mode=QK.ALPHANUMERIC,this.data=t}Td.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Td.prototype.getLength=function(){return this.data.length};Td.prototype.getBitsLength=function(){return Td.getBitsLength(this.data.length)};Td.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Sw.indexOf(this.data[r])*45;n+=Sw.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Sw.indexOf(this.data[r]),6)};var JK=Td;const XK=jl;function Id(t){this.mode=XK.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Id.getBitsLength=function(e){return e*8};Id.prototype.getLength=function(){return this.data.length};Id.prototype.getBitsLength=function(){return Id.getBitsLength(this.data.length)};Id.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var eq=Id;const tq=jl,rq=Gs;function Cd(t){this.mode=tq.KANJI,this.data=t}Cd.getBitsLength=function(e){return e*13};Cd.prototype.getLength=function(){return this.data.length};Cd.prototype.getBitsLength=function(){return Cd.getBitsLength(this.data.length)};Cd.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=rq.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var nq=Cd,l4={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var f,h,p,v,E,b,k,N,A;!l.empty();){f=l.pop(),h=f.value,v=f.cost,E=r[h]||{};for(p in E)E.hasOwnProperty(p)&&(b=E[p],k=v+b,N=o[p],A=typeof o[p]>"u",(A||N>k)&&(o[p]=k,l.push(p,k),s[p]=h))}if(typeof i<"u"&&typeof o[i]>"u"){var R=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(R)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(l4);var sq=l4.exports;(function(t){const e=jl,r=YK,n=JK,i=eq,s=nq,o=Eo,l=Gs,f=sq;function h(R){return unescape(encodeURIComponent(R)).length}function p(R,T,C){const j=[];let D;for(;(D=R.exec(C))!==null;)j.push({data:D[0],index:D.index,mode:T,length:D[0].length});return j}function v(R){const T=p(o.NUMERIC,e.NUMERIC,R),C=p(o.ALPHANUMERIC,e.ALPHANUMERIC,R);let j,D;return l.isKanjiModeEnabled()?(j=p(o.BYTE,e.BYTE,R),D=p(o.KANJI,e.KANJI,R)):(j=p(o.BYTE_KANJI,e.BYTE,R),D=[]),T.concat(C,j,D).sort(function(L,F){return L.index-F.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function E(R,T){switch(T){case e.NUMERIC:return r.getBitsLength(R);case e.ALPHANUMERIC:return n.getBitsLength(R);case e.KANJI:return s.getBitsLength(R);case e.BYTE:return i.getBitsLength(R)}}function b(R){return R.reduce(function(T,C){const j=T.length-1>=0?T[T.length-1]:null;return j&&j.mode===C.mode?(T[T.length-1].data+=C.data,T):(T.push(C),T)},[])}function k(R){const T=[];for(let C=0;C<R.length;C++){const j=R[C];switch(j.mode){case e.NUMERIC:T.push([j,{data:j.data,mode:e.ALPHANUMERIC,length:j.length},{data:j.data,mode:e.BYTE,length:j.length}]);break;case e.ALPHANUMERIC:T.push([j,{data:j.data,mode:e.BYTE,length:j.length}]);break;case e.KANJI:T.push([j,{data:j.data,mode:e.BYTE,length:h(j.data)}]);break;case e.BYTE:T.push([{data:j.data,mode:e.BYTE,length:h(j.data)}])}}return T}function N(R,T){const C={},j={start:{}};let D=["start"];for(let U=0;U<R.length;U++){const L=R[U],F=[];for(let W=0;W<L.length;W++){const q=L[W],V=""+U+W;F.push(V),C[V]={node:q,lastCount:0},j[V]={};for(let K=0;K<D.length;K++){const x=D[K];C[x]&&C[x].node.mode===q.mode?(j[x][V]=E(C[x].lastCount+q.length,q.mode)-E(C[x].lastCount,q.mode),C[x].lastCount+=q.length):(C[x]&&(C[x].lastCount=q.length),j[x][V]=E(q.length,q.mode)+4+e.getCharCountIndicator(q.mode,T))}}D=F}for(let U=0;U<D.length;U++)j[D[U]].end=0;return{map:j,table:C}}function A(R,T){let C;const j=e.getBestModeForData(R);if(C=e.from(T,j),C!==e.BYTE&&C.bit<j.bit)throw new Error('"'+R+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(j));switch(C===e.KANJI&&!l.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new r(R);case e.ALPHANUMERIC:return new n(R);case e.KANJI:return new s(R);case e.BYTE:return new i(R)}}t.fromArray=function(T){return T.reduce(function(C,j){return typeof j=="string"?C.push(A(j,null)):j.data&&C.push(A(j.data,j.mode)),C},[])},t.fromString=function(T,C){const j=v(T,l.isKanjiModeEnabled()),D=k(j),U=N(D,C),L=f.find_path(U.map,"start","end"),F=[];for(let W=1;W<L.length-1;W++)F.push(U.table[L[W]].node);return t.fromArray(b(F))},t.rawSplit=function(T){return t.fromArray(v(T,l.isKanjiModeEnabled()))}})(a4);const Cy=Gs,Ew=ky,iq=UK,oq=zK,aq=JO,lq=XO,kx=e4,Tx=Ty,cq=WK,ag=n4,uq=i4,dq=jl,Nw=a4;function fq(t,e){const r=t.size,n=lq.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let l=-1;l<=7;l++)if(!(s+l<=-1||r<=s+l))for(let f=-1;f<=7;f++)o+f<=-1||r<=o+f||(l>=0&&l<=6&&(f===0||f===6)||f>=0&&f<=6&&(l===0||l===6)||l>=2&&l<=4&&f>=2&&f<=4?t.set(s+l,o+f,!0,!0):t.set(s+l,o+f,!1,!0))}}function hq(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function pq(t,e){const r=aq.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(i+o,s+l,!0,!0):t.set(i+o,s+l,!1,!0)}}function mq(t,e){const r=t.size,n=ag.getEncodedBits(e);let i,s,o;for(let l=0;l<18;l++)i=Math.floor(l/3),s=l%3+r-8-3,o=(n>>l&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Mw(t,e,r){const n=t.size,i=uq.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function gq(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let f=0;f<2;f++)if(!t.isReserved(i,l-f)){let h=!1;o<e.length&&(h=(e[o]>>>s&1)===1),t.set(i,l-f,h),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function yq(t,e,r){const n=new iq;r.forEach(function(f){n.put(f.mode.bit,4),n.put(f.getLength(),dq.getCharCountIndicator(f.mode,t)),f.write(n)});const i=Cy.getSymbolTotalCodewords(t),s=Tx.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let f=0;f<l;f++)n.put(f%2?17:236,8);return vq(n,t,e)}function vq(t,e,r){const n=Cy.getSymbolTotalCodewords(e),i=Tx.getTotalCodewordsCount(e,r),s=n-i,o=Tx.getBlocksCount(e,r),l=n%o,f=o-l,h=Math.floor(n/o),p=Math.floor(s/o),v=p+1,E=h-p,b=new cq(E);let k=0;const N=new Array(o),A=new Array(o);let R=0;const T=new Uint8Array(t.buffer);for(let L=0;L<o;L++){const F=L<f?p:v;N[L]=T.slice(k,k+F),A[L]=b.encode(N[L]),k+=F,R=Math.max(R,F)}const C=new Uint8Array(n);let j=0,D,U;for(D=0;D<R;D++)for(U=0;U<o;U++)D<N[U].length&&(C[j++]=N[U][D]);for(D=0;D<E;D++)for(U=0;U<o;U++)C[j++]=A[U][D];return C}function wq(t,e,r,n){let i;if(Array.isArray(t))i=Nw.fromArray(t);else if(typeof t=="string"){let h=e;if(!h){const p=Nw.rawSplit(t);h=ag.getBestVersionForData(p,r)}i=Nw.fromString(t,h||40)}else throw new Error("Invalid data");const s=ag.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=yq(e,r,i),l=Cy.getSymbolSize(e),f=new oq(l);return fq(f,e),hq(f),pq(f,e),Mw(f,r,0),e>=7&&mq(f,e),gq(f,o),isNaN(n)&&(n=kx.getBestMask(f,Mw.bind(null,f,r))),kx.applyMask(n,f),Mw(f,r,n),{modules:f,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}YO.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Ew.M,i,s;return typeof r<"u"&&(n=Ew.from(r.errorCorrectionLevel,Ew.M),i=ag.from(r.version),s=kx.from(r.maskPattern),r.toSJISFunc&&Cy.setToSJISFunction(r.toSJISFunc)),wq(e,i,n,s)};var c4={},US={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,l=i.modules.data,f=t.getScale(o,s),h=Math.floor((o+s.margin*2)*f),p=s.margin*f,v=[s.color.light,s.color.dark];for(let E=0;E<h;E++)for(let b=0;b<h;b++){let k=(E*h+b)*4,N=s.color.light;if(E>=p&&b>=p&&E<h-p&&b<h-p){const A=Math.floor((E-p)/f),R=Math.floor((b-p)/f);N=v[l[A*o+R]?1:0]}n[k++]=N.r,n[k++]=N.g,n[k++]=N.b,n[k]=N.a}}})(US);(function(t){const e=US;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,l){let f=l,h=o;typeof f>"u"&&(!o||!o.getContext)&&(f=o,o=void 0),o||(h=n()),f=e.getOptions(f);const p=e.getImageWidth(s.modules.size,f),v=h.getContext("2d"),E=v.createImageData(p,p);return e.qrToImageData(E.data,s,f),r(v,h,p),v.putImageData(E,0,0),h},t.renderToDataURL=function(s,o,l){let f=l;typeof f>"u"&&(!o||!o.getContext)&&(f=o,o=void 0),f||(f={});const h=t.render(s,o,f),p=f.type||"image/png",v=f.rendererOpts||{};return h.toDataURL(p,v.quality)}})(c4);var u4={};const xq=US;function GM(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Aw(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function bq(t,e,r){let n="",i=0,s=!1,o=0;for(let l=0;l<t.length;l++){const f=Math.floor(l%e),h=Math.floor(l/e);!f&&!s&&(s=!0),t[l]?(o++,l>0&&f>0&&t[l-1]||(n+=s?Aw("M",f+r,.5+h+r):Aw("m",i,0),i=0,s=!1),f+1<e&&t[l+1]||(n+=Aw("h",o),o=0)):i++}return n}u4.render=function(e,r,n){const i=xq.getOptions(r),s=e.modules.size,o=e.modules.data,l=s+i.margin*2,f=i.color.light.a?"<path "+GM(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+GM(i.color.dark,"stroke")+' d="'+bq(o,s,i.margin)+'"/>',p='viewBox="0 0 '+l+" "+l+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+p+' shape-rendering="crispEdges">'+f+h+`</svg>
`;return typeof n=="function"&&n(null,E),E};const _q=DK,Ix=YO,d4=c4,Sq=u4;function zS(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,l=typeof s[o-1]=="function";if(!l&&!_q())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(f,h){try{const p=Ix.create(r,n);f(t(p,e,n))}catch(p){h(p)}})}try{const f=Ix.create(r,n);i(null,t(f,e,n))}catch(f){i(f)}}Ix.create;zS.bind(null,d4.render);zS.bind(null,d4.renderToDataURL);zS.bind(null,function(t,e,r){return Sq.render(t,r)});const Lh="solana:mainnet",f4="solana:devnet",h4="solana:testnet",Eq="solana:localnet";function Rw(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Nq="https://api.mainnet-beta.solana.com";function Mq(t){return t.includes(Nq)?Lh:/\bdevnet\b/i.test(t)?f4:/\btestnet\b/i.test(t)?h4:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Eq:Lh}function Aq(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const r=[];if(t.uri&&r.push(`URI: ${t.uri}`),t.version&&r.push(`Version: ${t.version}`),t.chainId&&r.push(`Chain ID: ${t.chainId}`),t.nonce&&r.push(`Nonce: ${t.nonce}`),t.issuedAt&&r.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&r.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&r.push(`Not Before: ${t.notBefore}`),t.requestId&&r.push(`Request ID: ${t.requestId}`),t.resources){r.push("Resources:");for(const n of t.resources)r.push(`- ${n}`)}return r.length&&(e+=`

${r.join(`
`)}`),e}const ca={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class ua extends Error{constructor(...e){const[r,n,i]=e;super(n),this.code=r,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class p4 extends Error{constructor(...e){const[r,n,i,s]=e;super(i),this.code=n,this.data=s,this.jsonRpcMessageId=r,this.name="SolanaMobileWalletAdapterProtocolError"}}function Kr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(p){try{h(n.next(p))}catch(v){o(v)}}function f(p){try{h(n.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,f)}h((n=n.apply(t,[])).next())})}function Rq(t){return window.btoa(t)}function kw(t,e){return Kr(this,void 0,void 0,function*(){const r=yield crypto.subtle.exportKey("raw",t),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,r),i=new Uint8Array(r.byteLength+n.byteLength);return i.set(new Uint8Array(r),0),i.set(new Uint8Array(n),r.byteLength),i})}function kq(t){return Aq(t)}function Tq(t){return Rq(kq(t))}const Iq="solana:signTransactions",ZM="solana:cloneAuthorization";function Cq(t,e){return new Proxy({},{get(r,n){return n==="then"?null:(r[n]==null&&(r[n]=function(i){return Kr(this,void 0,void 0,function*(){const{method:s,params:o}=jq(n,i,t),l=yield e(s,o);return s==="authorize"&&o.sign_in_payload&&!l.sign_in_result&&(l.sign_in_result=yield Pq(o.sign_in_payload,l,e)),Oq(n,l,t)})}),r[n])},defineProperty(){return!1},deleteProperty(){return!1}})}function jq(t,e,r){let n=e,i=t.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:s}=n;if(r==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=n.cluster}n.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}n.chain=s}}case"reauthorize":{const{auth_token:s,identity:o}=n;if(s)switch(r){case"legacy":{i="reauthorize",n={auth_token:s,identity:o};break}default:{i="authorize";break}}break}}return{method:i,params:n}}function Oq(t,e,r){switch(t){case"getCapabilities":{const n=e;switch(r){case"legacy":{const i=[Iq];return n.supports_clone_authorization===!0&&i.push(ZM),Object.assign(Object.assign({},n),{features:i})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(ZM)})}}}return e}function Pq(t,e,r){var n;return Kr(this,void 0,void 0,function*(){const i=(n=t.domain)!==null&&n!==void 0?n:window.location.host,s=e.accounts[0].address,o=Tq(Object.assign(Object.assign({},t),{domain:i,address:s})),l=yield r("sign_messages",{addresses:[s],payloads:[o]});return{address:s,signed_message:o,signature:l.signed_payloads[0].slice(o.length)}})}const oc=4;function Lq(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(oc);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const Cx=12,m4=65;function Dq(t,e,r){return Kr(this,void 0,void 0,function*(){const n=Lq(e),i=new Uint8Array(Cx);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(y4(n,i),r,new TextEncoder().encode(t)),o=new Uint8Array(n.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(i),n.byteLength),o.set(new Uint8Array(s),n.byteLength+i.byteLength),o})}function g4(t,e){return Kr(this,void 0,void 0,function*(){const r=t.slice(0,oc),n=t.slice(oc,oc+Cx),i=t.slice(oc+Cx),s=yield crypto.subtle.decrypt(y4(r,n),e,i);return Bq().decode(s)})}function y4(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let Tw;function Bq(){return Tw===void 0&&(Tw=new TextDecoder("utf-8")),Tw}function Uq(){return Kr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Iw(){return Kr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function zq(t){let e="";const r=new Uint8Array(t),n=r.byteLength;for(let i=0;i<n;i++)e+=String.fromCharCode(r[i]);return window.btoa(e)}function Fq(){return v4(49152+Math.floor(Math.random()*16384))}function v4(t){if(t<49152||t>65535)throw new ua(ca.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function Wq(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const $q="solana-wallet";function YM(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Vq(t,e){let r=null;if(e){try{r=new URL(e)}catch{}if((r==null?void 0:r.protocol)!=="https:")throw new ua(ca.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}r||(r=new URL(`${$q}:/`));const n=t.startsWith("/")?t:[...YM(r.pathname),...YM(t)].join("/");return new URL(n,r)}function Hq(t,e,r,n=["v1"]){return Kr(this,void 0,void 0,function*(){const i=v4(e),s=yield crypto.subtle.exportKey("raw",t),o=zq(s),l=Vq("v1/associate/local",r);return l.searchParams.set("association",Wq(o)),l.searchParams.set("port",`${i}`),n.forEach(f=>{l.searchParams.set("v",f)}),l})}function Kq(t,e){return Kr(this,void 0,void 0,function*(){const r=JSON.stringify(t),n=t.id;return Dq(r,n,e)})}function qq(t,e){return Kr(this,void 0,void 0,function*(){const r=yield g4(t,e),n=JSON.parse(r);if(Object.hasOwnProperty.call(n,"error"))throw new p4(n.id,n.error.code,n.error.message);return n})}function Gq(t,e,r){return Kr(this,void 0,void 0,function*(){const[n,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,m4),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},r,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Zq(t,e){return Kr(this,void 0,void 0,function*(){const r=yield g4(t,e),n=JSON.parse(r);let i="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new ua(ca.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:i}})}const lg={Firefox:0,Other:1};function Yq(){return navigator.userAgent.indexOf("Firefox/")!==-1?lg.Firefox:lg.Other}function Qq(){return new Promise((t,e)=>{function r(){clearTimeout(i),window.removeEventListener("blur",n)}function n(){r(),t()}window.addEventListener("blur",n);const i=setTimeout(()=>{r(),e()},3e3)})}let _f=null;function Jq(t){_f==null&&(_f=document.createElement("iframe"),_f.style.display="none",document.body.appendChild(_f)),_f.contentWindow.location.href=t.toString()}function Xq(t){return Kr(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=Yq();switch(e){case lg.Firefox:Jq(t);break;case lg.Other:{const r=Qq();window.location.assign(t),yield r;break}default:}}catch{throw new ua(ca.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function eG(t,e){return Kr(this,void 0,void 0,function*(){const r=Fq(),n=yield Hq(t,r,e);return yield Xq(n),r})}const QM={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},tG="com.solana.mobilewalletadapter.v1";function rG(){if(typeof window>"u"||window.isSecureContext!==!0)throw new ua(ca.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function nG(t){let e;try{e=new URL(t)}catch{throw new ua(ca.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new ua(ca.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function JM(t){return new DataView(t).getUint32(0,!1)}function sG(t,e){return Kr(this,void 0,void 0,function*(){rG();const r=yield Uq(),i=`ws://localhost:${yield eG(r.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let s;const o=(()=>{const p=[...QM.retryDelayScheduleMs];return()=>p.length>1?p.shift():p[0]})();let l=1,f=0,h={__type:"disconnected"};return new Promise((p,v)=>{let E;const b={},k=()=>Kr(this,void 0,void 0,function*(){if(h.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${h.__type}\`.`);return}E.removeEventListener("open",k);const{associationKeypair:D}=h,U=yield Iw();E.send(yield kw(U.publicKey,D.privateKey)),h={__type:"hello_req_sent",associationPublicKey:D.publicKey,ecdhPrivateKey:U.privateKey}}),N=D=>{D.wasClean?h={__type:"disconnected"}:v(new ua(ca.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${D.code}: ${D.reason}).`,{closeEvent:D})),T()},A=D=>Kr(this,void 0,void 0,function*(){T(),Date.now()-s>=QM.timeoutMs?v(new ua(ca.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(U=>{const L=o();C=window.setTimeout(U,L)}),j())}),R=D=>Kr(this,void 0,void 0,function*(){const U=yield D.data.arrayBuffer();switch(h.__type){case"connecting":if(U.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const L=yield Iw();E.send(yield kw(L.publicKey,r.privateKey)),h={__type:"hello_req_sent",associationPublicKey:r.publicKey,ecdhPrivateKey:L.privateKey};break;case"connected":try{const F=U.slice(0,oc),W=JM(F);if(W!==f+1)throw new Error("Encrypted message has invalid sequence number");f=W;const q=yield qq(U,h.sharedSecret),V=b[q.id];delete b[q.id],V.resolve(q.result)}catch(F){if(F instanceof p4){const W=b[F.jsonRpcMessageId];delete b[F.jsonRpcMessageId],W.reject(F)}else throw F}break;case"hello_req_sent":{if(U.byteLength===0){const K=yield Iw();E.send(yield kw(K.publicKey,r.privateKey)),h={__type:"hello_req_sent",associationPublicKey:r.publicKey,ecdhPrivateKey:K.privateKey};break}const F=yield Gq(U,h.associationPublicKey,h.ecdhPrivateKey),W=U.slice(m4),q=W.byteLength!==0?yield Kr(this,void 0,void 0,function*(){const K=W.slice(0,oc),x=JM(K);if(x!==f+1)throw new Error("Encrypted message has invalid sequence number");return f=x,Zq(W,F)}):{protocol_version:"legacy"};h={__type:"connected",sharedSecret:F,sessionProperties:q};const V=Cq(q.protocol_version,(K,x)=>Kr(this,void 0,void 0,function*(){const a=l++;return E.send(yield Kq({id:a,jsonrpc:"2.0",method:K,params:x??{}},F)),new Promise((d,m)=>{b[a]={resolve(y){switch(K){case"authorize":case"reauthorize":{const{wallet_uri_base:g}=y;if(g!=null)try{nG(g)}catch(S){m(S);return}break}}d(y)},reject:m}})}));try{p(yield t(V))}catch(K){v(K)}finally{T(),E.close()}break}}});let T,C;const j=()=>{T&&T(),h={__type:"connecting",associationKeypair:r},s===void 0&&(s=Date.now()),E=new WebSocket(i,[tG]),E.addEventListener("open",k),E.addEventListener("close",N),E.addEventListener("error",A),E.addEventListener("message",R),T=()=>{window.clearTimeout(C),E.removeEventListener("open",k),E.removeEventListener("close",N),E.removeEventListener("error",A),E.removeEventListener("message",R)}};j()})})}function iG(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,l=t.charAt(0),f=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var k=0,N=0,A=0,R=b.length;A!==R&&b[A]===0;)A++,k++;for(var T=(R-A)*h+1>>>0,C=new Uint8Array(T);A!==R;){for(var j=b[A],D=0,U=T-1;(j!==0||D<N)&&U!==-1;U--,D++)j+=256*C[U]>>>0,C[U]=j%o>>>0,j=j/o>>>0;if(j!==0)throw new Error("Non-zero carry");N=D,A++}for(var L=T-N;L!==T&&C[L]===0;)L++;for(var F=l.repeat(k);L<T;++L)F+=t.charAt(C[L]);return F}function v(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var k=0,N=0,A=0;b[k]===l;)N++,k++;for(var R=(b.length-k)*f+1>>>0,T=new Uint8Array(R);b[k];){var C=b.charCodeAt(k);if(C>255)return;var j=e[C];if(j===255)return;for(var D=0,U=R-1;(j!==0||D<A)&&U!==-1;U--,D++)j+=o*T[U]>>>0,T[U]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");A=D,k++}for(var L=R-A;L!==R&&T[L]===0;)L++;for(var F=new Uint8Array(N+(R-L)),W=N;L!==R;)F[W++]=T[L++];return F}function E(b){var k=v(b);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:v,decode:E}}var oG=iG;const aG=oG,lG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var cG=aG(lG);const uG=fi(cG);function Cw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function G0(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(p){try{h(n.next(p))}catch(v){o(v)}}function f(p){try{h(n.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,f)}h((n=n.apply(t,[])).next())})}function w4(t){return window.btoa(String.fromCharCode.call(null,...t))}function jw(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function XM(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return w4(e)}function dG(t){const r=t[0]*Sd+1;return vp.deserializeMessageVersion(t.slice(r,t.length))==="legacy"?jt.from(t):aa.deserialize(t)}function fG(t,e){return G0(this,void 0,void 0,function*(){return yield sG(n=>t(hG(n)),e)})}function hG(t){return new Proxy({},{get(e,r){if(e[r]==null)switch(r){case"signAndSendTransactions":e[r]=function(n){var{minContextSlot:i,commitment:s,skipPreflight:o,maxRetries:l,waitForCommitmentToSendNextTransaction:f,transactions:h}=n,p=Cw(n,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return G0(this,void 0,void 0,function*(){const v=h.map(XM),E={min_context_slot:i,commitment:s,skip_preflight:o,max_retries:l,wait_for_commitment_to_send_next_transaction:f},{signatures:b}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},p),Object.values(E).some(N=>N!=null)?{options:E}:null),{payloads:v}));return b.map(jw).map(uG.encode)})};break;case"signMessages":e[r]=function(n){var{payloads:i}=n,s=Cw(n,["payloads"]);return G0(this,void 0,void 0,function*(){const o=i.map(w4),{signed_payloads:l}=yield t.signMessages(Object.assign(Object.assign({},s),{payloads:o}));return l.map(jw)})};break;case"signTransactions":e[r]=function(n){var{transactions:i}=n,s=Cw(n,["transactions"]);return G0(this,void 0,void 0,function*(){const o=i.map(XM),{signed_payloads:l}=yield t.signTransactions(Object.assign(Object.assign({},s),{payloads:o}));return l.map(jw).map(dG)})};break;default:{e[r]=t[r];break}}return e[r]},defineProperty(){return!1},deleteProperty(){return!1}})}function pG(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,l=t.charAt(0),f=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var k=0,N=0,A=0,R=b.length;A!==R&&b[A]===0;)A++,k++;for(var T=(R-A)*h+1>>>0,C=new Uint8Array(T);A!==R;){for(var j=b[A],D=0,U=T-1;(j!==0||D<N)&&U!==-1;U--,D++)j+=256*C[U]>>>0,C[U]=j%o>>>0,j=j/o>>>0;if(j!==0)throw new Error("Non-zero carry");N=D,A++}for(var L=T-N;L!==T&&C[L]===0;)L++;for(var F=l.repeat(k);L<T;++L)F+=t.charAt(C[L]);return F}function v(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var k=0,N=0,A=0;b[k]===l;)N++,k++;for(var R=(b.length-k)*f+1>>>0,T=new Uint8Array(R);b[k];){var C=b.charCodeAt(k);if(C>255)return;var j=e[C];if(j===255)return;for(var D=0,U=R-1;(j!==0||D<A)&&U!==-1;U--,D++)j+=o*T[U]>>>0,T[U]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");A=D,k++}for(var L=R-A;L!==R&&T[L]===0;)L++;for(var F=new Uint8Array(N+(R-L)),W=N;L!==R;)F[W++]=T[L++];return F}function E(b){var k=v(b);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:v,decode:E}}var mG=pG;const gG=mG,yG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var vG=gG(yG);const eA=fi(vG);function mr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(p){try{h(n.next(p))}catch(v){o(v)}}function f(p){try{h(n.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,f)}h((n=n.apply(t,[])).next())})}function Ee(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function $r(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Cf,Yr,Vl,pu,x4,b4,_4,Z0;const wG=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,xG=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,bG=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class _G{constructor(){Cf.add(this),Yr.set(this,null),Vl.set(this,{}),pu.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),Ee(this,Cf,"m",b4).call(this),Ee(this,Yr,"f")&&(Ee(this,Yr,"f").style.display="flex")},this.close=(e=void 0)=>{var r;console.debug("Modal close"),Ee(this,Cf,"m",_4).call(this),Ee(this,Yr,"f")&&(Ee(this,Yr,"f").style.display="none"),(r=Ee(this,Vl,"f").close)===null||r===void 0||r.forEach(n=>n(e))},Z0.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),$r(this,Yr,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return mr(this,void 0,void 0,function*(){console.log("Injecting modal"),Ee(this,Cf,"m",x4).call(this)})}addEventListener(e,r){var n;return!((n=Ee(this,Vl,"f")[e])===null||n===void 0)&&n.push(r)||(Ee(this,Vl,"f")[e]=[r]),()=>this.removeEventListener(e,r)}removeEventListener(e,r){var n;Ee(this,Vl,"f")[e]=(n=Ee(this,Vl,"f")[e])===null||n===void 0?void 0:n.filter(i=>r!==i)}}Yr=new WeakMap,Vl=new WeakMap,pu=new WeakMap,Z0=new WeakMap,Cf=new WeakSet,x4=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){Ee(this,Yr,"f")||$r(this,Yr,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}$r(this,Yr,document.createElement("div")),Ee(this,Yr,"f").id="mobile-wallet-adapter-embedded-root-ui",Ee(this,Yr,"f").innerHTML=wG,Ee(this,Yr,"f").style.display="none";const e=Ee(this,Yr,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const r=document.createElement("style");r.id="mobile-wallet-adapter-embedded-modal-styles",r.textContent=xG+this.contentStyles;const n=document.createElement("div");n.innerHTML=bG,this.dom=n.attachShadow({mode:"closed"}),this.dom.appendChild(r),this.dom.appendChild(Ee(this,Yr,"f")),document.body.appendChild(n)},b4=function(){if(!Ee(this,Yr,"f")||Ee(this,pu,"f"))return;[...Ee(this,Yr,"f").querySelectorAll("[data-modal-close]")].forEach(r=>r==null?void 0:r.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",Ee(this,Z0,"f")),$r(this,pu,!0)},_4=function(){if(!Ee(this,pu,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",Ee(this,Z0,"f")),!Ee(this,Yr,"f")))return;[...Ee(this,Yr,"f").querySelectorAll("[data-modal-close]")].forEach(r=>r==null?void 0:r.removeEventListener("click",this.close)),$r(this,pu,!1)};const SG="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function EG(t){return"version"in t}function NG(t){return window.btoa(String.fromCharCode.call(null,...t))}function S0(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var mu,ac,jx,Ox,Px,Lx,jf,ns,jo,Ra,gu,yu,Y0,Of,Q0,Dx,J0,S4,Bx,X0,vu,Ux,Pf,em,wu,Lf,tm,zx,Fx,rm,Wx,$x,Vx,nm;const MG="Mobile Wallet Adapter",AG=64,RG=[cs,Sr,qo,bc];class kG{constructor(e){mu.add(this),ac.set(this,{}),jx.set(this,"1.0.0"),Ox.set(this,MG),Px.set(this,"https://solanamobile.com/wallets"),Lx.set(this,SG),jf.set(this,void 0),ns.set(this,void 0),jo.set(this,void 0),Ra.set(this,!1),gu.set(this,0),yu.set(this,[]),Y0.set(this,void 0),Of.set(this,void 0),Q0.set(this,void 0),Dx.set(this,(r,n)=>{var i;return!((i=Ee(this,ac,"f")[r])===null||i===void 0)&&i.push(n)||(Ee(this,ac,"f")[r]=[n]),()=>Ee(this,mu,"m",S4).call(this,r,n)}),Bx.set(this,({silent:r}={})=>mr(this,void 0,void 0,function*(){if(Ee(this,Ra,"f")||this.connected)return{accounts:this.accounts};$r(this,Ra,!0);try{if(r){const n=yield Ee(this,jo,"f").get();if(n)yield Ee(this,vu,"f").call(this,n);else return{accounts:this.accounts}}else yield Ee(this,X0,"f").call(this)}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}finally{$r(this,Ra,!1)}return{accounts:this.accounts}})),X0.set(this,r=>mr(this,void 0,void 0,function*(){try{const n=yield Ee(this,jo,"f").get();if(n)return Ee(this,vu,"f").call(this,n),n;const i=yield Ee(this,Y0,"f").select(Ee(this,yu,"f"));return yield Ee(this,wu,"f").call(this,s=>mr(this,void 0,void 0,function*(){const[o,l]=yield Promise.all([s.getCapabilities(),s.authorize({chain:i,identity:Ee(this,jf,"f"),sign_in_payload:r})]),f=Ee(this,tm,"f").call(this,l.accounts),h=Object.assign(Object.assign({},l),{accounts:f,chain:i});return Promise.all([Ee(this,Ux,"f").call(this,o),Ee(this,jo,"f").set(h),Ee(this,vu,"f").call(this,h)]),h}))}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}})),vu.set(this,r=>mr(this,void 0,void 0,function*(){var n;const i=Ee(this,ns,"f")==null||((n=Ee(this,ns,"f"))===null||n===void 0?void 0:n.accounts.length)!==r.accounts.length||Ee(this,ns,"f").accounts.some((s,o)=>s.address!==r.accounts[o].address);$r(this,ns,r),i&&Ee(this,mu,"m",J0).call(this,"change",{accounts:this.accounts})})),Ux.set(this,r=>mr(this,void 0,void 0,function*(){const n=r.features.includes("solana:signTransactions"),i=r.supports_sign_and_send_transactions,s=cs in this.features!==i||Sr in this.features!==n;$r(this,Of,Object.assign(Object.assign({},(i||!i&&!n)&&{[cs]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ee(this,rm,"f")}}),n&&{[Sr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ee(this,Wx,"f")}})),s&&Ee(this,mu,"m",J0).call(this,"change",{features:this.features})})),Pf.set(this,(r,n,i)=>mr(this,void 0,void 0,function*(){try{const s=yield r.authorize({auth_token:n,identity:Ee(this,jf,"f"),chain:i}),o=Ee(this,tm,"f").call(this,s.accounts),l=Object.assign(Object.assign({},s),{accounts:o,chain:i});Promise.all([Ee(this,jo,"f").set(l),Ee(this,vu,"f").call(this,l)])}catch(s){throw Ee(this,em,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),em.set(this,()=>mr(this,void 0,void 0,function*(){var r;Ee(this,jo,"f").clear(),$r(this,Ra,!1),$r(this,gu,(r=Ee(this,gu,"f"),r++,r)),$r(this,ns,void 0),Ee(this,mu,"m",J0).call(this,"change",{accounts:this.accounts})})),wu.set(this,r=>mr(this,void 0,void 0,function*(){var n;const i=(n=Ee(this,ns,"f"))===null||n===void 0?void 0:n.wallet_uri_base,s=i?{baseUri:i}:void 0,o=Ee(this,gu,"f");try{return yield fG(r,s)}catch(l){throw Ee(this,gu,"f")!==o&&(yield new Promise(()=>{})),l instanceof Error&&l.name==="SolanaMobileWalletAdapterError"&&l.code==="ERROR_WALLET_NOT_FOUND"&&(yield Ee(this,Q0,"f").call(this,this)),l}})),Lf.set(this,()=>{if(!Ee(this,ns,"f"))throw new Error("Wallet not connected");return{authToken:Ee(this,ns,"f").auth_token,chain:Ee(this,ns,"f").chain}}),tm.set(this,r=>r.map(n=>{var i,s;const o=S0(n.address);return{address:eA.encode(o),publicKey:o,label:n.label,icon:n.icon,chains:(i=n.chains)!==null&&i!==void 0?i:Ee(this,yu,"f"),features:(s=n.features)!==null&&s!==void 0?s:RG}})),zx.set(this,r=>mr(this,void 0,void 0,function*(){const{authToken:n,chain:i}=Ee(this,Lf,"f").call(this);try{return yield Ee(this,wu,"f").call(this,s=>mr(this,void 0,void 0,function*(){return yield Ee(this,Pf,"f").call(this,s,n,i),yield s.signTransactions({transactions:r})}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Fx.set(this,(r,n)=>mr(this,void 0,void 0,function*(){const{authToken:i,chain:s}=Ee(this,Lf,"f").call(this);try{return yield Ee(this,wu,"f").call(this,o=>mr(this,void 0,void 0,function*(){const[l,f]=yield Promise.all([o.getCapabilities(),Ee(this,Pf,"f").call(this,o,i,s)]);if(l.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},n),{transactions:[r]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),rm.set(this,(...r)=>mr(this,void 0,void 0,function*(){const n=[];for(const i of r){const s=aa.deserialize(i.transaction),o=yield Ee(this,Fx,"f").call(this,s,i.options);n.push({signature:eA.decode(o)})}return n})),Wx.set(this,(...r)=>mr(this,void 0,void 0,function*(){const n=r.map(({transaction:s})=>aa.deserialize(s));return(yield Ee(this,zx,"f").call(this,n)).map(s=>({signedTransaction:EG(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),$x.set(this,(...r)=>mr(this,void 0,void 0,function*(){const{authToken:n,chain:i}=Ee(this,Lf,"f").call(this),s=r.map(({account:l})=>NG(l.publicKey)),o=r.map(({message:l})=>l);try{return yield Ee(this,wu,"f").call(this,l=>mr(this,void 0,void 0,function*(){return yield Ee(this,Pf,"f").call(this,l,n,i),(yield l.signMessages({addresses:s,payloads:o})).map(h=>({signedMessage:h,signature:h.slice(-AG)}))}))}catch(l){throw new Error(l instanceof Error&&l.message||"Unknown error")}})),Vx.set(this,(...r)=>mr(this,void 0,void 0,function*(){const n=[];if(r.length>1)for(const i of r)n.push(yield Ee(this,nm,"f").call(this,i));else return[yield Ee(this,nm,"f").call(this,r[0])];return n})),nm.set(this,r=>mr(this,void 0,void 0,function*(){var n,i;$r(this,Ra,!0);try{const s=yield Ee(this,X0,"f").call(this,Object.assign(Object.assign({},r),{domain:(n=r==null?void 0:r.domain)!==null&&n!==void 0?n:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=s.accounts.find(f=>f.address==o))!==null&&i!==void 0?i:{address:o}),{publicKey:S0(o)}),signedMessage:S0(s.sign_in_result.signed_message),signature:S0(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{$r(this,Ra,!1)}})),$r(this,jo,e.authorizationCache),$r(this,jf,e.appIdentity),$r(this,yu,e.chains),$r(this,Y0,e.chainSelector),$r(this,Q0,e.onWalletNotFound),$r(this,Of,{[cs]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ee(this,rm,"f")}})}get version(){return Ee(this,jx,"f")}get name(){return Ee(this,Ox,"f")}get url(){return Ee(this,Px,"f")}get icon(){return Ee(this,Lx,"f")}get chains(){return Ee(this,yu,"f")}get features(){return Object.assign({[My]:{version:"1.0.0",connect:Ee(this,Bx,"f")},[ig]:{version:"1.0.0",disconnect:Ee(this,em,"f")},[Ay]:{version:"1.0.0",on:Ee(this,Dx,"f")},[qo]:{version:"1.0.0",signMessage:Ee(this,$x,"f")},[bc]:{version:"1.0.0",signIn:Ee(this,Vx,"f")}},Ee(this,Of,"f"))}get accounts(){var e,r;return(r=(e=Ee(this,ns,"f"))===null||e===void 0?void 0:e.accounts)!==null&&r!==void 0?r:[]}get connected(){return!!Ee(this,ns,"f")}get isAuthorized(){return!!Ee(this,ns,"f")}get currentAuthorization(){return Ee(this,ns,"f")}get cachedAuthorizationResult(){return Ee(this,jo,"f").get()}}ac=new WeakMap,jx=new WeakMap,Ox=new WeakMap,Px=new WeakMap,Lx=new WeakMap,jf=new WeakMap,ns=new WeakMap,jo=new WeakMap,Ra=new WeakMap,gu=new WeakMap,yu=new WeakMap,Y0=new WeakMap,Of=new WeakMap,Q0=new WeakMap,Dx=new WeakMap,Bx=new WeakMap,X0=new WeakMap,vu=new WeakMap,Ux=new WeakMap,Pf=new WeakMap,em=new WeakMap,wu=new WeakMap,Lf=new WeakMap,tm=new WeakMap,zx=new WeakMap,Fx=new WeakMap,rm=new WeakMap,Wx=new WeakMap,$x=new WeakMap,Vx=new WeakMap,nm=new WeakMap,mu=new WeakSet,J0=function(e,...r){var n;(n=Ee(this,ac,"f")[e])===null||n===void 0||n.forEach(i=>i.apply(null,r))},S4=function(e,r){var n;Ee(this,ac,"f")[e]=(n=Ee(this,ac,"f")[e])===null||n===void 0?void 0:n.filter(i=>r!==i)};const TG="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",IG="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class CG extends _G{constructor(){super(...arguments),this.contentStyles=OG,this.contentHtml=jG}initWithError(e){super.init(),this.populateError(e)}populateError(e){var r,n;const i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-message"),s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=TG,s&&s.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=IG,s&&(s.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const jG=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,OG=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function PG(){return mr(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new CG;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const Ow="SolanaMobileWalletAdapterDefaultAuthorizationCache";function LG(){let t;try{t=window.localStorage}catch{}return{clear(){return mr(this,void 0,void 0,function*(){if(t)try{t.removeItem(Ow)}catch{}})},get(){return mr(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(Ow));if(e&&e.accounts){const r=e.accounts.map(n=>Object.assign(Object.assign({},n),{publicKey:"publicKey"in n?new Uint8Array(Object.values(n.publicKey)):new me(n.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:r})}else return e||void 0}catch{}})},set(e){return mr(this,void 0,void 0,function*(){if(t)try{t.setItem(Ow,JSON.stringify(e))}catch{}})}}}function DG(){return{select(t){return mr(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(Lh)?Lh:t[0]})}}}function ir(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(p){try{h(n.next(p))}catch(v){o(v)}}function f(p){try{h(n.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,f)}h((n=n.apply(t,[])).next())})}function pt(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Cs(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}const Hx="standard:connect",BG="standard:disconnect",UG="standard:events";function Pw(t){return window.btoa(String.fromCharCode.call(null,...t))}function zG(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var rn,br,Da,Go,sm,zo,Hl,Kx,qx,E4,cg,im,Oa;const om="Mobile Wallet Adapter",FG=64;function WG(t){return"version"in t}function N4(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class $G extends sK{constructor(e,r){super(),rn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),br.set(this,void 0),Da.set(this,!1),Go.set(this,zG()?Ct.Loadable:Ct.Unsupported),sm.set(this,void 0),zo.set(this,void 0),Hl.set(this,void 0),Kx.set(this,n=>ir(this,void 0,void 0,function*(){if(n.accounts&&n.accounts.length>0){pt(this,rn,"m",E4).call(this);const i=yield pt(this,sm,"f").call(this,n.accounts);i!==pt(this,zo,"f")&&(Cs(this,zo,i),Cs(this,Hl,void 0),this.emit("connect",this.publicKey))}})),Cs(this,sm,n=>ir(this,void 0,void 0,function*(){var i;const s=yield r.addressSelector.select(n.map(({publicKey:o})=>Pw(o)));return(i=n.find(({publicKey:o})=>Pw(o)===s))!==null&&i!==void 0?i:n[0]})),Cs(this,br,e),pt(this,br,"f").features[UG].on("change",pt(this,Kx,"f")),this.name=pt(this,br,"f").name,this.icon=pt(this,br,"f").icon,this.url=pt(this,br,"f").url}get publicKey(){var e;if(!pt(this,Hl,"f")&&pt(this,zo,"f"))try{Cs(this,Hl,new me(pt(this,zo,"f").publicKey),"f")}catch(r){throw new Rd(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}return(e=pt(this,Hl,"f"))!==null&&e!==void 0?e:null}get connected(){return pt(this,br,"f").connected}get connecting(){return pt(this,Da,"f")}get readyState(){return pt(this,Go,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ir(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return ir(this,void 0,void 0,function*(){pt(this,rn,"m",qx).call(this,!0)})}connect(){return ir(this,void 0,void 0,function*(){pt(this,rn,"m",qx).call(this)})}performAuthorization(e){return ir(this,void 0,void 0,function*(){try{const r=yield pt(this,br,"f").cachedAuthorizationResult;return r?(yield pt(this,br,"f").features[Hx].connect({silent:!0}),r):(e?yield pt(this,br,"f").features[bc].signIn(e):yield pt(this,br,"f").features[Hx].connect(),yield yield pt(this,br,"f").cachedAuthorizationResult)}catch(r){throw new Cc(r instanceof Error&&r.message||"Unknown error",r)}})}disconnect(){return ir(this,void 0,void 0,function*(){return yield pt(this,rn,"m",Oa).call(this,()=>ir(this,void 0,void 0,function*(){Cs(this,Da,!1),Cs(this,Hl,void 0),Cs(this,zo,void 0),yield pt(this,br,"f").features[BG].disconnect(),this.emit("disconnect")}))})}signIn(e){return ir(this,void 0,void 0,function*(){return pt(this,rn,"m",Oa).call(this,()=>ir(this,void 0,void 0,function*(){var r;if(pt(this,Go,"f")!==Ct.Installed&&pt(this,Go,"f")!==Ct.Loadable)throw new xl;Cs(this,Da,!0);try{const n=yield pt(this,br,"f").features[bc].signIn(Object.assign(Object.assign({},e),{domain:(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:window.location.host}));if(n.length>0)return n[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(n){throw new Cc(n instanceof Error&&n.message||"Unknown error",n)}finally{Cs(this,Da,!1)}}))})}signMessage(e){return ir(this,void 0,void 0,function*(){return yield pt(this,rn,"m",Oa).call(this,()=>ir(this,void 0,void 0,function*(){const r=pt(this,rn,"m",cg).call(this);try{return(yield pt(this,br,"f").features[qo].signMessage({account:r,message:e}))[0].signature}catch(n){throw new Ny(n==null?void 0:n.message,n)}}))})}sendTransaction(e,r,n){return ir(this,void 0,void 0,function*(){return yield pt(this,rn,"m",Oa).call(this,()=>ir(this,void 0,void 0,function*(){const i=pt(this,rn,"m",cg).call(this);try{let s=function(){let o;switch(r.commitment){case"confirmed":case"finalized":case"processed":o=r.commitment;break;default:o="finalized"}let l;switch(n==null?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":l=n.preflightCommitment;break;case void 0:l=o;break;default:l="finalized"}return(l==="finalized"?2:l==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?l:o};if(cs in pt(this,br,"f").features){const o=N4(pt(this,br,"f").currentAuthorization.chain),[l]=(yield pt(this,br,"f").features[cs].signAndSendTransaction({account:i,transaction:e.serialize(),chain:o,options:n?{skipPreflight:n.skipPreflight,maxRetries:n.maxRetries}:void 0})).map(f=>Pw(f.signature));return l}else{const[o]=yield pt(this,rn,"m",im).call(this,[e]);if(WG(o))return yield r.sendTransaction(o);{const l=o.serialize();return yield r.sendRawTransaction(l,Object.assign(Object.assign({},n),{preflightCommitment:s()}))}}}catch(s){throw new Jo(s==null?void 0:s.message,s)}}))})}signTransaction(e){return ir(this,void 0,void 0,function*(){return yield pt(this,rn,"m",Oa).call(this,()=>ir(this,void 0,void 0,function*(){const[r]=yield pt(this,rn,"m",im).call(this,[e]);return r}))})}signAllTransactions(e){return ir(this,void 0,void 0,function*(){return yield pt(this,rn,"m",Oa).call(this,()=>ir(this,void 0,void 0,function*(){return yield pt(this,rn,"m",im).call(this,e)}))})}}br=new WeakMap,Da=new WeakMap,Go=new WeakMap,sm=new WeakMap,zo=new WeakMap,Hl=new WeakMap,Kx=new WeakMap,rn=new WeakSet,qx=function(e=!1){return ir(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield pt(this,rn,"m",Oa).call(this,()=>ir(this,void 0,void 0,function*(){if(pt(this,Go,"f")!==Ct.Installed&&pt(this,Go,"f")!==Ct.Loadable)throw new xl;Cs(this,Da,!0);try{yield pt(this,br,"f").features[Hx].connect({silent:e})}catch(r){throw new Cc(r instanceof Error&&r.message||"Unknown error",r)}finally{Cs(this,Da,!1)}}))})},E4=function(){pt(this,Go,"f")!==Ct.Installed&&this.emit("readyStateChange",Cs(this,Go,Ct.Installed))},cg=function(){if(!pt(this,br,"f").isAuthorized||!pt(this,zo,"f"))throw new jr;return pt(this,zo,"f")},im=function(e){return ir(this,void 0,void 0,function*(){const r=pt(this,rn,"m",cg).call(this);try{if(Sr in pt(this,br,"f").features)return pt(this,br,"f").features[Sr].signTransaction(...e.map(n=>({account:r,transaction:n.serialize()}))).then(n=>n.map(i=>{const s=i.signedTransaction,l=s[0]*FG+1;return vp.deserializeMessageVersion(s.slice(l,s.length))==="legacy"?jt.from(s):aa.deserialize(s)}));throw new Error("Connected wallet does not support signing transactions")}catch(n){throw new Ii(n==null?void 0:n.message,n)}})},Oa=function(e){return ir(this,void 0,void 0,function*(){try{return yield e()}catch(r){throw this.emit("error",r),r}})};class VG extends $G{constructor(e){var r;const n=N4((r=e.chain)!==null&&r!==void 0?r:e.cluster);super(new kG({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>ir(this,void 0,void 0,function*(){const i=yield e.authorizationResultCache.get();return i&&"chain"in i?i:i?Object.assign(Object.assign({},i),{chain:n}):void 0}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:DG(),onWalletNotFound:()=>ir(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class HG extends VG{}function KG(){return{select(t){return ir(this,void 0,void 0,function*(){return t[0]})}}}function qG(){return LG()}function GG(t){return ir(this,void 0,void 0,function*(){return PG()})}function ZG(){return GG}var YG=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},QG=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},am;function JG(t){const e=({register:r})=>r(t);try{window.dispatchEvent(new XG(e))}catch(r){console.error(`wallet-standard:register-wallet event could not be dispatched
`,r)}try{window.addEventListener("wallet-standard:app-ready",({detail:r})=>e(r))}catch(r){console.error(`wallet-standard:app-ready event listener could not be added
`,r)}}class XG extends Event{get detail(){return YG(this,am,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),am.set(this,void 0),QG(this,am,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}am=new WeakMap;function eZ(t,e){if(t===e)return!0;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function tZ(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){const p=t.charAt(h),v=p.charCodeAt(0);if(e[v]!==255)throw new TypeError(p+" is ambiguous");e[v]=h}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let p=0,v=0,E=0;const b=h.length;for(;E!==b&&h[E]===0;)E++,p++;const k=(b-E)*s+1>>>0,N=new Uint8Array(k);for(;E!==b;){let T=h[E],C=0;for(let j=k-1;(T!==0||C<v)&&j!==-1;j--,C++)T+=256*N[j]>>>0,N[j]=T%r>>>0,T=T/r>>>0;if(T!==0)throw new Error("Non-zero carry");v=C,E++}let A=k-v;for(;A!==k&&N[A]===0;)A++;let R=n.repeat(p);for(;A<k;++A)R+=t.charAt(N[A]);return R}function l(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let p=0,v=0,E=0;for(;h[p]===n;)v++,p++;const b=(h.length-p)*i+1>>>0,k=new Uint8Array(b);for(;p<h.length;){const T=h.charCodeAt(p);if(T>255)return;let C=e[T];if(C===255)return;let j=0;for(let D=b-1;(C!==0||j<E)&&D!==-1;D--,j++)C+=r*k[D]>>>0,k[D]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");E=j,p++}let N=b-E;for(;N!==b&&k[N]===0;)N++;const A=new Uint8Array(v+(b-N));let R=v;for(;N!==b;)A[R++]=k[N++];return A}function f(h){const p=l(h);if(p)return p;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:l,decode:f}}var rZ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const nZ=tZ(rZ);var ct=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Vr=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},hn,ws,lc,cc,Kl,Df,ug,Ht,dg,Gx,lm,Zx,nh,Yx,tA,rA,nA,sA;class sZ extends HO{get name(){return ct(this,Ht,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ct(this,Ht,"f").icon}get readyState(){return ct(this,dg,"f")}get publicKey(){return ct(this,lc,"f")}get connecting(){return ct(this,cc,"f")}get supportedTransactionVersions(){return ct(this,ug,"f")}get wallet(){return ct(this,Ht,"f")}get standard(){return!0}constructor({wallet:e}){super(),hn.add(this),ws.set(this,void 0),lc.set(this,void 0),cc.set(this,void 0),Kl.set(this,void 0),Df.set(this,void 0),ug.set(this,void 0),Ht.set(this,void 0),dg.set(this,typeof window>"u"||typeof document>"u"?Ct.Unsupported:Ct.Installed),Yx.set(this,r=>{if("accounts"in r){const n=ct(this,Ht,"f").accounts[0];ct(this,ws,"f")&&!ct(this,Kl,"f")&&n!==ct(this,ws,"f")&&(n?ct(this,hn,"m",lm).call(this,n):(this.emit("error",new IS),ct(this,hn,"m",Zx).call(this)))}"features"in r&&ct(this,hn,"m",nh).call(this)}),Vr(this,Ht,e,"f"),Vr(this,ws,null,"f"),Vr(this,lc,null,"f"),Vr(this,cc,!1,"f"),Vr(this,Kl,!1,"f"),Vr(this,Df,ct(this,Ht,"f").features[Ay].on("change",ct(this,Yx,"f")),"f"),ct(this,hn,"m",nh).call(this)}destroy(){Vr(this,ws,null,"f"),Vr(this,lc,null,"f"),Vr(this,cc,!1,"f"),Vr(this,Kl,!1,"f");const e=ct(this,Df,"f");e&&(Vr(this,Df,null,"f"),e())}async autoConnect(){return ct(this,hn,"m",Gx).call(this,{silent:!0})}async connect(){return ct(this,hn,"m",Gx).call(this)}async disconnect(){if(ig in ct(this,Ht,"f").features)try{Vr(this,Kl,!0,"f"),await ct(this,Ht,"f").features[ig].disconnect()}catch(e){this.emit("error",new CS(e==null?void 0:e.message,e))}finally{Vr(this,Kl,!1,"f")}ct(this,hn,"m",Zx).call(this)}async sendTransaction(e,r,n={}){try{const i=ct(this,ws,"f");if(!i)throw new jr;let s;if(cs in ct(this,Ht,"f").features)if(i.features.includes(cs))s=cs;else if(Sr in ct(this,Ht,"f").features&&i.features.includes(Sr))s=Sr;else throw new ic;else if(Sr in ct(this,Ht,"f").features){if(!i.features.includes(Sr))throw new ic;s=Sr}else throw new Pu;const o=Mq(r.rpcEndpoint);if(!i.chains.includes(o))throw new Jo;try{const{signers:l,...f}=n;let h;if(Xo(e)?(l!=null&&l.length&&e.sign(l),h=e.serialize()):(e=await this.prepareTransaction(e,r,f),l!=null&&l.length&&e.partialSign(...l),h=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===cs){const[p]=await ct(this,Ht,"f").features[cs].signAndSendTransaction({account:i,chain:o,transaction:h,options:{preflightCommitment:Rw(f.preflightCommitment||r.commitment),skipPreflight:f.skipPreflight,maxRetries:f.maxRetries,minContextSlot:f.minContextSlot}});return nZ.encode(p.signature)}else{const[p]=await ct(this,Ht,"f").features[Sr].signTransaction({account:i,chain:o,transaction:h,options:{preflightCommitment:Rw(f.preflightCommitment||r.commitment),minContextSlot:f.minContextSlot}});return await r.sendRawTransaction(p.signedTransaction,{...f,preflightCommitment:Rw(f.preflightCommitment||r.commitment)})}}catch(l){throw l instanceof tn?l:new Jo(l==null?void 0:l.message,l)}}catch(i){throw this.emit("error",i),i}}}ws=new WeakMap,lc=new WeakMap,cc=new WeakMap,Kl=new WeakMap,Df=new WeakMap,ug=new WeakMap,Ht=new WeakMap,dg=new WeakMap,Yx=new WeakMap,hn=new WeakSet,Gx=async function(e){try{if(this.connected||this.connecting)return;if(ct(this,dg,"f")!==Ct.Installed)throw new xl;if(Vr(this,cc,!0,"f"),!ct(this,Ht,"f").accounts.length)try{await ct(this,Ht,"f").features[My].connect(e)}catch(n){throw new Cc(n==null?void 0:n.message,n)}const r=ct(this,Ht,"f").accounts[0];if(!r)throw new ic;ct(this,hn,"m",lm).call(this,r)}catch(r){throw this.emit("error",r),r}finally{Vr(this,cc,!1,"f")}},lm=function(e){let r;try{r=new me(e.address)}catch(n){throw new Rd(n==null?void 0:n.message,n)}Vr(this,ws,e,"f"),Vr(this,lc,r,"f"),ct(this,hn,"m",nh).call(this),this.emit("connect",r)},Zx=function(){Vr(this,ws,null,"f"),Vr(this,lc,null,"f"),ct(this,hn,"m",nh).call(this),this.emit("disconnect")},nh=function(){var r,n;const e=cs in ct(this,Ht,"f").features?ct(this,Ht,"f").features[cs].supportedTransactionVersions:ct(this,Ht,"f").features[Sr].supportedTransactionVersions;Vr(this,ug,eZ(e,["legacy"])?null:new Set(e),"f"),Sr in ct(this,Ht,"f").features&&((r=ct(this,ws,"f"))!=null&&r.features.includes(Sr))?(this.signTransaction=ct(this,hn,"m",tA),this.signAllTransactions=ct(this,hn,"m",rA)):(delete this.signTransaction,delete this.signAllTransactions),qo in ct(this,Ht,"f").features&&((n=ct(this,ws,"f"))!=null&&n.features.includes(qo))?this.signMessage=ct(this,hn,"m",nA):delete this.signMessage,bc in ct(this,Ht,"f").features?this.signIn=ct(this,hn,"m",sA):delete this.signIn},tA=async function(e){try{const r=ct(this,ws,"f");if(!r)throw new jr;if(!(Sr in ct(this,Ht,"f").features))throw new Pu;if(!r.features.includes(Sr))throw new ic;try{const i=(await ct(this,Ht,"f").features[Sr].signTransaction({account:r,transaction:Xo(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Xo(e)?aa.deserialize(i):jt.from(i)}catch(n){throw n instanceof tn?n:new Ii(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},rA=async function(e){try{const r=ct(this,ws,"f");if(!r)throw new jr;if(!(Sr in ct(this,Ht,"f").features))throw new Pu;if(!r.features.includes(Sr))throw new ic;try{const n=await ct(this,Ht,"f").features[Sr].signTransaction(...e.map(i=>({account:r,transaction:Xo(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const o=n[s].signedTransaction;return Xo(i)?aa.deserialize(o):jt.from(o)})}catch(n){throw new Ii(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},nA=async function(e){try{const r=ct(this,ws,"f");if(!r)throw new jr;if(!(qo in ct(this,Ht,"f").features))throw new Pu;if(!r.features.includes(qo))throw new ic;try{return(await ct(this,Ht,"f").features[qo].signMessage({account:r,message:e}))[0].signature}catch(n){throw new Ny(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},sA=async function(e={}){try{if(!(bc in ct(this,Ht,"f").features))throw new Pu;let r;try{[r]=await ct(this,Ht,"f").features[bc].signIn(e)}catch(n){throw new WM(n==null?void 0:n.message,n)}if(!r)throw new WM;return ct(this,hn,"m",lm).call(this,r.account),r}catch(r){throw this.emit("error",r),r}};const iZ=iK;var oZ=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},aZ=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},cm;let Os;const jy=new Set;function lZ(t){sh=void 0,jy.add(t)}function cZ(t){sh=void 0,jy.delete(t)}const Lu={};function uZ(){if(Os||(Os=Object.freeze({register:iA,get:dZ,on:fZ}),typeof window>"u"))return Os;const t=Object.freeze({register:iA});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new hZ(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Os}function iA(...t){var e;return t=t.filter(r=>!jy.has(r)),t.length?(t.forEach(r=>lZ(r)),(e=Lu.register)==null||e.forEach(r=>Qx(()=>r(...t))),function(){var n;t.forEach(i=>cZ(i)),(n=Lu.unregister)==null||n.forEach(i=>Qx(()=>i(...t)))}):()=>{}}let sh;function dZ(){return sh||(sh=[...jy]),sh}function fZ(t,e){var r;return(r=Lu[t])!=null&&r.push(e)||(Lu[t]=[e]),function(){var i;Lu[t]=(i=Lu[t])==null?void 0:i.filter(s=>e!==s)}}function Qx(t){try{t()}catch(e){console.error(e)}}class hZ extends Event{get detail(){return oZ(this,cm,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),cm.set(this,void 0),aZ(this,cm,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}cm=new WeakMap;function pZ(){if(Os||(Os=uZ(),typeof window>"u"))return Os;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Os;const{register:e}=Os,r=(...n)=>n.forEach(i=>Qx(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch{return console.error("window.navigator.wallets could not be set"),Os}return r(...t),Os}function mZ(t){const e=oA(()=>new Set),{get:r,on:n}=oA(()=>pZ()),[i,s]=M.useState(()=>aA(r()));M.useEffect(()=>{const l=[n("register",(...f)=>s(h=>[...h,...aA(f)])),n("unregister",(...f)=>s(h=>h.filter(p=>f.some(v=>v===p.wallet))))];return()=>l.forEach(f=>f())},[n]);const o=gZ(i);return M.useEffect(()=>{if(!o)return;const l=new Set(i);new Set(o.filter(h=>!l.has(h))).forEach(h=>h.destroy())},[o,i]),M.useEffect(()=>()=>i.forEach(l=>l.destroy()),[]),M.useMemo(()=>[...i,...t.filter(({name:l})=>i.some(f=>f.name===l)?(e.has(l)||(e.add(l),console.warn(`${l} was registered as a Standard Wallet. The Wallet Adapter for ${l} can be removed from your app.`)),!1):!0)],[i,t,e])}function oA(t){const e=M.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function gZ(t){const e=M.useRef(void 0);return M.useEffect(()=>{e.current=t}),e.current}function aA(t){return t.filter(iZ).map(e=>new sZ({wallet:e}))}var qu;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(qu||(qu={}));function yZ(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function vZ({adapters:t,userAgentString:e}){return t.some(r=>r.name!==om&&r.readyState===Ct.Installed)?qu.DESKTOP_WEB:e&&/android/i.test(e)&&!yZ(e)?qu.MOBILE_WEB:qu.DESKTOP_WEB}function wZ(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function xZ({children:t,wallets:e,adapter:r,isUnloadingRef:n,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:l}){const f=M.useRef(!1),[h,p]=M.useState(!1),v=M.useRef(!1),[E,b]=M.useState(!1),[k,N]=M.useState(()=>(r==null?void 0:r.publicKey)??null),[A,R]=M.useState(()=>(r==null?void 0:r.connected)??!1),T=M.useRef(o);M.useEffect(()=>(T.current=o,()=>{T.current=void 0}),[o]);const C=M.useRef((d,m)=>(n.current||(T.current?T.current(d,m):(console.error(d,m),d instanceof xl&&typeof window<"u"&&m&&window.open(m.url,"_blank"))),d)),[j,D]=M.useState(()=>e.map(d=>({adapter:d,readyState:d.readyState})).filter(({readyState:d})=>d!==Ct.Unsupported));M.useEffect(()=>{D(m=>e.map((y,g)=>{const S=m[g];return S&&S.adapter===y&&S.readyState===y.readyState?S:{adapter:y,readyState:y.readyState}}).filter(({readyState:y})=>y!==Ct.Unsupported));function d(m){D(y=>{const g=y.findIndex(({adapter:I})=>I===this);if(g===-1)return y;const{adapter:S}=y[g];return[...y.slice(0,g),{adapter:S,readyState:m},...y.slice(g+1)].filter(({readyState:I})=>I!==Ct.Unsupported)})}return e.forEach(m=>m.on("readyStateChange",d,m)),()=>{e.forEach(m=>m.off("readyStateChange",d,m))}},[r,e]);const U=M.useMemo(()=>j.find(d=>d.adapter===r)??null,[r,j]);M.useEffect(()=>{if(!r)return;const d=g=>{N(g),f.current=!1,p(!1),R(!0),v.current=!1,b(!1)},m=()=>{n.current||(N(null),f.current=!1,p(!1),R(!1),v.current=!1,b(!1))},y=g=>{C.current(g,r)};return r.on("connect",d),r.on("disconnect",m),r.on("error",y),()=>{r.off("connect",d),r.off("disconnect",m),r.off("error",y),m()}},[r,n]);const L=M.useRef(!1);M.useEffect(()=>()=>{L.current=!1},[r]),M.useEffect(()=>{L.current||f.current||A||!i||!((U==null?void 0:U.readyState)===Ct.Installed||(U==null?void 0:U.readyState)===Ct.Loadable)||(f.current=!0,p(!0),L.current=!0,async function(){try{await i()}catch{s()}finally{p(!1),f.current=!1}}())},[A,i,s,U]);const F=M.useCallback(async(d,m,y)=>{if(!r)throw C.current(new HM);if(!A)throw C.current(new jr,r);return await r.sendTransaction(d,m,y)},[r,A]),W=M.useMemo(()=>r&&"signTransaction"in r?async d=>{if(!A)throw C.current(new jr,r);return await r.signTransaction(d)}:void 0,[r,A]),q=M.useMemo(()=>r&&"signAllTransactions"in r?async d=>{if(!A)throw C.current(new jr,r);return await r.signAllTransactions(d)}:void 0,[r,A]),V=M.useMemo(()=>r&&"signMessage"in r?async d=>{if(!A)throw C.current(new jr,r);return await r.signMessage(d)}:void 0,[r,A]),K=M.useMemo(()=>r&&"signIn"in r?async d=>await r.signIn(d):void 0,[r]),x=M.useCallback(async()=>{if(f.current||v.current||U!=null&&U.adapter.connected)return;if(!U)throw C.current(new HM);const{adapter:d,readyState:m}=U;if(!(m===Ct.Installed||m===Ct.Loadable))throw C.current(new xl,d);f.current=!0,p(!0);try{await d.connect()}catch(y){throw s(),y}finally{p(!1),f.current=!1}},[s,U]),a=M.useCallback(async()=>{if(!v.current&&r){v.current=!0,b(!0);try{await r.disconnect()}finally{b(!1),v.current=!1}}},[r]);return J.createElement(ZO.Provider,{value:{autoConnect:!!i,wallets:j,wallet:U,publicKey:k,connected:A,connecting:h,disconnecting:E,select:l,connect:x,disconnect:a,sendTransaction:F,signTransaction:W,signAllTransactions:q,signMessage:V,signIn:K}},t)}let Lw;function bZ(){var t;return Lw===void 0&&(Lw=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),Lw}function lA(t){const e=bZ();return vZ({adapters:t,userAgentString:e})===qu.MOBILE_WEB}function _Z(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function SZ({children:t,wallets:e,autoConnect:r,localStorageKey:n="walletName",onError:i}){const{connection:s}=PS(),o=mZ(e),l=M.useMemo(()=>{if(!lA(o))return null;const T=o.find(C=>C.name===om);return T||new HG({addressSelector:KG(),appIdentity:{uri:_Z()},authorizationResultCache:qG(),cluster:wZ(s==null?void 0:s.rpcEndpoint),onWalletNotFound:ZG()})},[o,s==null?void 0:s.rpcEndpoint]),f=M.useMemo(()=>l==null||o.indexOf(l)!==-1?o:[l,...o],[o,l]),[h,p]=LK(n,null),v=M.useMemo(()=>f.find(T=>T.name===h)??null,[f,h]),E=M.useCallback(T=>{h!==T&&(v&&v.name!==om&&v.disconnect(),p(T))},[v,p,h]);M.useEffect(()=>{if(!v)return;function T(){N.current||p(null)}return v.on("disconnect",T),()=>{v.off("disconnect",T)}},[v,o,p,h]);const b=M.useRef(!1),k=M.useMemo(()=>{if(!(!r||!v))return async()=>{(r===!0||await r(v))&&(b.current?await v.connect():await v.autoConnect())}},[r,v]),N=M.useRef(!1);M.useEffect(()=>{if(h===om&&lA(o)){N.current=!1;return}function T(){N.current=!0}return window.addEventListener("beforeunload",T),()=>{window.removeEventListener("beforeunload",T)}},[o,h]);const A=M.useCallback(()=>{v&&E(null)},[v,E]),R=M.useCallback(T=>{b.current=!0,E(T)},[E]);return J.createElement(xZ,{wallets:f,adapter:v,isUnloadingRef:N,onAutoConnectRequest:k,onConnectError:A,onError:i,onSelectWallet:R},t)}const EZ="modulepreload",NZ=function(t){return"/"+t},cA={},M4=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(f=>{if(f=NZ(f),f in cA)return;cA[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":EZ,h||(v.as="script"),v.crossOrigin="",v.href=f,l&&v.setAttribute("nonce",l),document.head.appendChild(v),h)return new Promise((E,b)=>{v.addEventListener("load",E),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},MZ="Phantom";class AZ extends jS{constructor(e={}){super(),this.name=MZ,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ct.Unsupported:Ct.NotDetected,this._disconnected=()=>{const r=this._wallet;r&&(r.off("disconnect",this._disconnected),r.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new IS),this.emit("disconnect"))},this._accountChanged=r=>{const n=this._publicKey;if(n){try{r=new me(r.toBytes())}catch(i){this.emit("error",new Rd(i==null?void 0:i.message,i));return}n.equals(r)||(this._publicKey=r,this.emit("connect",r))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Ct.Unsupported&&(Nx()?(this._readyState=Ct.Loadable,this.emit("readyStateChange",this._readyState)):KO(()=>{var r,n,i;return(n=(r=window.phantom)==null?void 0:r.solana)!=null&&n.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=Ct.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Ct.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Ct.Loadable){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${s}`;return}if(this.readyState!==Ct.Installed)throw new xl;this._connecting=!0;const r=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!r.isConnected)try{await r.connect()}catch(i){throw new Cc(i==null?void 0:i.message,i)}if(!r.publicKey)throw new ic;let n;try{n=new me(r.publicKey.toBytes())}catch(i){throw new Rd(i==null?void 0:i.message,i)}r.on("disconnect",this._disconnected),r.on("accountChanged",this._accountChanged),this._wallet=r,this._publicKey=n,this.emit("connect",n)}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(r){this.emit("error",new CS(r==null?void 0:r.message,r))}}this.emit("disconnect")}async sendTransaction(e,r,n={}){try{const i=this._wallet;if(!i)throw new jr;try{const{signers:s,...o}=n;Xo(e)?s!=null&&s.length&&e.sign(s):(e=await this.prepareTransaction(e,r,o),s!=null&&s.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||r.commitment;const{signature:l}=await i.signAndSendTransaction(e,o);return l}catch(s){throw s instanceof tn?s:new Jo(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const r=this._wallet;if(!r)throw new jr;try{return await r.signTransaction(e)||e}catch(n){throw new Ii(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(e){try{const r=this._wallet;if(!r)throw new jr;try{return await r.signAllTransactions(e)||e}catch(n){throw new Ii(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(e){try{const r=this._wallet;if(!r)throw new jr;try{const{signature:n}=await r.signMessage(e);return n}catch(n){throw new Ny(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}}const RZ="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Jt=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},kZ=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},um,uc,Jx,Xx,eb,Rn,tb,A4,R4,rb,nb,sb,ib,ob;class TZ{constructor(){um.add(this),uc.set(this,{}),Jx.set(this,"1.0.0"),Xx.set(this,"MetaMask"),eb.set(this,RZ),Rn.set(this,null),tb.set(this,(e,r)=>{var n;return(n=Jt(this,uc,"f")[e])!=null&&n.push(r)||(Jt(this,uc,"f")[e]=[r]),()=>Jt(this,um,"m",R4).call(this,e,r)}),rb.set(this,async()=>{if(!Jt(this,Rn,"f")){let e;try{e=(await M4(async()=>{const{default:r}=await import("./index-ss_Ip6zf.js");return{default:r}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}kZ(this,Rn,new e,"f"),Jt(this,Rn,"f").on("standard_change",r=>Jt(this,um,"m",A4).call(this,"change",r))}return this.accounts.length||await Jt(this,Rn,"f").connect(),{accounts:this.accounts}}),nb.set(this,async()=>{Jt(this,Rn,"f")&&await Jt(this,Rn,"f").disconnect()}),sb.set(this,async(...e)=>{if(!Jt(this,Rn,"f"))throw new jr;return await Jt(this,Rn,"f").standardSignAndSendTransaction(...e)}),ib.set(this,async(...e)=>{if(!Jt(this,Rn,"f"))throw new jr;return await Jt(this,Rn,"f").standardSignTransaction(...e)}),ob.set(this,async(...e)=>{if(!Jt(this,Rn,"f"))throw new jr;return await Jt(this,Rn,"f").standardSignMessage(...e)})}get version(){return Jt(this,Jx,"f")}get name(){return Jt(this,Xx,"f")}get icon(){return Jt(this,eb,"f")}get chains(){return[Lh,f4,h4]}get features(){return{[My]:{version:"1.0.0",connect:Jt(this,rb,"f")},[ig]:{version:"1.0.0",disconnect:Jt(this,nb,"f")},[Ay]:{version:"1.0.0",on:Jt(this,tb,"f")},[cs]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Jt(this,sb,"f")},[Sr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Jt(this,ib,"f")},[qo]:{version:"1.0.0",signMessage:Jt(this,ob,"f")}}}get accounts(){return Jt(this,Rn,"f")?Jt(this,Rn,"f").standardAccounts:[]}}uc=new WeakMap,Jx=new WeakMap,Xx=new WeakMap,eb=new WeakMap,Rn=new WeakMap,tb=new WeakMap,rb=new WeakMap,nb=new WeakMap,sb=new WeakMap,ib=new WeakMap,ob=new WeakMap,um=new WeakSet,A4=function(e,...r){var n;(n=Jt(this,uc,"f")[e])==null||n.forEach(i=>i.apply(null,r))},R4=function(e,r){var n;Jt(this,uc,"f")[e]=(n=Jt(this,uc,"f")[e])==null?void 0:n.filter(i=>r!==i)};let uA=!1;function IZ(){uA||(JG(new TZ),uA=!0)}async function CZ(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function r(n){var s,o;const i=n.data;(i==null?void 0:i.target)==="metamask-inpage"&&((s=i.data)==null?void 0:s.name)==="metamask-provider"&&(((o=i.data.data)==null?void 0:o.id)===t?(window.removeEventListener("message",r),i.data.data.error||IZ()):e())}window.addEventListener("message",r),window.setTimeout(()=>window.removeEventListener("message",r),5e3),e()}const jZ="Solflare";class OZ extends jS{constructor(e={}){super(),this.name=jZ,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ct.Unsupported:Ct.Loadable,this._disconnected=()=>{const r=this._wallet;r&&(r.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new IS),this.emit("disconnect"))},this._accountChanged=r=>{if(!r)return;const n=this._publicKey;if(n){try{r=new me(r.toBytes())}catch(i){this.emit("error",new Rd(i==null?void 0:i.message,i));return}n.equals(r)||(this._publicKey=r,this.emit("connect",r))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Ct.Unsupported&&(KO(()=>{var r;return(r=window.solflare)!=null&&r.isSolflare||window.SolflareApp?(this._readyState=Ct.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),CZ())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Ct.Loadable&&Nx()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ct.Loadable&&this._readyState!==Ct.Installed)throw new xl;if(this.readyState===Ct.Loadable&&Nx()){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${s}`;return}let e;try{e=(await M4(async()=>{const{default:i}=await import("./index-DP30vJWn.js");return{default:i}},[])).default}catch(i){throw new rK(i==null?void 0:i.message,i)}let r;try{r=new e({network:this._config.network})}catch(i){throw new Pu(i==null?void 0:i.message,i)}if(this._connecting=!0,!r.connected)try{await r.connect()}catch(i){throw new Cc(i==null?void 0:i.message,i)}if(!r.publicKey)throw new Cc;let n;try{n=new me(r.publicKey.toBytes())}catch(i){throw new Rd(i==null?void 0:i.message,i)}r.on("disconnect",this._disconnected),r.on("accountChanged",this._accountChanged),this._wallet=r,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(r){this.emit("error",new CS(r==null?void 0:r.message,r))}}this.emit("disconnect")}async sendTransaction(e,r,n={}){try{const i=this._wallet;if(!i)throw new jr;try{const{signers:s,...o}=n;return Xo(e)?s!=null&&s.length&&e.sign(s):(e=await this.prepareTransaction(e,r,o),s!=null&&s.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||r.commitment,await i.signAndSendTransaction(e,o)}catch(s){throw s instanceof tn?s:new Jo(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const r=this._wallet;if(!r)throw new jr;try{return await r.signTransaction(e)||e}catch(n){throw new Ii(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(e){try{const r=this._wallet;if(!r)throw new jr;try{return await r.signAllTransactions(e)||e}catch(n){throw new Ii(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(e){try{const r=this._wallet;if(!r)throw new jr;try{return await r.signMessage(e,"utf8")}catch(n){throw new Ny(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}}const k4={setVisible(t){console.error(T4("call","setVisible"))},visible:!1};Object.defineProperty(k4,"visible",{get(){return console.error(T4("read","visible")),!1}});function T4(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const I4=M.createContext(k4);function FS(){return M.useContext(I4)}function PZ({onSelectWallet:t}){const{connect:e,connected:r,connecting:n,disconnect:i,disconnecting:s,publicKey:o,select:l,wallet:f,wallets:h}=ef();let p;n?p="connecting":r?p="connected":s?p="disconnecting":f?p="has-wallet":p="no-wallet";const v=M.useCallback(()=>{e().catch(()=>{})},[e]),E=M.useCallback(()=>{i().catch(()=>{})},[i]),b=M.useCallback(()=>{t({onSelectWallet:l,wallets:h})},[t,l,h]);return{buttonState:p,onConnect:p==="has-wallet"?v:void 0,onDisconnect:p!=="disconnecting"&&p!=="no-wallet"?E:void 0,onSelectWallet:b,publicKey:o??void 0,walletIcon:f==null?void 0:f.adapter.icon,walletName:f==null?void 0:f.adapter.name}}const C4=t=>J.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&J.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&J.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),j4=({wallet:t,...e})=>t&&J.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function LZ({walletIcon:t,walletName:e,...r}){return J.createElement(C4,{...r,className:"wallet-adapter-button-trigger",startIcon:t&&e?J.createElement(j4,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function DZ({children:t,labels:e,...r}){const{setVisible:n}=FS(),{buttonState:i,onConnect:s,onDisconnect:o,publicKey:l,walletIcon:f,walletName:h}=PZ({onSelectWallet(){n(!0)}}),[p,v]=M.useState(!1),[E,b]=M.useState(!1),k=M.useRef(null);M.useEffect(()=>{const A=R=>{const T=k.current;!T||T.contains(R.target)||b(!1)};return document.addEventListener("mousedown",A),document.addEventListener("touchstart",A),()=>{document.removeEventListener("mousedown",A),document.removeEventListener("touchstart",A)}},[]);const N=M.useMemo(()=>{if(t)return t;if(l){const A=l.toBase58();return A.slice(0,4)+".."+A.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,t,e,l]);return J.createElement("div",{className:"wallet-adapter-dropdown"},J.createElement(LZ,{...r,"aria-expanded":E,style:{pointerEvents:E?"none":"auto",...r.style},onClick:()=>{switch(i){case"no-wallet":n(!0);break;case"has-wallet":s&&s();break;case"connected":b(!0);break}},walletIcon:f,walletName:h},N),J.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${E&&"wallet-adapter-dropdown-list-active"}`,ref:k,role:"menu"},l?J.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(l.toBase58()),v(!0),setTimeout(()=>v(!1),400)},role:"menuitem"},p?e.copied:e["copy-address"]):null,J.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),b(!1)},role:"menuitem"},e["change-wallet"]),o?J.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),b(!1)},role:"menuitem"},e.disconnect):null))}const dA=({id:t,children:e,expanded:r=!1})=>{const n=M.useRef(null),i=M.useRef(!0),s="height 250ms ease-out",o=()=>{const f=n.current;f&&requestAnimationFrame(()=>{f.style.height=f.scrollHeight+"px"})},l=()=>{const f=n.current;f&&requestAnimationFrame(()=>{f.style.height=f.offsetHeight+"px",f.style.overflow="hidden",requestAnimationFrame(()=>{f.style.height="0"})})};return M.useLayoutEffect(()=>{r?o():l()},[r]),M.useLayoutEffect(()=>{const f=n.current;if(!f)return;function h(){f&&(f.style.overflow=r?"initial":"hidden",r&&(f.style.height="auto"))}function p(v){f&&v.target===f&&v.propertyName==="height"&&h()}return i.current&&(h(),i.current=!1),f.addEventListener("transitionend",p),()=>f.removeEventListener("transitionend",p)},[r]),J.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:n,role:"region",style:{height:0,transition:i.current?void 0:s}},e)},Dw=({handleClick:t,tabIndex:e,wallet:r})=>J.createElement("li",null,J.createElement(C4,{onClick:t,startIcon:J.createElement(j4,{wallet:r}),tabIndex:e},r.adapter.name,r.readyState===Ct.Installed&&J.createElement("span",null,"Detected"))),BZ=()=>J.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),J.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),J.createElement("g",{clipPath:"url(#clip0_880_5115)"},J.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),J.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),J.createElement("defs",null,J.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("clipPath",{id:"clip0_880_5115"},J.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),UZ=({className:t="",container:e="body"})=>{const r=M.useRef(null),{wallets:n,select:i}=ef(),{setVisible:s}=FS(),[o,l]=M.useState(!1),[f,h]=M.useState(!1),[p,v]=M.useState(null),[E,b]=M.useMemo(()=>{const C=[],j=[];for(const D of n)D.readyState===Ct.Installed?C.push(D):j.push(D);return C.length?[C,j]:[j,[]]},[n]),k=M.useCallback(()=>{h(!1),setTimeout(()=>s(!1),150)},[s]),N=M.useCallback(C=>{C.preventDefault(),k()},[k]),A=M.useCallback((C,j)=>{i(j),N(C)},[i,N]),R=M.useCallback(()=>l(!o),[o]),T=M.useCallback(C=>{const j=r.current;if(!j)return;const D=j.querySelectorAll("button"),U=D[0],L=D[D.length-1];C.shiftKey?document.activeElement===U&&(L.focus(),C.preventDefault()):document.activeElement===L&&(U.focus(),C.preventDefault())},[r]);return M.useLayoutEffect(()=>{const C=D=>{D.key==="Escape"?k():D.key==="Tab"&&T(D)},{overflow:j}=window.getComputedStyle(document.body);return setTimeout(()=>h(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",C,!1),()=>{document.body.style.overflow=j,window.removeEventListener("keydown",C,!1)}},[k,T]),M.useLayoutEffect(()=>v(document.querySelector(e)),[e]),p&&Il.createPortal(J.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${f&&"wallet-adapter-modal-fade-in"} ${t}`,ref:r,role:"dialog"},J.createElement("div",{className:"wallet-adapter-modal-container"},J.createElement("div",{className:"wallet-adapter-modal-wrapper"},J.createElement("button",{onClick:N,className:"wallet-adapter-modal-button-close"},J.createElement("svg",{width:"14",height:"14"},J.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),E.length?J.createElement(J.Fragment,null,J.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),J.createElement("ul",{className:"wallet-adapter-modal-list"},E.map(C=>J.createElement(Dw,{key:C.adapter.name,handleClick:j=>A(j,C.adapter.name),wallet:C})),b.length?J.createElement(dA,{expanded:o,id:"wallet-adapter-modal-collapse"},b.map(C=>J.createElement(Dw,{key:C.adapter.name,handleClick:j=>A(j,C.adapter.name),tabIndex:o?0:-1,wallet:C}))):null),b.length?J.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:R,tabIndex:0},J.createElement("span",null,o?"Less ":"More ","options"),J.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},J.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):J.createElement(J.Fragment,null,J.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),J.createElement("div",{className:"wallet-adapter-modal-middle"},J.createElement(BZ,null)),b.length?J.createElement(J.Fragment,null,J.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:R,tabIndex:0},J.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),J.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},J.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),J.createElement(dA,{expanded:o,id:"wallet-adapter-modal-collapse"},J.createElement("ul",{className:"wallet-adapter-modal-list"},b.map(C=>J.createElement(Dw,{key:C.adapter.name,handleClick:j=>A(j,C.adapter.name),tabIndex:o?0:-1,wallet:C}))))):null))),J.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:N})),p)},zZ=({children:t,...e})=>{const[r,n]=M.useState(!1);return J.createElement(I4.Provider,{value:{visible:r,setVisible:n}},t,r&&J.createElement(UZ,{...e}))},FZ={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function Bw(t){return J.createElement(DZ,{...t,labels:FZ})}const WZ=Mx.Devnet;function $Z(){return{network:WZ,endpoint:"https://api.devnet.solana.com",programId:"4eLJ3QGiNrPN6UUr2fNxq6tUZqFdBMVpXkL2MhsKNriv"}}const VZ=({children:t})=>{const{endpoint:e,network:r}=$Z(),n=M.useMemo(()=>[new AZ({network:r}),new OZ({network:r})],[r]);return u.jsx(OK,{endpoint:e,children:u.jsx(SZ,{wallets:n,autoConnect:!0,children:u.jsx(zZ,{children:t})})})},O4=({children:t})=>u.jsx(VZ,{children:u.jsx(jK,{children:t})}),HZ=1,KZ=1e6;let Uw=0;function qZ(){return Uw=(Uw+1)%Number.MAX_SAFE_INTEGER,Uw.toString()}const zw=new Map,fA=t=>{if(zw.has(t))return;const e=setTimeout(()=>{zw.delete(t),ih({type:"REMOVE_TOAST",toastId:t})},KZ);zw.set(t,e)},GZ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,HZ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?fA(r):t.toasts.forEach(n=>{fA(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},dm=[];let fm={toasts:[]};function ih(t){fm=GZ(fm,t),dm.forEach(e=>{e(fm)})}function ZZ({...t}){const e=qZ(),r=i=>ih({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>ih({type:"DISMISS_TOAST",toastId:e});return ih({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Zs(){const[t,e]=M.useState(fm);return M.useEffect(()=>(dm.push(e),()=>{const r=dm.indexOf(e);r>-1&&dm.splice(r,1)}),[t]),{...t,toast:ZZ,dismiss:r=>ih({type:"DISMISS_TOAST",toastId:r})}}function qe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function hA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WS(...t){return e=>{let r=!1;const n=t.map(i=>{const s=hA(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():hA(t[i],null)}}}}function It(...t){return M.useCallback(WS(...t),t)}function YZ(t,e){const r=M.createContext(e),n=s=>{const{children:o,...l}=s,f=M.useMemo(()=>l,Object.values(l));return u.jsx(r.Provider,{value:f,children:o})};n.displayName=t+"Provider";function i(s){const o=M.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Ys(t,e=[]){let r=[];function n(s,o){const l=M.createContext(o),f=r.length;r=[...r,o];const h=v=>{var R;const{scope:E,children:b,...k}=v,N=((R=E==null?void 0:E[t])==null?void 0:R[f])||l,A=M.useMemo(()=>k,Object.values(k));return u.jsx(N.Provider,{value:A,children:b})};h.displayName=s+"Provider";function p(v,E){var N;const b=((N=E==null?void 0:E[t])==null?void 0:N[f])||l,k=M.useContext(b);if(k)return k;if(o!==void 0)return o;throw new Error(`\`${v}\` must be used within \`${s}\``)}return[h,p]}const i=()=>{const s=r.map(o=>M.createContext(o));return function(l){const f=(l==null?void 0:l[t])||s;return M.useMemo(()=>({[`__scope${t}`]:{...l,[t]:f}}),[l,f])}};return i.scopeName=t,[n,QZ(i,...e)]}function QZ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:f,scopeName:h})=>{const v=f(s)[`__scope${h}`];return{...l,...v}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function jc(t){const e=JZ(t),r=M.forwardRef((n,i)=>{const{children:s,...o}=n,l=M.Children.toArray(s),f=l.find(XZ);if(f){const h=f.props.children,p=l.map(v=>v===f?M.Children.count(h)>1?M.Children.only(null):M.isValidElement(h)?h.props.children:null:v);return u.jsx(e,{...o,ref:i,children:M.isValidElement(h)?M.cloneElement(h,void 0,p):null})}return u.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var P4=jc("Slot");function JZ(t){const e=M.forwardRef((r,n)=>{const{children:i,...s}=r,o=M.isValidElement(i)?tY(i):void 0,l=It(o,n);if(M.isValidElement(i)){const f=eY(s,i.props);return i.type!==M.Fragment&&(f.ref=l),M.cloneElement(i,f)}return M.Children.count(i)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var L4=Symbol("radix.slottable");function D4(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=L4,e}function XZ(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===L4}function eY(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const f=s(...l);return i(...l),f}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function tY(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Oy(t){const e=t+"CollectionProvider",[r,n]=Ys(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=N=>{const{scope:A,children:R}=N,T=J.useRef(null),C=J.useRef(new Map).current;return u.jsx(i,{scope:A,itemMap:C,collectionRef:T,children:R})};o.displayName=e;const l=t+"CollectionSlot",f=jc(l),h=J.forwardRef((N,A)=>{const{scope:R,children:T}=N,C=s(l,R),j=It(A,C.collectionRef);return u.jsx(f,{ref:j,children:T})});h.displayName=l;const p=t+"CollectionItemSlot",v="data-radix-collection-item",E=jc(p),b=J.forwardRef((N,A)=>{const{scope:R,children:T,...C}=N,j=J.useRef(null),D=It(A,j),U=s(p,R);return J.useEffect(()=>(U.itemMap.set(j,{ref:j,...C}),()=>void U.itemMap.delete(j))),u.jsx(E,{[v]:"",ref:D,children:T})});b.displayName=p;function k(N){const A=s(t+"CollectionConsumer",N);return J.useCallback(()=>{const T=A.collectionRef.current;if(!T)return[];const C=Array.from(T.querySelectorAll(`[${v}]`));return Array.from(A.itemMap.values()).sort((U,L)=>C.indexOf(U.ref.current)-C.indexOf(L.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:h,ItemSlot:b},k,n]}var rY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ft=rY.reduce((t,e)=>{const r=jc(`Primitive.${e}`),n=M.forwardRef((i,s)=>{const{asChild:o,...l}=i,f=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(f,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function $S(t,e){t&&Il.flushSync(()=>t.dispatchEvent(e))}function Cr(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function nY(t,e=globalThis==null?void 0:globalThis.document){const r=Cr(t);M.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var sY="DismissableLayer",ab="dismissableLayer.update",iY="dismissableLayer.pointerDownOutside",oY="dismissableLayer.focusOutside",pA,B4=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tf=M.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...f}=t,h=M.useContext(B4),[p,v]=M.useState(null),E=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=M.useState({}),k=It(e,L=>v(L)),N=Array.from(h.layers),[A]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),R=N.indexOf(A),T=p?N.indexOf(p):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,j=T>=R,D=lY(L=>{const F=L.target,W=[...h.branches].some(q=>q.contains(F));!j||W||(i==null||i(L),o==null||o(L),L.defaultPrevented||l==null||l())},E),U=cY(L=>{const F=L.target;[...h.branches].some(q=>q.contains(F))||(s==null||s(L),o==null||o(L),L.defaultPrevented||l==null||l())},E);return nY(L=>{T===h.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&l&&(L.preventDefault(),l()))},E),M.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(pA=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),mA(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=pA)}},[p,E,r,h]),M.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),mA())},[p,h]),M.useEffect(()=>{const L=()=>b({});return document.addEventListener(ab,L),()=>document.removeEventListener(ab,L)},[]),u.jsx(ft.div,{...f,ref:k,style:{pointerEvents:C?j?"auto":"none":void 0,...t.style},onFocusCapture:qe(t.onFocusCapture,U.onFocusCapture),onBlurCapture:qe(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:qe(t.onPointerDownCapture,D.onPointerDownCapture)})});tf.displayName=sY;var aY="DismissableLayerBranch",U4=M.forwardRef((t,e)=>{const r=M.useContext(B4),n=M.useRef(null),i=It(e,n);return M.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),u.jsx(ft.div,{...t,ref:i})});U4.displayName=aY;function lY(t,e=globalThis==null?void 0:globalThis.document){const r=Cr(t),n=M.useRef(!1),i=M.useRef(()=>{});return M.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let f=function(){z4(iY,r,h,{discrete:!0})};const h={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function cY(t,e=globalThis==null?void 0:globalThis.document){const r=Cr(t),n=M.useRef(!1);return M.useEffect(()=>{const i=s=>{s.target&&!n.current&&z4(oY,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mA(){const t=new CustomEvent(ab);document.dispatchEvent(t)}function z4(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?$S(i,s):i.dispatchEvent(s)}var uY=tf,dY=U4,Fr=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},fY="Portal",Np=M.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,s]=M.useState(!1);Fr(()=>s(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?WT.createPortal(u.jsx(ft.div,{...n,ref:e}),o):null});Np.displayName=fY;function hY(t,e){return M.useReducer((r,n)=>e[r][n]??r,t)}var gs=t=>{const{present:e,children:r}=t,n=pY(e),i=typeof r=="function"?r({present:n.isPresent}):M.Children.only(r),s=It(n.ref,mY(i));return typeof r=="function"||n.isPresent?M.cloneElement(i,{ref:s}):null};gs.displayName="Presence";function pY(t){const[e,r]=M.useState(),n=M.useRef(null),i=M.useRef(t),s=M.useRef("none"),o=t?"mounted":"unmounted",[l,f]=hY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const h=E0(n.current);s.current=l==="mounted"?h:"none"},[l]),Fr(()=>{const h=n.current,p=i.current;if(p!==t){const E=s.current,b=E0(h);t?f("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&E!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),Fr(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,v=b=>{const N=E0(n.current).includes(b.animationName);if(b.target===e&&N&&(f("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},E=b=>{b.target===e&&(s.current=E0(n.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:M.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function E0(t){return(t==null?void 0:t.animationName)||"none"}function mY(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var gY=Wb[" useInsertionEffect ".trim().toString()]||Fr;function Oc({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=yY({defaultProp:e,onChange:r}),l=t!==void 0,f=l?t:i;{const p=M.useRef(t!==void 0);M.useEffect(()=>{const v=p.current;v!==l&&console.warn(`${n} is changing from ${v?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,n])}const h=M.useCallback(p=>{var v;if(l){const E=vY(p)?p(t):p;E!==t&&((v=o.current)==null||v.call(o,E))}else s(p)},[l,t,s,o]);return[f,h]}function yY({defaultProp:t,onChange:e}){const[r,n]=M.useState(t),i=M.useRef(r),s=M.useRef(e);return gY(()=>{s.current=e},[e]),M.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function vY(t){return typeof t=="function"}var F4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wY="VisuallyHidden",Py=M.forwardRef((t,e)=>u.jsx(ft.span,{...t,ref:e,style:{...F4,...t.style}}));Py.displayName=wY;var xY=Py,VS="ToastProvider",[HS,bY,_Y]=Oy("Toast"),[W4,Hle]=Ys("Toast",[_Y]),[SY,Ly]=W4(VS),$4=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,f]=M.useState(null),[h,p]=M.useState(0),v=M.useRef(!1),E=M.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${VS}\`. Expected non-empty \`string\`.`),u.jsx(HS.Provider,{scope:e,children:u.jsx(SY,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:l,onViewportChange:f,onToastAdd:M.useCallback(()=>p(b=>b+1),[]),onToastRemove:M.useCallback(()=>p(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:o})})};$4.displayName=VS;var V4="ToastViewport",EY=["F8"],lb="toast.viewportPause",cb="toast.viewportResume",H4=M.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=EY,label:i="Notifications ({hotkey})",...s}=t,o=Ly(V4,r),l=bY(r),f=M.useRef(null),h=M.useRef(null),p=M.useRef(null),v=M.useRef(null),E=It(e,v,o.onViewportChange),b=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=o.toastCount>0;M.useEffect(()=>{const A=R=>{var C;n.length!==0&&n.every(j=>R[j]||R.code===j)&&((C=v.current)==null||C.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[n]),M.useEffect(()=>{const A=f.current,R=v.current;if(k&&A&&R){const T=()=>{if(!o.isClosePausedRef.current){const U=new CustomEvent(lb);R.dispatchEvent(U),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const U=new CustomEvent(cb);R.dispatchEvent(U),o.isClosePausedRef.current=!1}},j=U=>{!A.contains(U.relatedTarget)&&C()},D=()=>{A.contains(document.activeElement)||C()};return A.addEventListener("focusin",T),A.addEventListener("focusout",j),A.addEventListener("pointermove",T),A.addEventListener("pointerleave",D),window.addEventListener("blur",T),window.addEventListener("focus",C),()=>{A.removeEventListener("focusin",T),A.removeEventListener("focusout",j),A.removeEventListener("pointermove",T),A.removeEventListener("pointerleave",D),window.removeEventListener("blur",T),window.removeEventListener("focus",C)}}},[k,o.isClosePausedRef]);const N=M.useCallback(({tabbingDirection:A})=>{const T=l().map(C=>{const j=C.ref.current,D=[j,...DY(j)];return A==="forwards"?D:D.reverse()});return(A==="forwards"?T.reverse():T).flat()},[l]);return M.useEffect(()=>{const A=v.current;if(A){const R=T=>{var D,U,L;const C=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!C){const F=document.activeElement,W=T.shiftKey;if(T.target===A&&W){(D=h.current)==null||D.focus();return}const K=N({tabbingDirection:W?"backwards":"forwards"}),x=K.findIndex(a=>a===F);Fw(K.slice(x+1))?T.preventDefault():W?(U=h.current)==null||U.focus():(L=p.current)==null||L.focus()}};return A.addEventListener("keydown",R),()=>A.removeEventListener("keydown",R)}},[l,N]),u.jsxs(dY,{ref:f,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&u.jsx(ub,{ref:h,onFocusFromOutsideViewport:()=>{const A=N({tabbingDirection:"forwards"});Fw(A)}}),u.jsx(HS.Slot,{scope:r,children:u.jsx(ft.ol,{tabIndex:-1,...s,ref:E})}),k&&u.jsx(ub,{ref:p,onFocusFromOutsideViewport:()=>{const A=N({tabbingDirection:"backwards"});Fw(A)}})]})});H4.displayName=V4;var K4="ToastFocusProxy",ub=M.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=Ly(K4,r);return u.jsx(Py,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var h;const l=o.relatedTarget;!((h=s.viewport)!=null&&h.contains(l))&&n()}})});ub.displayName=K4;var Mp="Toast",NY="toast.swipeStart",MY="toast.swipeMove",AY="toast.swipeCancel",RY="toast.swipeEnd",q4=M.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[l,f]=Oc({prop:n,defaultProp:i??!0,onChange:s,caller:Mp});return u.jsx(gs,{present:r||l,children:u.jsx(IY,{open:l,...o,ref:e,onClose:()=>f(!1),onPause:Cr(t.onPause),onResume:Cr(t.onResume),onSwipeStart:qe(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(t.onSwipeMove,h=>{const{x:p,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:qe(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(t.onSwipeEnd,h=>{const{x:p,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),f(!1)})})})});q4.displayName=Mp;var[kY,TY]=W4(Mp,{onClose(){}}),IY=M.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:f,onResume:h,onSwipeStart:p,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:b,...k}=t,N=Ly(Mp,r),[A,R]=M.useState(null),T=It(e,a=>R(a)),C=M.useRef(null),j=M.useRef(null),D=i||N.duration,U=M.useRef(0),L=M.useRef(D),F=M.useRef(0),{onToastAdd:W,onToastRemove:q}=N,V=Cr(()=>{var d;(A==null?void 0:A.contains(document.activeElement))&&((d=N.viewport)==null||d.focus()),o()}),K=M.useCallback(a=>{!a||a===1/0||(window.clearTimeout(F.current),U.current=new Date().getTime(),F.current=window.setTimeout(V,a))},[V]);M.useEffect(()=>{const a=N.viewport;if(a){const d=()=>{K(L.current),h==null||h()},m=()=>{const y=new Date().getTime()-U.current;L.current=L.current-y,window.clearTimeout(F.current),f==null||f()};return a.addEventListener(lb,m),a.addEventListener(cb,d),()=>{a.removeEventListener(lb,m),a.removeEventListener(cb,d)}}},[N.viewport,D,f,h,K]),M.useEffect(()=>{s&&!N.isClosePausedRef.current&&K(D)},[s,D,N.isClosePausedRef,K]),M.useEffect(()=>(W(),()=>q()),[W,q]);const x=M.useMemo(()=>A?e3(A):null,[A]);return N.viewport?u.jsxs(u.Fragment,{children:[x&&u.jsx(CY,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:x}),u.jsx(kY,{scope:r,onClose:V,children:Il.createPortal(u.jsx(HS.ItemSlot,{scope:r,children:u.jsx(uY,{asChild:!0,onEscapeKeyDown:qe(l,()=>{N.isFocusedToastEscapeKeyDownRef.current||V(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ft.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":N.swipeDirection,...k,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:qe(t.onKeyDown,a=>{a.key==="Escape"&&(l==null||l(a.nativeEvent),a.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:qe(t.onPointerDown,a=>{a.button===0&&(C.current={x:a.clientX,y:a.clientY})}),onPointerMove:qe(t.onPointerMove,a=>{if(!C.current)return;const d=a.clientX-C.current.x,m=a.clientY-C.current.y,y=!!j.current,g=["left","right"].includes(N.swipeDirection),S=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,I=g?S(0,d):0,w=g?0:S(0,m),c=a.pointerType==="touch"?10:2,_={x:I,y:w},$={originalEvent:a,delta:_};y?(j.current=_,N0(MY,v,$,{discrete:!1})):gA(_,N.swipeDirection,c)?(j.current=_,N0(NY,p,$,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(d)>c||Math.abs(m)>c)&&(C.current=null)}),onPointerUp:qe(t.onPointerUp,a=>{const d=j.current,m=a.target;if(m.hasPointerCapture(a.pointerId)&&m.releasePointerCapture(a.pointerId),j.current=null,C.current=null,d){const y=a.currentTarget,g={originalEvent:a,delta:d};gA(d,N.swipeDirection,N.swipeThreshold)?N0(RY,b,g,{discrete:!0}):N0(AY,E,g,{discrete:!0}),y.addEventListener("click",S=>S.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),CY=t=>{const{__scopeToast:e,children:r,...n}=t,i=Ly(Mp,e),[s,o]=M.useState(!1),[l,f]=M.useState(!1);return PY(()=>o(!0)),M.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),l?null:u.jsx(Np,{asChild:!0,children:u.jsx(Py,{...n,children:s&&u.jsxs(u.Fragment,{children:[i.label," ",r]})})})},jY="ToastTitle",G4=M.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(ft.div,{...n,ref:e})});G4.displayName=jY;var OY="ToastDescription",Z4=M.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(ft.div,{...n,ref:e})});Z4.displayName=OY;var Y4="ToastAction",Q4=M.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?u.jsx(X4,{altText:r,asChild:!0,children:u.jsx(KS,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Y4}\`. Expected non-empty \`string\`.`),null)});Q4.displayName=Y4;var J4="ToastClose",KS=M.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=TY(J4,r);return u.jsx(X4,{asChild:!0,children:u.jsx(ft.button,{type:"button",...n,ref:e,onClick:qe(t.onClick,i.onClose)})})});KS.displayName=J4;var X4=M.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return u.jsx(ft.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function e3(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),LY(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...e3(n))}}),e}function N0(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?$S(i,s):i.dispatchEvent(s)}var gA=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function PY(t=()=>{}){const e=Cr(t);Fr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function LY(t){return t.nodeType===t.ELEMENT_NODE}function DY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Fw(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var BY=$4,t3=H4,r3=q4,n3=G4,s3=Z4,i3=Q4,o3=KS;function a3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=a3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function l3(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=a3(t))&&(n&&(n+=" "),n+=e);return n}const yA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vA=l3,rf=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return vA(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(h=>{const p=r==null?void 0:r[h],v=s==null?void 0:s[h];if(p===null)return null;const E=yA(p)||yA(v);return i[h][E]}),l=r&&Object.entries(r).reduce((h,p)=>{let[v,E]=p;return E===void 0||(h[v]=E),h},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:v,className:E,...b}=p;return Object.entries(b).every(k=>{let[N,A]=k;return Array.isArray(A)?A.includes({...s,...l}[N]):{...s,...l}[N]===A})?[...h,v,E]:h},[]);return vA(t,o,f,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},f)=>M.createElement("svg",{ref:f,...zY,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:c3("lucide",i),...l},[...o.map(([h,p])=>M.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(t,e)=>{const r=M.forwardRef(({className:n,...i},s)=>M.createElement(FY,{ref:s,iconNode:e,className:c3(`lucide-${UY(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=wt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=wt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=wt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=wt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=wt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=wt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=wt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=wt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=wt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=wt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=wt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=wt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=wt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=wt("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=wt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=wt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=wt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=wt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=wt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=wt("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=wt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=wt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=wt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=wt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=wt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=wt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=wt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=wt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=wt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=wt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=wt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=wt("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=wt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=wt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=wt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=wt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),GS="-",nQ=t=>{const e=iQ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(GS);return l[0]===""&&l.length!==1&&l.shift(),y3(l,e)||sQ(o)},getConflictingClassGroupIds:(o,l)=>{const f=r[o]||[];return l&&n[o]?[...f,...n[o]]:f}}},y3=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?y3(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(GS);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},xA=/^\[(.+)\]$/,sQ=t=>{if(xA.test(t)){const e=xA.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},iQ=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return aQ(Object.entries(t.classGroups),r).forEach(([s,o])=>{pb(o,n,s,e)}),n},pb=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:bA(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(oQ(i)){pb(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{pb(o,bA(e,s),r,n)})})},bA=(t,e)=>{let r=t;return e.split(GS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},oQ=t=>t.isThemeGetter,aQ=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[r,i]}):t,lQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},v3="!",cQ=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=l=>{const f=[];let h=0,p=0,v;for(let A=0;A<l.length;A++){let R=l[A];if(h===0){if(R===i&&(n||l.slice(A,A+s)===e)){f.push(l.slice(p,A)),p=A+s;continue}if(R==="/"){v=A;continue}}R==="["?h++:R==="]"&&h--}const E=f.length===0?l:l.substring(p),b=E.startsWith(v3),k=b?E.substring(1):E,N=v&&v>p?v-p:void 0;return{modifiers:f,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:N}};return r?l=>r({className:l,parseClassName:o}):o},uQ=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},dQ=t=>({cache:lQ(t.cacheSize),parseClassName:cQ(t),...nQ(t)}),fQ=/\s+/,hQ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(fQ);let l="";for(let f=o.length-1;f>=0;f-=1){const h=o[f],{modifiers:p,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:b}=r(h);let k=!!b,N=n(k?E.substring(0,b):E);if(!N){if(!k){l=h+(l.length>0?" "+l:l);continue}if(N=n(E),!N){l=h+(l.length>0?" "+l:l);continue}k=!1}const A=uQ(p).join(":"),R=v?A+v3:A,T=R+N;if(s.includes(T))continue;s.push(T);const C=i(N,k);for(let j=0;j<C.length;++j){const D=C[j];s.push(R+D)}l=h+(l.length>0?" "+l:l)}return l};function pQ(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=w3(e))&&(n&&(n+=" "),n+=r);return n}const w3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=w3(t[n]))&&(r&&(r+=" "),r+=e);return r};function mQ(t,...e){let r,n,i,s=o;function o(f){const h=e.reduce((p,v)=>v(p),t());return r=dQ(h),n=r.cache.get,i=r.cache.set,s=l,l(f)}function l(f){const h=n(f);if(h)return h;const p=hQ(f,r);return i(f,p),p}return function(){return s(pQ.apply(null,arguments))}}const lr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},x3=/^\[(?:([a-z-]+):)?(.+)\]$/i,gQ=/^\d+\/\d+$/,yQ=new Set(["px","full","screen"]),vQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_Q=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,To=t=>Yu(t)||yQ.has(t)||gQ.test(t),Ea=t=>nf(t,"length",TQ),Yu=t=>!!t&&!Number.isNaN(Number(t)),$w=t=>nf(t,"number",Yu),Sf=t=>!!t&&Number.isInteger(Number(t)),SQ=t=>t.endsWith("%")&&Yu(t.slice(0,-1)),Mt=t=>x3.test(t),Na=t=>vQ.test(t),EQ=new Set(["length","size","percentage"]),NQ=t=>nf(t,EQ,b3),MQ=t=>nf(t,"position",b3),AQ=new Set(["image","url"]),RQ=t=>nf(t,AQ,CQ),kQ=t=>nf(t,"",IQ),Ef=()=>!0,nf=(t,e,r)=>{const n=x3.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},TQ=t=>wQ.test(t)&&!xQ.test(t),b3=()=>!1,IQ=t=>bQ.test(t),CQ=t=>_Q.test(t),jQ=()=>{const t=lr("colors"),e=lr("spacing"),r=lr("blur"),n=lr("brightness"),i=lr("borderColor"),s=lr("borderRadius"),o=lr("borderSpacing"),l=lr("borderWidth"),f=lr("contrast"),h=lr("grayscale"),p=lr("hueRotate"),v=lr("invert"),E=lr("gap"),b=lr("gradientColorStops"),k=lr("gradientColorStopPositions"),N=lr("inset"),A=lr("margin"),R=lr("opacity"),T=lr("padding"),C=lr("saturate"),j=lr("scale"),D=lr("sepia"),U=lr("skew"),L=lr("space"),F=lr("translate"),W=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Mt,e],K=()=>[Mt,e],x=()=>["",To,Ea],a=()=>["auto",Yu,Mt],d=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],m=()=>["solid","dashed","dotted","double","none"],y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],g=()=>["start","end","center","between","around","evenly","stretch"],S=()=>["","0",Mt],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>[Yu,Mt];return{cacheSize:500,separator:":",theme:{colors:[Ef],spacing:[To,Ea],blur:["none","",Na,Mt],brightness:w(),borderColor:[t],borderRadius:["none","","full",Na,Mt],borderSpacing:K(),borderWidth:x(),contrast:w(),grayscale:S(),hueRotate:w(),invert:S(),gap:K(),gradientColorStops:[t],gradientColorStopPositions:[SQ,Ea],inset:V(),margin:V(),opacity:w(),padding:K(),saturate:w(),scale:w(),sepia:S(),skew:w(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",Mt]}],container:["container"],columns:[{columns:[Na]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...d(),Mt]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sf,Mt]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mt]}],grow:[{grow:S()}],shrink:[{shrink:S()}],order:[{order:["first","last","none",Sf,Mt]}],"grid-cols":[{"grid-cols":[Ef]}],"col-start-end":[{col:["auto",{span:["full",Sf,Mt]},Mt]}],"col-start":[{"col-start":a()}],"col-end":[{"col-end":a()}],"grid-rows":[{"grid-rows":[Ef]}],"row-start-end":[{row:["auto",{span:[Sf,Mt]},Mt]}],"row-start":[{"row-start":a()}],"row-end":[{"row-end":a()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mt]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...g()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...g(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...g(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Mt,e]}],"min-w":[{"min-w":[Mt,e,"min","max","fit"]}],"max-w":[{"max-w":[Mt,e,"none","full","min","max","fit","prose",{screen:[Na]},Na]}],h:[{h:[Mt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Mt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Mt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Mt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Na,Ea]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$w]}],"font-family":[{font:[Ef]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mt]}],"line-clamp":[{"line-clamp":["none",Yu,$w]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",To,Mt]}],"list-image":[{"list-image":["none",Mt]}],"list-style-type":[{list:["none","disc","decimal",Mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...m(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",To,Ea]}],"underline-offset":[{"underline-offset":["auto",To,Mt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...d(),MQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...m(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:m()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...m()]}],"outline-offset":[{"outline-offset":[To,Mt]}],"outline-w":[{outline:[To,Ea]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:x()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[To,Ea]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Na,kQ]}],"shadow-color":[{shadow:[Ef]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Na,Mt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[v]}],saturate:[{saturate:[C]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mt]}],duration:[{duration:w()}],ease:[{ease:["linear","in","out","in-out",Mt]}],delay:[{delay:w()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Sf,Mt]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[To,Ea,$w]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OQ=mQ(jQ);function Ye(...t){return OQ(l3(t))}const PQ=BY,_3=M.forwardRef(({className:t,...e},r)=>u.jsx(t3,{ref:r,className:Ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_3.displayName=t3.displayName;const LQ=rf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),S3=M.forwardRef(({className:t,variant:e,...r},n)=>u.jsx(r3,{ref:n,className:Ye(LQ({variant:e}),t),...r}));S3.displayName=r3.displayName;const DQ=M.forwardRef(({className:t,...e},r)=>u.jsx(i3,{ref:r,className:Ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));DQ.displayName=i3.displayName;const E3=M.forwardRef(({className:t,...e},r)=>u.jsx(o3,{ref:r,className:Ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Od,{className:"h-4 w-4"})}));E3.displayName=o3.displayName;const N3=M.forwardRef(({className:t,...e},r)=>u.jsx(n3,{ref:r,className:Ye("text-sm font-semibold",t),...e}));N3.displayName=n3.displayName;const M3=M.forwardRef(({className:t,...e},r)=>u.jsx(s3,{ref:r,className:Ye("text-sm opacity-90",t),...e}));M3.displayName=s3.displayName;function BQ(){const{toasts:t}=Zs();return u.jsxs(PQ,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return u.jsxs(S3,{...s,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(N3,{children:r}),n&&u.jsx(M3,{children:n})]}),i,u.jsx(E3,{})]},e)}),u.jsx(_3,{})]})}var _A=["light","dark"],UQ="(prefers-color-scheme: dark)",zQ=M.createContext(void 0),FQ={setTheme:t=>{},themes:[]},WQ=()=>{var t;return(t=M.useContext(zQ))!=null?t:FQ};M.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:o,attrs:l,nonce:f})=>{let h=s==="system",p=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(k=>`'${k}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,v=i?_A.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",E=(k,N=!1,A=!0)=>{let R=o?o[k]:k,T=N?k+"|| ''":`'${R}'`,C="";return i&&A&&!N&&_A.includes(k)&&(C+=`d.style.colorScheme = '${k}';`),r==="class"?N||R?C+=`c.add(${T})`:C+="null":R&&(C+=`d[s](n,${T})`),C},b=t?`!function(){${p}${E(t)}}()`:n?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${UQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${E("dark")}}else{${E("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${E(o?"x[e]":"e",!0)}}${h?"":"else{"+E(s,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${E(o?"x[e]":"e",!0)}}else{${E(s,!1,!1)};}${v}}catch(t){}}();`;return M.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:b}})});const $Q=({...t})=>{const{theme:e="system"}=WQ();return u.jsx(CK,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var VQ=Wb[" useId ".trim().toString()]||(()=>{}),HQ=0;function ho(t){const[e,r]=M.useState(VQ());return Fr(()=>{r(n=>n??String(HQ++))},[t]),e?`radix-${e}`:""}const KQ=["top","right","bottom","left"],_l=Math.min,Bs=Math.max,pg=Math.round,M0=Math.floor,po=t=>({x:t,y:t}),qQ={left:"right",right:"left",bottom:"top",top:"bottom"},GQ={start:"end",end:"start"};function mb(t,e,r){return Bs(t,_l(e,r))}function da(t,e){return typeof t=="function"?t(e):t}function fa(t){return t.split("-")[0]}function sf(t){return t.split("-")[1]}function ZS(t){return t==="x"?"y":"x"}function YS(t){return t==="y"?"height":"width"}function ra(t){return["top","bottom"].includes(fa(t))?"y":"x"}function QS(t){return ZS(ra(t))}function ZQ(t,e,r){r===void 0&&(r=!1);const n=sf(t),i=QS(t),s=YS(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mg(o)),[o,mg(o)]}function YQ(t){const e=mg(t);return[gb(t),e,gb(e)]}function gb(t){return t.replace(/start|end/g,e=>GQ[e])}function QQ(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function JQ(t,e,r,n){const i=sf(t);let s=QQ(fa(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(gb)))),s}function mg(t){return t.replace(/left|right|bottom|top/g,e=>qQ[e])}function XQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function A3(t){return typeof t!="number"?XQ(t):{top:t,right:t,bottom:t,left:t}}function gg(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function SA(t,e,r){let{reference:n,floating:i}=t;const s=ra(e),o=QS(e),l=YS(o),f=fa(e),h=s==="y",p=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,E=n[l]/2-i[l]/2;let b;switch(f){case"top":b={x:p,y:n.y-i.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:v};break;case"left":b={x:n.x-i.width,y:v};break;default:b={x:n.x,y:n.y}}switch(sf(e)){case"start":b[o]-=E*(r&&h?-1:1);break;case"end":b[o]+=E*(r&&h?-1:1);break}return b}const eJ=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),f=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:v}=SA(h,n,f),E=n,b={},k=0;for(let N=0;N<l.length;N++){const{name:A,fn:R}=l[N],{x:T,y:C,data:j,reset:D}=await R({x:p,y:v,initialPlacement:n,placement:E,strategy:i,middlewareData:b,rects:h,platform:o,elements:{reference:t,floating:e}});p=T??p,v=C??v,b={...b,[A]:{...b[A],...j}},D&&k<=50&&(k++,typeof D=="object"&&(D.placement&&(E=D.placement),D.rects&&(h=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:p,y:v}=SA(h,E,f)),N=-1)}return{x:p,y:v,placement:E,strategy:i,middlewareData:b}};async function Uh(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:E=!1,padding:b=0}=da(e,t),k=A3(b),A=l[E?v==="floating"?"reference":"floating":v],R=gg(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(A)))==null||r?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:h,rootBoundary:p,strategy:f})),T=v==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},D=gg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:C,strategy:f}):T);return{top:(R.top-D.top+k.top)/j.y,bottom:(D.bottom-R.bottom+k.bottom)/j.y,left:(R.left-D.left+k.left)/j.x,right:(D.right-R.right+k.right)/j.x}}const tJ=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:f}=e,{element:h,padding:p=0}=da(t,e)||{};if(h==null)return{};const v=A3(p),E={x:r,y:n},b=QS(i),k=YS(b),N=await o.getDimensions(h),A=b==="y",R=A?"top":"left",T=A?"bottom":"right",C=A?"clientHeight":"clientWidth",j=s.reference[k]+s.reference[b]-E[b]-s.floating[k],D=E[b]-s.reference[b],U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let L=U?U[C]:0;(!L||!await(o.isElement==null?void 0:o.isElement(U)))&&(L=l.floating[C]||s.floating[k]);const F=j/2-D/2,W=L/2-N[k]/2-1,q=_l(v[R],W),V=_l(v[T],W),K=q,x=L-N[k]-V,a=L/2-N[k]/2+F,d=mb(K,a,x),m=!f.arrow&&sf(i)!=null&&a!==d&&s.reference[k]/2-(a<K?q:V)-N[k]/2<0,y=m?a<K?a-K:a-x:0;return{[b]:E[b]+y,data:{[b]:d,centerOffset:a-d-y,...m&&{alignmentOffset:y}},reset:m}}}),rJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:N=!0,...A}=da(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const R=fa(i),T=ra(l),C=fa(l)===l,j=await(f.isRTL==null?void 0:f.isRTL(h.floating)),D=E||(C||!N?[mg(l)]:YQ(l)),U=k!=="none";!E&&U&&D.push(...JQ(l,N,k,j));const L=[l,...D],F=await Uh(e,A),W=[];let q=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&W.push(F[R]),v){const d=ZQ(i,o,j);W.push(F[d[0]],F[d[1]])}if(q=[...q,{placement:i,overflows:W}],!W.every(d=>d<=0)){var V,K;const d=(((V=s.flip)==null?void 0:V.index)||0)+1,m=L[d];if(m){var x;const g=v==="alignment"?T!==ra(m):!1,S=((x=q[0])==null?void 0:x.overflows[0])>0;if(!g||S)return{data:{index:d,overflows:q},reset:{placement:m}}}let y=(K=q.filter(g=>g.overflows[0]<=0).sort((g,S)=>g.overflows[1]-S.overflows[1])[0])==null?void 0:K.placement;if(!y)switch(b){case"bestFit":{var a;const g=(a=q.filter(S=>{if(U){const I=ra(S.placement);return I===T||I==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(I=>I>0).reduce((I,w)=>I+w,0)]).sort((S,I)=>S[1]-I[1])[0])==null?void 0:a[0];g&&(y=g);break}case"initialPlacement":y=l;break}if(i!==y)return{reset:{placement:y}}}return{}}}};function EA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NA(t){return KQ.some(e=>t[e]>=0)}const nJ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=da(t,e);switch(n){case"referenceHidden":{const s=await Uh(e,{...i,elementContext:"reference"}),o=EA(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NA(o)}}}case"escaped":{const s=await Uh(e,{...i,altBoundary:!0}),o=EA(s,r.floating);return{data:{escapedOffsets:o,escaped:NA(o)}}}default:return{}}}}};async function sJ(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=fa(r),l=sf(r),f=ra(r)==="y",h=["left","top"].includes(o)?-1:1,p=s&&f?-1:1,v=da(e,t);let{mainAxis:E,crossAxis:b,alignmentAxis:k}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return l&&typeof k=="number"&&(b=l==="end"?k*-1:k),f?{x:b*p,y:E*h}:{x:E*h,y:b*p}}const iJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=e,f=await sJ(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:s+f.y,data:{...f,placement:o}}}}},oJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:A=>{let{x:R,y:T}=A;return{x:R,y:T}}},...f}=da(t,e),h={x:r,y:n},p=await Uh(e,f),v=ra(fa(i)),E=ZS(v);let b=h[E],k=h[v];if(s){const A=E==="y"?"top":"left",R=E==="y"?"bottom":"right",T=b+p[A],C=b-p[R];b=mb(T,b,C)}if(o){const A=v==="y"?"top":"left",R=v==="y"?"bottom":"right",T=k+p[A],C=k-p[R];k=mb(T,k,C)}const N=l.fn({...e,[E]:b,[v]:k});return{...N,data:{x:N.x-r,y:N.y-n,enabled:{[E]:s,[v]:o}}}}}},aJ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:f=!0,crossAxis:h=!0}=da(t,e),p={x:r,y:n},v=ra(i),E=ZS(v);let b=p[E],k=p[v];const N=da(l,e),A=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(f){const C=E==="y"?"height":"width",j=s.reference[E]-s.floating[C]+A.mainAxis,D=s.reference[E]+s.reference[C]-A.mainAxis;b<j?b=j:b>D&&(b=D)}if(h){var R,T;const C=E==="y"?"width":"height",j=["top","left"].includes(fa(i)),D=s.reference[v]-s.floating[C]+(j&&((R=o.offset)==null?void 0:R[v])||0)+(j?0:A.crossAxis),U=s.reference[v]+s.reference[C]+(j?0:((T=o.offset)==null?void 0:T[v])||0)-(j?A.crossAxis:0);k<D?k=D:k>U&&(k=U)}return{[E]:b,[v]:k}}}},lJ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:f=()=>{},...h}=da(t,e),p=await Uh(e,h),v=fa(i),E=sf(i),b=ra(i)==="y",{width:k,height:N}=s.floating;let A,R;v==="top"||v==="bottom"?(A=v,R=E===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(R=v,A=E==="end"?"top":"bottom");const T=N-p.top-p.bottom,C=k-p.left-p.right,j=_l(N-p[A],T),D=_l(k-p[R],C),U=!e.middlewareData.shift;let L=j,F=D;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(F=C),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(L=T),U&&!E){const q=Bs(p.left,0),V=Bs(p.right,0),K=Bs(p.top,0),x=Bs(p.bottom,0);b?F=k-2*(q!==0||V!==0?q+V:Bs(p.left,p.right)):L=N-2*(K!==0||x!==0?K+x:Bs(p.top,p.bottom))}await f({...e,availableWidth:F,availableHeight:L});const W=await o.getDimensions(l.floating);return k!==W.width||N!==W.height?{reset:{rects:!0}}:{}}}};function zy(){return typeof window<"u"}function of(t){return R3(t)?(t.nodeName||"").toLowerCase():"#document"}function Fs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function No(t){var e;return(e=(R3(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function R3(t){return zy()?t instanceof Node||t instanceof Fs(t).Node:!1}function Fi(t){return zy()?t instanceof Element||t instanceof Fs(t).Element:!1}function yo(t){return zy()?t instanceof HTMLElement||t instanceof Fs(t).HTMLElement:!1}function MA(t){return!zy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fs(t).ShadowRoot}function Ap(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Wi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function cJ(t){return["table","td","th"].includes(of(t))}function Fy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function JS(t){const e=XS(),r=Fi(t)?Wi(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function uJ(t){let e=Sl(t);for(;yo(e)&&!Pd(e);){if(JS(e))return e;if(Fy(e))return null;e=Sl(e)}return null}function XS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pd(t){return["html","body","#document"].includes(of(t))}function Wi(t){return Fs(t).getComputedStyle(t)}function Wy(t){return Fi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Sl(t){if(of(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MA(t)&&t.host||No(t);return MA(e)?e.host:e}function k3(t){const e=Sl(t);return Pd(e)?t.ownerDocument?t.ownerDocument.body:t.body:yo(e)&&Ap(e)?e:k3(e)}function zh(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=k3(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Fs(i);if(s){const l=yb(o);return e.concat(o,o.visualViewport||[],Ap(i)?i:[],l&&r?zh(l):[])}return e.concat(i,zh(i,[],r))}function yb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function T3(t){const e=Wi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=yo(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=pg(r)!==s||pg(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function eE(t){return Fi(t)?t:t.contextElement}function Qu(t){const e=eE(t);if(!yo(e))return po(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=T3(e);let o=(s?pg(r.width):r.width)/n,l=(s?pg(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dJ=po(0);function I3(t){const e=Fs(t);return!XS()||!e.visualViewport?dJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fJ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Fs(t)?!1:e}function Pc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=eE(t);let o=po(1);e&&(n?Fi(n)&&(o=Qu(n)):o=Qu(t));const l=fJ(s,r,n)?I3(s):po(0);let f=(i.left+l.x)/o.x,h=(i.top+l.y)/o.y,p=i.width/o.x,v=i.height/o.y;if(s){const E=Fs(s),b=n&&Fi(n)?Fs(n):n;let k=E,N=yb(k);for(;N&&n&&b!==k;){const A=Qu(N),R=N.getBoundingClientRect(),T=Wi(N),C=R.left+(N.clientLeft+parseFloat(T.paddingLeft))*A.x,j=R.top+(N.clientTop+parseFloat(T.paddingTop))*A.y;f*=A.x,h*=A.y,p*=A.x,v*=A.y,f+=C,h+=j,k=Fs(N),N=yb(k)}}return gg({width:p,height:v,x:f,y:h})}function tE(t,e){const r=Wy(t).scrollLeft;return e?e.left+r:Pc(No(t)).left+r}function C3(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:tE(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function hJ(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=No(n),l=e?Fy(e.floating):!1;if(n===o||l&&s)return r;let f={scrollLeft:0,scrollTop:0},h=po(1);const p=po(0),v=yo(n);if((v||!v&&!s)&&((of(n)!=="body"||Ap(o))&&(f=Wy(n)),yo(n))){const b=Pc(n);h=Qu(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const E=o&&!v&&!s?C3(o,f,!0):po(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+p.x+E.x,y:r.y*h.y-f.scrollTop*h.y+p.y+E.y}}function pJ(t){return Array.from(t.getClientRects())}function mJ(t){const e=No(t),r=Wy(t),n=t.ownerDocument.body,i=Bs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Bs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+tE(t);const l=-r.scrollTop;return Wi(n).direction==="rtl"&&(o+=Bs(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}function gJ(t,e){const r=Fs(t),n=No(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,f=0;if(i){s=i.width,o=i.height;const h=XS();(!h||h&&e==="fixed")&&(l=i.offsetLeft,f=i.offsetTop)}return{width:s,height:o,x:l,y:f}}function yJ(t,e){const r=Pc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=yo(t)?Qu(t):po(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,f=i*s.x,h=n*s.y;return{width:o,height:l,x:f,y:h}}function AA(t,e,r){let n;if(e==="viewport")n=gJ(t,r);else if(e==="document")n=mJ(No(t));else if(Fi(e))n=yJ(e,r);else{const i=I3(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gg(n)}function j3(t,e){const r=Sl(t);return r===e||!Fi(r)||Pd(r)?!1:Wi(r).position==="fixed"||j3(r,e)}function vJ(t,e){const r=e.get(t);if(r)return r;let n=zh(t,[],!1).filter(l=>Fi(l)&&of(l)!=="body"),i=null;const s=Wi(t).position==="fixed";let o=s?Sl(t):t;for(;Fi(o)&&!Pd(o);){const l=Wi(o),f=JS(o);!f&&l.position==="fixed"&&(i=null),(s?!f&&!i:!f&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ap(o)&&!f&&j3(t,o))?n=n.filter(p=>p!==o):i=l,o=Sl(o)}return e.set(t,n),n}function wJ(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?Fy(e)?[]:vJ(e,this._c):[].concat(r),n],l=o[0],f=o.reduce((h,p)=>{const v=AA(e,p,i);return h.top=Bs(v.top,h.top),h.right=_l(v.right,h.right),h.bottom=_l(v.bottom,h.bottom),h.left=Bs(v.left,h.left),h},AA(e,l,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function xJ(t){const{width:e,height:r}=T3(t);return{width:e,height:r}}function bJ(t,e,r){const n=yo(e),i=No(e),s=r==="fixed",o=Pc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const f=po(0);function h(){f.x=tE(i)}if(n||!n&&!s)if((of(e)!=="body"||Ap(i))&&(l=Wy(e)),n){const b=Pc(e,!0,s,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else i&&h();s&&!n&&i&&h();const p=i&&!n&&!s?C3(i,l):po(0),v=o.left+l.scrollLeft-f.x-p.x,E=o.top+l.scrollTop-f.y-p.y;return{x:v,y:E,width:o.width,height:o.height}}function Vw(t){return Wi(t).position==="static"}function RA(t,e){if(!yo(t)||Wi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return No(t)===r&&(r=r.ownerDocument.body),r}function O3(t,e){const r=Fs(t);if(Fy(t))return r;if(!yo(t)){let i=Sl(t);for(;i&&!Pd(i);){if(Fi(i)&&!Vw(i))return i;i=Sl(i)}return r}let n=RA(t,e);for(;n&&cJ(n)&&Vw(n);)n=RA(n,e);return n&&Pd(n)&&Vw(n)&&!JS(n)?r:n||uJ(t)||r}const _J=async function(t){const e=this.getOffsetParent||O3,r=this.getDimensions,n=await r(t.floating);return{reference:bJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function SJ(t){return Wi(t).direction==="rtl"}const EJ={convertOffsetParentRelativeRectToViewportRelativeRect:hJ,getDocumentElement:No,getClippingRect:wJ,getOffsetParent:O3,getElementRects:_J,getClientRects:pJ,getDimensions:xJ,getScale:Qu,isElement:Fi,isRTL:SJ};function P3(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NJ(t,e){let r=null,n;const i=No(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),s();const h=t.getBoundingClientRect(),{left:p,top:v,width:E,height:b}=h;if(l||e(),!E||!b)return;const k=M0(v),N=M0(i.clientWidth-(p+E)),A=M0(i.clientHeight-(v+b)),R=M0(p),C={rootMargin:-k+"px "+-N+"px "+-A+"px "+-R+"px",threshold:Bs(0,_l(1,f))||1};let j=!0;function D(U){const L=U[0].intersectionRatio;if(L!==f){if(!j)return o();L?o(!1,L):n=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!P3(h,t.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(D,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(D,C)}r.observe(t)}return o(!0),s}function MJ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=eE(t),p=i||s?[...h?zh(h):[],...zh(e)]:[];p.forEach(R=>{i&&R.addEventListener("scroll",r,{passive:!0}),s&&R.addEventListener("resize",r)});const v=h&&l?NJ(h,r):null;let E=-1,b=null;o&&(b=new ResizeObserver(R=>{let[T]=R;T&&T.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(e)})),r()}),h&&!f&&b.observe(h),b.observe(e));let k,N=f?Pc(t):null;f&&A();function A(){const R=Pc(t);N&&!P3(N,R)&&r(),N=R,k=requestAnimationFrame(A)}return r(),()=>{var R;p.forEach(T=>{i&&T.removeEventListener("scroll",r),s&&T.removeEventListener("resize",r)}),v==null||v(),(R=b)==null||R.disconnect(),b=null,f&&cancelAnimationFrame(k)}}const AJ=iJ,RJ=oJ,kJ=rJ,TJ=lJ,IJ=nJ,kA=tJ,CJ=aJ,jJ=(t,e,r)=>{const n=new Map,i={platform:EJ,...r},s={...i.platform,_c:n};return eJ(t,e,{...i,platform:s})};var pm=typeof document<"u"?M.useLayoutEffect:M.useEffect;function yg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!yg(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!yg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function L3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TA(t,e){const r=L3(t);return Math.round(e*r)/r}function Hw(t){const e=M.useRef(t);return pm(()=>{e.current=t}),e}function OJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:f,open:h}=t,[p,v]=M.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[E,b]=M.useState(n);yg(E,n)||b(n);const[k,N]=M.useState(null),[A,R]=M.useState(null),T=M.useCallback(g=>{g!==U.current&&(U.current=g,N(g))},[]),C=M.useCallback(g=>{g!==L.current&&(L.current=g,R(g))},[]),j=s||k,D=o||A,U=M.useRef(null),L=M.useRef(null),F=M.useRef(p),W=f!=null,q=Hw(f),V=Hw(i),K=Hw(h),x=M.useCallback(()=>{if(!U.current||!L.current)return;const g={placement:e,strategy:r,middleware:E};V.current&&(g.platform=V.current),jJ(U.current,L.current,g).then(S=>{const I={...S,isPositioned:K.current!==!1};a.current&&!yg(F.current,I)&&(F.current=I,Il.flushSync(()=>{v(I)}))})},[E,e,r,V,K]);pm(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,v(g=>({...g,isPositioned:!1})))},[h]);const a=M.useRef(!1);pm(()=>(a.current=!0,()=>{a.current=!1}),[]),pm(()=>{if(j&&(U.current=j),D&&(L.current=D),j&&D){if(q.current)return q.current(j,D,x);x()}},[j,D,x,q,W]);const d=M.useMemo(()=>({reference:U,floating:L,setReference:T,setFloating:C}),[T,C]),m=M.useMemo(()=>({reference:j,floating:D}),[j,D]),y=M.useMemo(()=>{const g={position:r,left:0,top:0};if(!m.floating)return g;const S=TA(m.floating,p.x),I=TA(m.floating,p.y);return l?{...g,transform:"translate("+S+"px, "+I+"px)",...L3(m.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:S,top:I}},[r,l,m.floating,p.x,p.y]);return M.useMemo(()=>({...p,update:x,refs:d,elements:m,floatingStyles:y}),[p,x,d,m,y])}const PJ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?kA({element:n.current,padding:i}).fn(r):{}:n?kA({element:n,padding:i}).fn(r):{}}}},LJ=(t,e)=>({...AJ(t),options:[t,e]}),DJ=(t,e)=>({...RJ(t),options:[t,e]}),BJ=(t,e)=>({...CJ(t),options:[t,e]}),UJ=(t,e)=>({...kJ(t),options:[t,e]}),zJ=(t,e)=>({...TJ(t),options:[t,e]}),FJ=(t,e)=>({...IJ(t),options:[t,e]}),WJ=(t,e)=>({...PJ(t),options:[t,e]});var $J="Arrow",D3=M.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return u.jsx(ft.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});D3.displayName=$J;var VJ=D3;function HJ(t){const[e,r]=M.useState(void 0);return Fr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const f=s.borderBoxSize,h=Array.isArray(f)?f[0]:f;o=h.inlineSize,l=h.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var rE="Popper",[B3,af]=Ys(rE),[KJ,U3]=B3(rE),z3=t=>{const{__scopePopper:e,children:r}=t,[n,i]=M.useState(null);return u.jsx(KJ,{scope:e,anchor:n,onAnchorChange:i,children:r})};z3.displayName=rE;var F3="PopperAnchor",W3=M.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=U3(F3,r),o=M.useRef(null),l=It(e,o);return M.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:u.jsx(ft.div,{...i,ref:l})});W3.displayName=F3;var nE="PopperContent",[qJ,GJ]=B3(nE),$3=M.forwardRef((t,e)=>{var re,ie,le,nt,ue,de;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:b="optimized",onPlaced:k,...N}=t,A=U3(nE,r),[R,T]=M.useState(null),C=It(e,vt=>T(vt)),[j,D]=M.useState(null),U=HJ(j),L=(U==null?void 0:U.width)??0,F=(U==null?void 0:U.height)??0,W=n+(s!=="center"?"-"+s:""),q=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},V=Array.isArray(h)?h:[h],K=V.length>0,x={padding:q,boundary:V.filter(YJ),altBoundary:K},{refs:a,floatingStyles:d,placement:m,isPositioned:y,middlewareData:g}=OJ({strategy:"fixed",placement:W,whileElementsMounted:(...vt)=>MJ(...vt,{animationFrame:b==="always"}),elements:{reference:A.anchor},middleware:[LJ({mainAxis:i+F,alignmentAxis:o}),f&&DJ({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?BJ():void 0,...x}),f&&UJ({...x}),zJ({...x,apply:({elements:vt,rects:ye,availableWidth:be,availableHeight:Ft})=>{const{width:_e,height:Me}=ye.reference,hr=vt.floating.style;hr.setProperty("--radix-popper-available-width",`${be}px`),hr.setProperty("--radix-popper-available-height",`${Ft}px`),hr.setProperty("--radix-popper-anchor-width",`${_e}px`),hr.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),j&&WJ({element:j,padding:l}),QJ({arrowWidth:L,arrowHeight:F}),E&&FJ({strategy:"referenceHidden",...x})]}),[S,I]=K3(m),w=Cr(k);Fr(()=>{y&&(w==null||w())},[y,w]);const c=(re=g.arrow)==null?void 0:re.x,_=(ie=g.arrow)==null?void 0:ie.y,$=((le=g.arrow)==null?void 0:le.centerOffset)!==0,[H,G]=M.useState();return Fr(()=>{R&&G(window.getComputedStyle(R).zIndex)},[R]),u.jsx("div",{ref:a.setFloating,"data-radix-popper-content-wrapper":"",style:{...d,transform:y?d.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(nt=g.transformOrigin)==null?void 0:nt.x,(ue=g.transformOrigin)==null?void 0:ue.y].join(" "),...((de=g.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(qJ,{scope:r,placedSide:S,onArrowChange:D,arrowX:c,arrowY:_,shouldHideArrow:$,children:u.jsx(ft.div,{"data-side":S,"data-align":I,...N,ref:C,style:{...N.style,animation:y?void 0:"none"}})})})});$3.displayName=nE;var V3="PopperArrow",ZJ={top:"bottom",right:"left",bottom:"top",left:"right"},H3=M.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=GJ(V3,n),o=ZJ[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(VJ,{...i,ref:r,style:{...i.style,display:"block"}})})});H3.displayName=V3;function YJ(t){return t!==null}var QJ=t=>({name:"transformOrigin",options:t,fn(e){var A,R,T;const{placement:r,rects:n,middlewareData:i}=e,o=((A=i.arrow)==null?void 0:A.centerOffset)!==0,l=o?0:t.arrowWidth,f=o?0:t.arrowHeight,[h,p]=K3(r),v={start:"0%",center:"50%",end:"100%"}[p],E=(((R=i.arrow)==null?void 0:R.x)??0)+l/2,b=(((T=i.arrow)==null?void 0:T.y)??0)+f/2;let k="",N="";return h==="bottom"?(k=o?v:`${E}px`,N=`${-f}px`):h==="top"?(k=o?v:`${E}px`,N=`${n.floating.height+f}px`):h==="right"?(k=`${-f}px`,N=o?v:`${b}px`):h==="left"&&(k=`${n.floating.width+f}px`,N=o?v:`${b}px`),{data:{x:k,y:N}}}});function K3(t){const[e,r="center"]=t.split("-");return[e,r]}var q3=z3,sE=W3,iE=$3,oE=H3,[$y,Kle]=Ys("Tooltip",[af]),aE=af(),G3="TooltipProvider",JJ=700,IA="tooltip.open",[XJ,Z3]=$y(G3),Y3=t=>{const{__scopeTooltip:e,delayDuration:r=JJ,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=M.useRef(!0),l=M.useRef(!1),f=M.useRef(0);return M.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),u.jsx(XJ,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:M.useCallback(()=>{window.clearTimeout(f.current),o.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:M.useCallback(h=>{l.current=h},[]),disableHoverableContent:i,children:s})};Y3.displayName=G3;var Q3="Tooltip",[qle,Vy]=$y(Q3),vb="TooltipTrigger",eX=M.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Vy(vb,r),s=Z3(vb,r),o=aE(r),l=M.useRef(null),f=It(e,l,i.onTriggerChange),h=M.useRef(!1),p=M.useRef(!1),v=M.useCallback(()=>h.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),u.jsx(sE,{asChild:!0,...o,children:u.jsx(ft.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:f,onPointerMove:qe(t.onPointerMove,E=>{E.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:qe(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:qe(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:qe(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:qe(t.onBlur,i.onClose),onClick:qe(t.onClick,i.onClose)})})});eX.displayName=vb;var tX="TooltipPortal",[Gle,rX]=$y(tX,{forceMount:void 0}),Ld="TooltipContent",J3=M.forwardRef((t,e)=>{const r=rX(Ld,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=Vy(Ld,t.__scopeTooltip);return u.jsx(gs,{present:n||o.open,children:o.disableHoverableContent?u.jsx(X3,{side:i,...s,ref:e}):u.jsx(nX,{side:i,...s,ref:e})})}),nX=M.forwardRef((t,e)=>{const r=Vy(Ld,t.__scopeTooltip),n=Z3(Ld,t.__scopeTooltip),i=M.useRef(null),s=It(e,i),[o,l]=M.useState(null),{trigger:f,onClose:h}=r,p=i.current,{onPointerInTransitChange:v}=n,E=M.useCallback(()=>{l(null),v(!1)},[v]),b=M.useCallback((k,N)=>{const A=k.currentTarget,R={x:k.clientX,y:k.clientY},T=lX(R,A.getBoundingClientRect()),C=cX(R,T),j=uX(N.getBoundingClientRect()),D=fX([...C,...j]);l(D),v(!0)},[v]);return M.useEffect(()=>()=>E(),[E]),M.useEffect(()=>{if(f&&p){const k=A=>b(A,p),N=A=>b(A,f);return f.addEventListener("pointerleave",k),p.addEventListener("pointerleave",N),()=>{f.removeEventListener("pointerleave",k),p.removeEventListener("pointerleave",N)}}},[f,p,b,E]),M.useEffect(()=>{if(o){const k=N=>{const A=N.target,R={x:N.clientX,y:N.clientY},T=(f==null?void 0:f.contains(A))||(p==null?void 0:p.contains(A)),C=!dX(R,o);T?E():C&&(E(),h())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[f,p,o,h,E]),u.jsx(X3,{...t,ref:s})}),[sX,iX]=$y(Q3,{isInside:!1}),oX=D4("TooltipContent"),X3=M.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,f=Vy(Ld,r),h=aE(r),{onClose:p}=f;return M.useEffect(()=>(document.addEventListener(IA,p),()=>document.removeEventListener(IA,p)),[p]),M.useEffect(()=>{if(f.trigger){const v=E=>{const b=E.target;b!=null&&b.contains(f.trigger)&&p()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,p]),u.jsx(tf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:v=>v.preventDefault(),onDismiss:p,children:u.jsxs(iE,{"data-state":f.stateAttribute,...h,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(oX,{children:n}),u.jsx(sX,{scope:r,isInside:!0,children:u.jsx(xY,{id:f.contentId,role:"tooltip",children:i||n})})]})})});J3.displayName=Ld;var eP="TooltipArrow",aX=M.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=aE(r);return iX(eP,r).isInside?null:u.jsx(oE,{...i,...n,ref:e})});aX.displayName=eP;function lX(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cX(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function uX(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function dX(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],f=e[o],h=l.x,p=l.y,v=f.x,E=f.y;p>n!=E>n&&r<(v-h)*(n-p)/(E-p)+h&&(i=!i)}return i}function fX(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),hX(e)}function hX(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var pX=Y3,tP=J3;const mX=pX,gX=M.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(tP,{ref:n,sideOffset:e,className:Ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));gX.displayName=tP.displayName;var Hy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ky=typeof window>"u"||"Deno"in globalThis;function _i(){}function yX(t,e){return typeof t=="function"?t(e):t}function vX(t){return typeof t=="number"&&t>=0&&t!==1/0}function wX(t,e){return Math.max(t+(e||0)-Date.now(),0)}function CA(t,e){return typeof t=="function"?t(e):t}function xX(t,e){return typeof t=="function"?t(e):t}function jA(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==lE(o,e.options))return!1}else if(!Wh(e.queryKey,o))return!1}if(r!=="all"){const f=e.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function OA(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Fh(e.options.mutationKey)!==Fh(s))return!1}else if(!Wh(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function lE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fh)(t)}function Fh(t){return JSON.stringify(t,(e,r)=>wb(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Wh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Wh(t[r],e[r])):!1}function rP(t,e){if(t===e)return t;const r=PA(t)&&PA(e);if(r||wb(t)&&wb(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,l=r?[]:{};let f=0;for(let h=0;h<o;h++){const p=r?h:s[h];(!r&&n.includes(p)||r)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,f++):(l[p]=rP(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&f++)}return i===o&&f===i?t:l}return e}function PA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wb(t){if(!LA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!LA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function LA(t){return Object.prototype.toString.call(t)==="[object Object]"}function bX(t){return new Promise(e=>{setTimeout(e,t)})}function _X(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?rP(t,e):e}function SX(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function EX(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var cE=Symbol();function nP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var hc,za,rd,_R,NX=(_R=class extends Hy{constructor(){super();Vt(this,hc);Vt(this,za);Vt(this,rd);bt(this,rd,e=>{if(!Ky&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){pe(this,za)||this.setEventListener(pe(this,rd))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,za))==null||e.call(this),bt(this,za,void 0))}setEventListener(e){var r;bt(this,rd,e),(r=pe(this,za))==null||r.call(this),bt(this,za,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){pe(this,hc)!==e&&(bt(this,hc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof pe(this,hc)=="boolean"?pe(this,hc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hc=new WeakMap,za=new WeakMap,rd=new WeakMap,_R),sP=new NX,nd,Fa,sd,SR,MX=(SR=class extends Hy{constructor(){super();Vt(this,nd,!0);Vt(this,Fa);Vt(this,sd);bt(this,sd,e=>{if(!Ky&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){pe(this,Fa)||this.setEventListener(pe(this,sd))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,Fa))==null||e.call(this),bt(this,Fa,void 0))}setEventListener(e){var r;bt(this,sd,e),(r=pe(this,Fa))==null||r.call(this),bt(this,Fa,e(this.setOnline.bind(this)))}setOnline(e){pe(this,nd)!==e&&(bt(this,nd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return pe(this,nd)}},nd=new WeakMap,Fa=new WeakMap,sd=new WeakMap,SR),vg=new MX;function AX(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function RX(t){return Math.min(1e3*2**t,3e4)}function iP(t){return(t??"online")==="online"?vg.isOnline():!0}var oP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kw(t){return t instanceof oP}function aP(t){let e=!1,r=0,n=!1,i;const s=AX(),o=N=>{var A;n||(E(new oP(N)),(A=t.abort)==null||A.call(t))},l=()=>{e=!0},f=()=>{e=!1},h=()=>sP.isFocused()&&(t.networkMode==="always"||vg.isOnline())&&t.canRun(),p=()=>iP(t.networkMode)&&t.canRun(),v=N=>{var A;n||(n=!0,(A=t.onSuccess)==null||A.call(t,N),i==null||i(),s.resolve(N))},E=N=>{var A;n||(n=!0,(A=t.onError)==null||A.call(t,N),i==null||i(),s.reject(N))},b=()=>new Promise(N=>{var A;i=R=>{(n||h())&&N(R)},(A=t.onPause)==null||A.call(t)}).then(()=>{var N;i=void 0,n||(N=t.onContinue)==null||N.call(t)}),k=()=>{if(n)return;let N;const A=r===0?t.initialPromise:void 0;try{N=A??t.fn()}catch(R){N=Promise.reject(R)}Promise.resolve(N).then(v).catch(R=>{var U;if(n)return;const T=t.retry??(Ky?0:3),C=t.retryDelay??RX,j=typeof C=="function"?C(r,R):C,D=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,R);if(e||!D){E(R);return}r++,(U=t.onFail)==null||U.call(t,r,R),bX(j).then(()=>h()?void 0:b()).then(()=>{e?E(R):k()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:f,canStart:p,start:()=>(p()?k():b().then(k),s)}}var kX=t=>setTimeout(t,0);function TX(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=kX;const s=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(f=>{r(f)})})})};return{batch:l=>{let f;e++;try{f=l()}finally{e--,e||o()}return f},batchCalls:l=>(...f)=>{s(()=>{l(...f)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var ls=TX(),pc,ER,lP=(ER=class{constructor(){Vt(this,pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vX(this.gcTime)&&bt(this,pc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ky?1/0:5*60*1e3))}clearGcTimeout(){pe(this,pc)&&(clearTimeout(pe(this,pc)),bt(this,pc,void 0))}},pc=new WeakMap,ER),id,od,Js,mc,kn,op,gc,Si,Oo,NR,IX=(NR=class extends lP{constructor(e){super();Vt(this,Si);Vt(this,id);Vt(this,od);Vt(this,Js);Vt(this,mc);Vt(this,kn);Vt(this,op);Vt(this,gc);bt(this,gc,!1),bt(this,op,e.defaultOptions),this.setOptions(e.options),this.observers=[],bt(this,mc,e.client),bt(this,Js,pe(this,mc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,bt(this,id,jX(this.options)),this.state=e.state??pe(this,id),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=pe(this,kn))==null?void 0:e.promise}setOptions(e){this.options={...pe(this,op),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,Js).remove(this)}setData(e,r){const n=_X(this.state.data,e,this.options);return xn(this,Si,Oo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){xn(this,Si,Oo).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=pe(this,kn))==null?void 0:n.promise;return(i=pe(this,kn))==null||i.cancel(e),r?r.then(_i).catch(_i):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,id))}isActive(){return this.observers.some(e=>xX(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!wX(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=pe(this,kn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=pe(this,kn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),pe(this,Js).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(pe(this,kn)&&(pe(this,gc)?pe(this,kn).cancel({revert:!0}):pe(this,kn).cancelRetry()),this.scheduleGc()),pe(this,Js).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xn(this,Si,Oo).call(this,{type:"invalidate"})}fetch(e,r){var f,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,kn))return pe(this,kn).continueRetry(),pe(this,kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(E=>E.options.queryFn);v&&this.setOptions(v.options)}const n=new AbortController,i=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(bt(this,gc,!0),n.signal)})},s=()=>{const v=nP(this.options,r),E={client:pe(this,mc),queryKey:this.queryKey,meta:this.meta};return i(E),bt(this,gc,!1),this.options.persister?this.options.persister(v,E,this):v(E)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:pe(this,mc),state:this.state,fetchFn:s};i(o),(f=this.options.behavior)==null||f.onFetch(o,this),bt(this,od,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&xn(this,Si,Oo).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta});const l=v=>{var E,b,k,N;Kw(v)&&v.silent||xn(this,Si,Oo).call(this,{type:"error",error:v}),Kw(v)||((b=(E=pe(this,Js).config).onError)==null||b.call(E,v,this),(N=(k=pe(this,Js).config).onSettled)==null||N.call(k,this.state.data,v,this)),this.scheduleGc()};return bt(this,kn,aP({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:v=>{var E,b,k,N;if(v===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(A){l(A);return}(b=(E=pe(this,Js).config).onSuccess)==null||b.call(E,v,this),(N=(k=pe(this,Js).config).onSettled)==null||N.call(k,v,this.state.error,this),this.scheduleGc()},onError:l,onFail:(v,E)=>{xn(this,Si,Oo).call(this,{type:"failed",failureCount:v,error:E})},onPause:()=>{xn(this,Si,Oo).call(this,{type:"pause"})},onContinue:()=>{xn(this,Si,Oo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),pe(this,kn).start()}},id=new WeakMap,od=new WeakMap,Js=new WeakMap,mc=new WeakMap,kn=new WeakMap,op=new WeakMap,gc=new WeakMap,Si=new WeakSet,Oo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...CX(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Kw(i)&&i.revert&&pe(this,od)?{...pe(this,od),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ls.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),pe(this,Js).notify({query:this,type:"updated",action:e})})},NR);function CX(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jX(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qi,MR,OX=(MR=class extends Hy{constructor(e={}){super();Vt(this,Qi);this.config=e,bt(this,Qi,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??lE(i,r);let o=this.get(s);return o||(o=new IX({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){pe(this,Qi).has(e.queryHash)||(pe(this,Qi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=pe(this,Qi).get(e.queryHash);r&&(e.destroy(),r===e&&pe(this,Qi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ls.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return pe(this,Qi).get(e)}getAll(){return[...pe(this,Qi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>jA(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>jA(e,n)):r}notify(e){ls.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ls.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ls.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qi=new WeakMap,MR),Ji,ss,yc,Xi,ka,AR,PX=(AR=class extends lP{constructor(e){super();Vt(this,Xi);Vt(this,Ji);Vt(this,ss);Vt(this,yc);this.mutationId=e.mutationId,bt(this,ss,e.mutationCache),bt(this,Ji,[]),this.state=e.state||LX(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){pe(this,Ji).includes(e)||(pe(this,Ji).push(e),this.clearGcTimeout(),pe(this,ss).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){bt(this,Ji,pe(this,Ji).filter(r=>r!==e)),this.scheduleGc(),pe(this,ss).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){pe(this,Ji).length||(this.state.status==="pending"?this.scheduleGc():pe(this,ss).remove(this))}continue(){var e;return((e=pe(this,yc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,l,f,h,p,v,E,b,k,N,A,R,T,C,j,D,U,L,F;const r=()=>{xn(this,Xi,ka).call(this,{type:"continue"})};bt(this,yc,aP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(W,q)=>{xn(this,Xi,ka).call(this,{type:"failed",failureCount:W,error:q})},onPause:()=>{xn(this,Xi,ka).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,ss).canRun(this)}));const n=this.state.status==="pending",i=!pe(this,yc).canStart();try{if(n)r();else{xn(this,Xi,ka).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=pe(this,ss).config).onMutate)==null?void 0:o.call(s,e,this));const q=await((f=(l=this.options).onMutate)==null?void 0:f.call(l,e));q!==this.state.context&&xn(this,Xi,ka).call(this,{type:"pending",context:q,variables:e,isPaused:i})}const W=await pe(this,yc).start();return await((p=(h=pe(this,ss).config).onSuccess)==null?void 0:p.call(h,W,e,this.state.context,this)),await((E=(v=this.options).onSuccess)==null?void 0:E.call(v,W,e,this.state.context)),await((k=(b=pe(this,ss).config).onSettled)==null?void 0:k.call(b,W,null,this.state.variables,this.state.context,this)),await((A=(N=this.options).onSettled)==null?void 0:A.call(N,W,null,e,this.state.context)),xn(this,Xi,ka).call(this,{type:"success",data:W}),W}catch(W){try{throw await((T=(R=pe(this,ss).config).onError)==null?void 0:T.call(R,W,e,this.state.context,this)),await((j=(C=this.options).onError)==null?void 0:j.call(C,W,e,this.state.context)),await((U=(D=pe(this,ss).config).onSettled)==null?void 0:U.call(D,void 0,W,this.state.variables,this.state.context,this)),await((F=(L=this.options).onSettled)==null?void 0:F.call(L,void 0,W,e,this.state.context)),W}finally{xn(this,Xi,ka).call(this,{type:"error",error:W})}}finally{pe(this,ss).runNext(this)}}},Ji=new WeakMap,ss=new WeakMap,yc=new WeakMap,Xi=new WeakSet,ka=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ls.batch(()=>{pe(this,Ji).forEach(n=>{n.onMutationUpdate(e)}),pe(this,ss).notify({mutation:this,type:"updated",action:e})})},AR);function LX(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wo,Ei,ap,RR,DX=(RR=class extends Hy{constructor(e={}){super();Vt(this,Wo);Vt(this,Ei);Vt(this,ap);this.config=e,bt(this,Wo,new Set),bt(this,Ei,new Map),bt(this,ap,0)}build(e,r,n){const i=new PX({mutationCache:this,mutationId:++Fp(this,ap)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){pe(this,Wo).add(e);const r=A0(e);if(typeof r=="string"){const n=pe(this,Ei).get(r);n?n.push(e):pe(this,Ei).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(pe(this,Wo).delete(e)){const r=A0(e);if(typeof r=="string"){const n=pe(this,Ei).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&pe(this,Ei).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=A0(e);if(typeof r=="string"){const n=pe(this,Ei).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=A0(e);if(typeof r=="string"){const i=(n=pe(this,Ei).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ls.batch(()=>{pe(this,Wo).forEach(e=>{this.notify({type:"removed",mutation:e})}),pe(this,Wo).clear(),pe(this,Ei).clear()})}getAll(){return Array.from(pe(this,Wo))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>OA(r,n))}findAll(e={}){return this.getAll().filter(r=>OA(e,r))}notify(e){ls.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ls.batch(()=>Promise.all(e.map(r=>r.continue().catch(_i))))}},Wo=new WeakMap,Ei=new WeakMap,ap=new WeakMap,RR);function A0(t){var e;return(e=t.options.scope)==null?void 0:e.id}function DA(t){return{onFetch:(e,r)=>{var p,v,E,b,k;const n=e.options,i=(E=(v=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,s=((b=e.state.data)==null?void 0:b.pages)||[],o=((k=e.state.data)==null?void 0:k.pageParams)||[];let l={pages:[],pageParams:[]},f=0;const h=async()=>{let N=!1;const A=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?N=!0:e.signal.addEventListener("abort",()=>{N=!0}),e.signal)})},R=nP(e.options,e.fetchOptions),T=async(C,j,D)=>{if(N)return Promise.reject();if(j==null&&C.pages.length)return Promise.resolve(C);const U={client:e.client,queryKey:e.queryKey,pageParam:j,direction:D?"backward":"forward",meta:e.options.meta};A(U);const L=await R(U),{maxPages:F}=e.options,W=D?EX:SX;return{pages:W(C.pages,L,F),pageParams:W(C.pageParams,j,F)}};if(i&&s.length){const C=i==="backward",j=C?BX:BA,D={pages:s,pageParams:o},U=j(n,D);l=await T(D,U,C)}else{const C=t??s.length;do{const j=f===0?o[0]??n.initialPageParam:BA(n,l);if(f>0&&j==null)break;l=await T(l,j),f++}while(f<C)}return l};e.options.persister?e.fetchFn=()=>{var N,A;return(A=(N=e.options).persister)==null?void 0:A.call(N,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=h}}}function BA(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function BX(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var kr,Wa,$a,ad,ld,Va,cd,ud,kR,UX=(kR=class{constructor(t={}){Vt(this,kr);Vt(this,Wa);Vt(this,$a);Vt(this,ad);Vt(this,ld);Vt(this,Va);Vt(this,cd);Vt(this,ud);bt(this,kr,t.queryCache||new OX),bt(this,Wa,t.mutationCache||new DX),bt(this,$a,t.defaultOptions||{}),bt(this,ad,new Map),bt(this,ld,new Map),bt(this,Va,0)}mount(){Fp(this,Va)._++,pe(this,Va)===1&&(bt(this,cd,sP.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,kr).onFocus())})),bt(this,ud,vg.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,kr).onOnline())})))}unmount(){var t,e;Fp(this,Va)._--,pe(this,Va)===0&&((t=pe(this,cd))==null||t.call(this),bt(this,cd,void 0),(e=pe(this,ud))==null||e.call(this),bt(this,ud,void 0))}isFetching(t){return pe(this,kr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return pe(this,Wa).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=pe(this,kr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=pe(this,kr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(CA(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return pe(this,kr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=pe(this,kr).get(n.queryHash),s=i==null?void 0:i.state.data,o=yX(e,s);if(o!==void 0)return pe(this,kr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ls.batch(()=>pe(this,kr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=pe(this,kr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=pe(this,kr);ls.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=pe(this,kr);return ls.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ls.batch(()=>pe(this,kr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(_i).catch(_i)}invalidateQueries(t,e={}){return ls.batch(()=>(pe(this,kr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ls.batch(()=>pe(this,kr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(_i)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(_i)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=pe(this,kr).build(this,e);return r.isStaleByTime(CA(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_i).catch(_i)}fetchInfiniteQuery(t){return t.behavior=DA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_i).catch(_i)}ensureInfiniteQueryData(t){return t.behavior=DA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vg.isOnline()?pe(this,Wa).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,kr)}getMutationCache(){return pe(this,Wa)}getDefaultOptions(){return pe(this,$a)}setDefaultOptions(t){bt(this,$a,t)}setQueryDefaults(t,e){pe(this,ad).set(Fh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...pe(this,ad).values()],r={};return e.forEach(n=>{Wh(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){pe(this,ld).set(Fh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...pe(this,ld).values()],r={};return e.forEach(n=>{Wh(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...pe(this,$a).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...pe(this,$a).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){pe(this,kr).clear(),pe(this,Wa).clear()}},kr=new WeakMap,Wa=new WeakMap,$a=new WeakMap,ad=new WeakMap,ld=new WeakMap,Va=new WeakMap,cd=new WeakMap,ud=new WeakMap,kR),zX=M.createContext(void 0),FX=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(zX.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$h.apply(this,arguments)}var Ya;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ya||(Ya={}));const UA="popstate";function WX(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return xb("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:wg(i)}return VX(e,r,null,t)}function Ur(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $X(){return Math.random().toString(36).substr(2,8)}function zA(t,e){return{usr:t.state,key:t.key,idx:e}}function xb(t,e,r,n){return r===void 0&&(r=null),$h({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lf(e):e,{state:r,key:e&&e.key||n||$X()})}function wg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function lf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function VX(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=Ya.Pop,f=null,h=p();h==null&&(h=0,o.replaceState($h({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function v(){l=Ya.Pop;let A=p(),R=A==null?null:A-h;h=A,f&&f({action:l,location:N.location,delta:R})}function E(A,R){l=Ya.Push;let T=xb(N.location,A,R);h=p()+1;let C=zA(T,h),j=N.createHref(T);try{o.pushState(C,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(j)}s&&f&&f({action:l,location:N.location,delta:1})}function b(A,R){l=Ya.Replace;let T=xb(N.location,A,R);h=p();let C=zA(T,h),j=N.createHref(T);o.replaceState(C,"",j),s&&f&&f({action:l,location:N.location,delta:0})}function k(A){let R=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof A=="string"?A:wg(A);return T=T.replace(/ $/,"%20"),Ur(R,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,R)}let N={get action(){return l},get location(){return t(i,o)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(UA,v),f=A,()=>{i.removeEventListener(UA,v),f=null}},createHref(A){return e(i,A)},createURL:k,encodeLocation(A){let R=k(A);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:E,replace:b,go(A){return o.go(A)}};return N}var FA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(FA||(FA={}));function HX(t,e,r){return r===void 0&&(r="/"),KX(t,e,r)}function KX(t,e,r,n){let i=typeof e=="string"?lf(e):e,s=uE(i.pathname||"/",r);if(s==null)return null;let o=uP(t);qX(o);let l=null;for(let f=0;l==null&&f<o.length;++f){let h=iee(s);l=ree(o[f],h)}return l}function uP(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let f={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};f.relativePath.startsWith("/")&&(Ur(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=pl([n,f.relativePath]),p=r.concat(f);s.children&&s.children.length>0&&(Ur(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),uP(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:eee(h,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let f of dP(s.path))i(s,o,f)}),e}function dP(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=dP(n.join("/")),l=[];return l.push(...o.map(f=>f===""?s:[s,f].join("/"))),i&&l.push(...o),l.map(f=>t.startsWith("/")&&f===""?"/":f)}function qX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:tee(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GX=/^:[\w-]+$/,ZX=3,YX=2,QX=1,JX=10,XX=-2,WA=t=>t==="*";function eee(t,e){let r=t.split("/"),n=r.length;return r.some(WA)&&(n+=XX),e&&(n+=YX),r.filter(i=>!WA(i)).reduce((i,s)=>i+(GX.test(s)?ZX:s===""?QX:JX),n)}function tee(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function ree(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let l=0;l<n.length;++l){let f=n[l],h=l===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",v=nee({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),E=f.route;if(!v)return null;Object.assign(i,v.params),o.push({params:i,pathname:pl([s,v.pathname]),pathnameBase:cee(pl([s,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(s=pl([s,v.pathnameBase]))}return o}function nee(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=see(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,p,v)=>{let{paramName:E,isOptional:b}=p;if(E==="*"){let N=l[v]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const k=l[v];return b&&!k?h[E]=void 0:h[E]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function see(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),cP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,f)=>(n.push({paramName:l,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function iee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function oee(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?lf(t):t;return{pathname:r?r.startsWith("/")?r:aee(r,e):e,search:uee(n),hash:dee(i)}}function aee(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function qw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lee(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function dE(t,e){let r=lee(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fE(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=lf(t):(i=$h({},t),Ur(!i.pathname||!i.pathname.includes("?"),qw("?","pathname","search",i)),Ur(!i.pathname||!i.pathname.includes("#"),qw("#","pathname","hash",i)),Ur(!i.search||!i.search.includes("#"),qw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let v=e.length-1;if(!n&&o.startsWith("..")){let E=o.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}l=v>=0?e[v]:"/"}let f=oee(i,l),h=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const pl=t=>t.join("/").replace(/\/\/+/g,"/"),cee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fP=["post","put","patch","delete"];new Set(fP);const hee=["get",...fP];new Set(hee);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vh.apply(this,arguments)}const hE=M.createContext(null),pee=M.createContext(null),Ol=M.createContext(null),qy=M.createContext(null),ga=M.createContext({outlet:null,matches:[],isDataRoute:!1}),hP=M.createContext(null);function mee(t,e){let{relative:r}=e===void 0?{}:e;cf()||Ur(!1);let{basename:n,navigator:i}=M.useContext(Ol),{hash:s,pathname:o,search:l}=mP(t,{relative:r}),f=o;return n!=="/"&&(f=o==="/"?n:pl([n,o])),i.createHref({pathname:f,search:l,hash:s})}function cf(){return M.useContext(qy)!=null}function Ln(){return cf()||Ur(!1),M.useContext(qy).location}function pP(t){M.useContext(Ol).static||M.useLayoutEffect(t)}function wn(){let{isDataRoute:t}=M.useContext(ga);return t?kee():gee()}function gee(){cf()||Ur(!1);let t=M.useContext(hE),{basename:e,future:r,navigator:n}=M.useContext(Ol),{matches:i}=M.useContext(ga),{pathname:s}=Ln(),o=JSON.stringify(dE(i,r.v7_relativeSplatPath)),l=M.useRef(!1);return pP(()=>{l.current=!0}),M.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let v=fE(h,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:pl([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,o,s,t])}function yee(){let{matches:t}=M.useContext(ga),e=t[t.length-1];return e?e.params:{}}function mP(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=M.useContext(Ol),{matches:i}=M.useContext(ga),{pathname:s}=Ln(),o=JSON.stringify(dE(i,n.v7_relativeSplatPath));return M.useMemo(()=>fE(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function vee(t,e){return wee(t,e)}function wee(t,e,r,n){cf()||Ur(!1);let{navigator:i,static:s}=M.useContext(Ol),{matches:o}=M.useContext(ga),l=o[o.length-1],f=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=Ln(),v;if(e){var E;let R=typeof e=="string"?lf(e):e;h==="/"||(E=R.pathname)!=null&&E.startsWith(h)||Ur(!1),v=R}else v=p;let b=v.pathname||"/",k=b;if(h!=="/"){let R=h.replace(/^\//,"").split("/");k="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=HX(t,{pathname:k}),A=Eee(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:pl([h,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:pl([h,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,r,n);return e&&A?M.createElement(qy.Provider,{value:{location:Vh({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Ya.Pop}},A):A}function xee(){let t=Ree(),e=fee(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),r?M.createElement("pre",{style:i},r):null,null)}const bee=M.createElement(xee,null);class _ee extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?M.createElement(ga.Provider,{value:this.props.routeContext},M.createElement(hP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function See(t){let{routeContext:e,match:r,children:n}=t,i=M.useContext(hE);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(ga.Provider,{value:e},n)}function Eee(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);p>=0||Ur(!1),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let v=o[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:E,errors:b}=r,k=v.route.loader&&E[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||k){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,v,E)=>{let b,k=!1,N=null,A=null;r&&(b=l&&v.route.id?l[v.route.id]:void 0,N=v.route.errorElement||bee,f&&(h<0&&E===0?(Tee("route-fallback"),k=!0,A=null):h===E&&(k=!0,A=v.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,E+1)),T=()=>{let C;return b?C=N:k?C=A:v.route.Component?C=M.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=p,M.createElement(See,{match:v,routeContext:{outlet:p,matches:R,isDataRoute:r!=null},children:C})};return r&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?M.createElement(_ee,{location:r.location,revalidation:r.revalidation,component:N,error:b,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):T()},null)}var gP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gP||{}),yP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yP||{});function Nee(t){let e=M.useContext(hE);return e||Ur(!1),e}function Mee(t){let e=M.useContext(pee);return e||Ur(!1),e}function Aee(t){let e=M.useContext(ga);return e||Ur(!1),e}function vP(t){let e=Aee(),r=e.matches[e.matches.length-1];return r.route.id||Ur(!1),r.route.id}function Ree(){var t;let e=M.useContext(hP),r=Mee(),n=vP();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function kee(){let{router:t}=Nee(gP.UseNavigateStable),e=vP(yP.UseNavigateStable),r=M.useRef(!1);return pP(()=>{r.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vh({fromRouteId:e},s)))},[t,e])}const $A={};function Tee(t,e,r){$A[t]||($A[t]=!0)}function Iee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Cee(t){let{to:e,replace:r,state:n,relative:i}=t;cf()||Ur(!1);let{future:s,static:o}=M.useContext(Ol),{matches:l}=M.useContext(ga),{pathname:f}=Ln(),h=wn(),p=fE(e,dE(l,s.v7_relativeSplatPath),f,i==="path"),v=JSON.stringify(p);return M.useEffect(()=>h(JSON.parse(v),{replace:r,state:n,relative:i}),[h,v,i,r,n]),null}function xr(t){Ur(!1)}function jee(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ya.Pop,navigator:s,static:o=!1,future:l}=t;cf()&&Ur(!1);let f=e.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:f,navigator:s,static:o,future:Vh({v7_relativeSplatPath:!1},l)}),[f,l,s,o]);typeof n=="string"&&(n=lf(n));let{pathname:p="/",search:v="",hash:E="",state:b=null,key:k="default"}=n,N=M.useMemo(()=>{let A=uE(p,f);return A==null?null:{location:{pathname:A,search:v,hash:E,state:b,key:k},navigationType:i}},[f,p,v,E,b,k,i]);return N==null?null:M.createElement(Ol.Provider,{value:h},M.createElement(qy.Provider,{children:r,value:N}))}function Oee(t){let{children:e,location:r}=t;return vee(bb(e),r)}new Promise(()=>{});function bb(t,e){e===void 0&&(e=[]);let r=[];return M.Children.forEach(t,(n,i)=>{if(!M.isValidElement(n))return;let s=[...e,i];if(n.type===M.Fragment){r.push.apply(r,bb(n.props.children,s));return}n.type!==xr&&Ur(!1),!n.props.index||!n.props.children||Ur(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=bb(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_b.apply(this,arguments)}function Pee(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Lee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dee(t,e){return t.button===0&&(!e||e==="_self")&&!Lee(t)}const Bee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Uee="6";try{window.__reactRouterVersion=Uee}catch{}const zee="startTransition",VA=Wb[zee];function Fee(t){let{basename:e,children:r,future:n,window:i}=t,s=M.useRef();s.current==null&&(s.current=WX({window:i,v5Compat:!0}));let o=s.current,[l,f]=M.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},p=M.useCallback(v=>{h&&VA?VA(()=>f(v)):f(v)},[f,h]);return M.useLayoutEffect(()=>o.listen(p),[o,p]),M.useEffect(()=>Iee(n),[n]),M.createElement(jee,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Wee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=M.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:f,to:h,preventScrollReset:p,viewTransition:v}=e,E=Pee(e,Bee),{basename:b}=M.useContext(Ol),k,N=!1;if(typeof h=="string"&&$ee.test(h)&&(k=h,Wee))try{let C=new URL(window.location.href),j=h.startsWith("//")?new URL(C.protocol+h):new URL(h),D=uE(j.pathname,b);j.origin===C.origin&&D!=null?h=D+j.search+j.hash:N=!0}catch{}let A=mee(h,{relative:i}),R=Vee(h,{replace:o,state:l,target:f,preventScrollReset:p,relative:i,viewTransition:v});function T(C){n&&n(C),C.defaultPrevented||R(C)}return M.createElement("a",_b({},E,{href:k||A,onClick:N||s?n:T,ref:r,target:f}))});var HA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HA||(HA={}));var KA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KA||(KA={}));function Vee(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,f=wn(),h=Ln(),p=mP(t,{relative:o});return M.useCallback(v=>{if(Dee(v,r)){v.preventDefault();let E=n!==void 0?n:wg(h)===wg(p);f(t,{replace:E,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,f,p,n,i,r,t,s,o,l])}const Hee=()=>u.jsxs(Xt,{to:"/",className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-8 w-8 rounded-md bg-gradient-sodap"}),u.jsx("span",{className:"text-xl font-bold text-sodap-purple",children:"SoDap"})]}),Kee=({isCartPage:t,isProfilePage:e,isStorePage:r,isShopPage:n=!1,role:i="end_user"})=>{const s=Ln();return t?u.jsxs(u.Fragment,{children:[u.jsxs(Xt,{to:"/",className:"px-3 py-2 rounded-md flex items-center text-gray-600 hover:text-sodap-purple",children:[u.jsx(to,{size:18,className:"mr-1"})," Home"]}),u.jsx(Xt,{to:"/shop",className:`px-3 py-2 rounded-md ${s.pathname.includes("/shop")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Shop"}),u.jsx(Xt,{to:"/profile?tab=purchases",className:`px-3 py-2 rounded-md ${s.pathname.includes("/profile")&&s.search.includes("tab=purchases")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Purchase History"})]}):e?u.jsxs(u.Fragment,{children:[u.jsxs(Xt,{to:"/",className:"px-3 py-2 rounded-md flex items-center text-gray-600 hover:text-sodap-purple",children:[u.jsx(to,{size:18,className:"mr-1"})," Home"]}),u.jsx(Xt,{to:"/profile",className:`px-3 py-2 rounded-md ${s.pathname.includes("/profile")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Profile"}),u.jsx(Xt,{to:"/shop",className:`px-3 py-2 rounded-md ${s.pathname.includes("/shop")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Shop"})]}):r?u.jsxs(u.Fragment,{children:[u.jsx(Xt,{to:"/dashboard",className:`px-3 py-2 rounded-md ${s.pathname.includes("/dashboard")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Dashboard"}),u.jsx(Xt,{to:"/store",className:`px-3 py-2 rounded-md ${s.pathname.includes("/store")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Store"})]}):n?u.jsxs(u.Fragment,{children:[u.jsxs(Xt,{to:"/",className:"px-3 py-2 rounded-md flex items-center text-gray-600 hover:text-sodap-purple",children:[u.jsx(to,{size:18,className:"mr-1"})," Home"]}),u.jsx(Xt,{to:"/shop",className:"px-3 py-2 rounded-md text-sodap-purple font-medium",children:"Shop"}),u.jsx(Xt,{to:"/profile?tab=purchases",className:"px-3 py-2 rounded-md text-gray-600 hover:text-sodap-purple",children:"Purchase History"})]}):i==="platform_admin"||i==="store_manager"||i==="store_staff"?u.jsxs(u.Fragment,{children:[u.jsx(Xt,{to:"/dashboard",className:`px-3 py-2 rounded-md ${s.pathname.includes("/dashboard")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Dashboard"}),(i==="platform_admin"||i==="store_manager")&&u.jsx(Xt,{to:"/store",className:`px-3 py-2 rounded-md ${s.pathname.includes("/store")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Store"}),u.jsx(Xt,{to:"/shop",className:`px-3 py-2 rounded-md ${s.pathname.includes("/shop")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Shop"})]}):u.jsxs(u.Fragment,{children:[u.jsxs(Xt,{to:"/store-selection",className:`px-3 py-2 rounded-md flex items-center ${s.pathname.includes("/store-selection")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:[u.jsx(to,{size:18,className:"mr-1"})," Home"]}),u.jsx(Xt,{to:"/shop",className:`px-3 py-2 rounded-md ${s.pathname.includes("/shop")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Shop"}),u.jsx(Xt,{to:"/profile",className:`px-3 py-2 rounded-md ${s.pathname.includes("/profile")&&!s.search.includes("tab=purchases")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Profile"}),u.jsx(Xt,{to:"/profile?tab=purchases",className:`px-3 py-2 rounded-md ${s.pathname.includes("/profile")&&s.search.includes("tab=purchases")?"text-sodap-purple font-medium":"text-gray-600 hover:text-sodap-purple"}`,children:"Purchase History"})]})},qee=({totalItems:t})=>{const e=wn(),r=()=>{e("/cart")};return t<=0?null:u.jsxs("button",{onClick:r,className:"relative p-2 rounded-full hover:bg-gray-100","aria-label":"View Cart",children:[u.jsx(hg,{className:"h-6 w-6 text-sodap-purple"}),u.jsx("span",{className:"absolute -top-1 -right-1 bg-sodap-purple text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t})]})},pE=rf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ne=M.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?P4:"button";return u.jsx(o,{className:Ye(pE({variant:e,size:r,className:t})),ref:s,...i})});Ne.displayName="Button";var Gee=M.createContext(void 0);function Rp(t){const e=M.useContext(Gee);return t||e||"ltr"}var Gw=0;function mE(){M.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??qA()),document.body.insertAdjacentElement("beforeend",t[1]??qA()),Gw++,()=>{Gw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gw--}},[])}function qA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zw="focusScope.autoFocusOnMount",Yw="focusScope.autoFocusOnUnmount",GA={bubbles:!1,cancelable:!0},Zee="FocusScope",Gy=M.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,f]=M.useState(null),h=Cr(i),p=Cr(s),v=M.useRef(null),E=It(e,N=>f(N)),b=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let N=function(C){if(b.paused||!l)return;const j=C.target;l.contains(j)?v.current=j:Ta(v.current,{select:!0})},A=function(C){if(b.paused||!l)return;const j=C.relatedTarget;j!==null&&(l.contains(j)||Ta(v.current,{select:!0}))},R=function(C){if(document.activeElement===document.body)for(const D of C)D.removedNodes.length>0&&Ta(l)};document.addEventListener("focusin",N),document.addEventListener("focusout",A);const T=new MutationObserver(R);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",A),T.disconnect()}}},[n,l,b.paused]),M.useEffect(()=>{if(l){YA.add(b);const N=document.activeElement;if(!l.contains(N)){const R=new CustomEvent(Zw,GA);l.addEventListener(Zw,h),l.dispatchEvent(R),R.defaultPrevented||(Yee(tte(wP(l)),{select:!0}),document.activeElement===N&&Ta(l))}return()=>{l.removeEventListener(Zw,h),setTimeout(()=>{const R=new CustomEvent(Yw,GA);l.addEventListener(Yw,p),l.dispatchEvent(R),R.defaultPrevented||Ta(N??document.body,{select:!0}),l.removeEventListener(Yw,p),YA.remove(b)},0)}}},[l,h,p,b]);const k=M.useCallback(N=>{if(!r&&!n||b.paused)return;const A=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,R=document.activeElement;if(A&&R){const T=N.currentTarget,[C,j]=Qee(T);C&&j?!N.shiftKey&&R===j?(N.preventDefault(),r&&Ta(C,{select:!0})):N.shiftKey&&R===C&&(N.preventDefault(),r&&Ta(j,{select:!0})):R===T&&N.preventDefault()}},[r,n,b.paused]);return u.jsx(ft.div,{tabIndex:-1,...o,ref:E,onKeyDown:k})});Gy.displayName=Zee;function Yee(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ta(n,{select:e}),document.activeElement!==r)return}function Qee(t){const e=wP(t),r=ZA(e,t),n=ZA(e.reverse(),t);return[r,n]}function wP(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ZA(t,e){for(const r of t)if(!Jee(r,{upTo:e}))return r}function Jee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Xee(t){return t instanceof HTMLInputElement&&"select"in t}function Ta(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Xee(t)&&e&&t.select()}}var YA=ete();function ete(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=QA(t,e),t.unshift(e)},remove(e){var r;t=QA(t,e),(r=t[0])==null||r.resume()}}}function QA(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function tte(t){return t.filter(e=>e.tagName!=="A")}var Qw="rovingFocusGroup.onEntryFocus",rte={bubbles:!1,cancelable:!0},kp="RovingFocusGroup",[Sb,xP,nte]=Oy(kp),[ste,Zy]=Ys(kp,[nte]),[ite,ote]=ste(kp),bP=M.forwardRef((t,e)=>u.jsx(Sb.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Sb.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(ate,{...t,ref:e})})}));bP.displayName=kp;var ate=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...v}=t,E=M.useRef(null),b=It(e,E),k=Rp(s),[N,A]=Oc({prop:o,defaultProp:l??null,onChange:f,caller:kp}),[R,T]=M.useState(!1),C=Cr(h),j=xP(r),D=M.useRef(!1),[U,L]=M.useState(0);return M.useEffect(()=>{const F=E.current;if(F)return F.addEventListener(Qw,C),()=>F.removeEventListener(Qw,C)},[C]),u.jsx(ite,{scope:r,orientation:n,dir:k,loop:i,currentTabStopId:N,onItemFocus:M.useCallback(F=>A(F),[A]),onItemShiftTab:M.useCallback(()=>T(!0),[]),onFocusableItemAdd:M.useCallback(()=>L(F=>F+1),[]),onFocusableItemRemove:M.useCallback(()=>L(F=>F-1),[]),children:u.jsx(ft.div,{tabIndex:R||U===0?-1:0,"data-orientation":n,...v,ref:b,style:{outline:"none",...t.style},onMouseDown:qe(t.onMouseDown,()=>{D.current=!0}),onFocus:qe(t.onFocus,F=>{const W=!D.current;if(F.target===F.currentTarget&&W&&!R){const q=new CustomEvent(Qw,rte);if(F.currentTarget.dispatchEvent(q),!q.defaultPrevented){const V=j().filter(m=>m.focusable),K=V.find(m=>m.active),x=V.find(m=>m.id===N),d=[K,x,...V].filter(Boolean).map(m=>m.ref.current);EP(d,p)}}D.current=!1}),onBlur:qe(t.onBlur,()=>T(!1))})})}),_P="RovingFocusGroupItem",SP=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=t,f=ho(),h=s||f,p=ote(_P,r),v=p.currentTabStopId===h,E=xP(r),{onFocusableItemAdd:b,onFocusableItemRemove:k,currentTabStopId:N}=p;return M.useEffect(()=>{if(n)return b(),()=>k()},[n,b,k]),u.jsx(Sb.ItemSlot,{scope:r,id:h,focusable:n,active:i,children:u.jsx(ft.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:qe(t.onMouseDown,A=>{n?p.onItemFocus(h):A.preventDefault()}),onFocus:qe(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:qe(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){p.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const R=ute(A,p.orientation,p.dir);if(R!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let C=E().filter(j=>j.focusable).map(j=>j.ref.current);if(R==="last")C.reverse();else if(R==="prev"||R==="next"){R==="prev"&&C.reverse();const j=C.indexOf(A.currentTarget);C=p.loop?dte(C,j+1):C.slice(j+1)}setTimeout(()=>EP(C))}}),children:typeof o=="function"?o({isCurrentTabStop:v,hasTabStop:N!=null}):o})})});SP.displayName=_P;var lte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ute(t,e,r){const n=cte(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return lte[n]}function EP(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function dte(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var NP=bP,MP=SP,fte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},lu=new WeakMap,R0=new WeakMap,k0={},Jw=0,AP=function(t){return t&&(t.host||AP(t.parentNode))},hte=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=AP(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},pte=function(t,e,r,n){var i=hte(e,Array.isArray(t)?t:[t]);k0[r]||(k0[r]=new WeakMap);var s=k0[r],o=[],l=new Set,f=new Set(i),h=function(v){!v||l.has(v)||(l.add(v),h(v.parentNode))};i.forEach(h);var p=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(E){if(l.has(E))p(E);else try{var b=E.getAttribute(n),k=b!==null&&b!=="false",N=(lu.get(E)||0)+1,A=(s.get(E)||0)+1;lu.set(E,N),s.set(E,A),o.push(E),N===1&&k&&R0.set(E,!0),A===1&&E.setAttribute(r,"true"),k||E.setAttribute(n,"true")}catch(R){console.error("aria-hidden: cannot operate on ",E,R)}})};return p(e),l.clear(),Jw++,function(){o.forEach(function(v){var E=lu.get(v)-1,b=s.get(v)-1;lu.set(v,E),s.set(v,b),E||(R0.has(v)||v.removeAttribute(n),R0.delete(v)),b||v.removeAttribute(r)}),Jw--,Jw||(lu=new WeakMap,lu=new WeakMap,R0=new WeakMap,k0={})}},gE=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=fte(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),pte(n,i,r,"aria-hidden")):function(){return null}},ao=function(){return ao=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ao.apply(this,arguments)};function RP(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mte(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var mm="right-scroll-bar-position",gm="width-before-scroll-bar",gte="with-scroll-bars-hidden",yte="--removed-body-scroll-bar-size";function Xw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function vte(t,e){var r=M.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var wte=typeof window<"u"?M.useLayoutEffect:M.useEffect,JA=new WeakMap;function xte(t,e){var r=vte(null,function(n){return t.forEach(function(i){return Xw(i,n)})});return wte(function(){var n=JA.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(l){s.has(l)||Xw(l,null)}),s.forEach(function(l){i.has(l)||Xw(l,o)})}JA.set(r,t)},[t]),r}function bte(t){return t}function _te(t,e){e===void 0&&(e=bte);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var f=function(){var p=o;o=[],p.forEach(s)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(p){o.push(p),h()},filter:function(p){return o=o.filter(p),r}}}};return i}function Ste(t){t===void 0&&(t={});var e=_te(null);return e.options=ao({async:!0,ssr:!1},t),e}var kP=function(t){var e=t.sideCar,r=RP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,ao({},r))};kP.isSideCarExport=!0;function Ete(t,e){return t.useMedium(e),kP}var TP=Ste(),e1=function(){},Yy=M.forwardRef(function(t,e){var r=M.useRef(null),n=M.useState({onScrollCapture:e1,onWheelCapture:e1,onTouchMoveCapture:e1}),i=n[0],s=n[1],o=t.forwardProps,l=t.children,f=t.className,h=t.removeScrollBar,p=t.enabled,v=t.shards,E=t.sideCar,b=t.noIsolation,k=t.inert,N=t.allowPinchZoom,A=t.as,R=A===void 0?"div":A,T=t.gapMode,C=RP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=E,D=xte([r,e]),U=ao(ao({},C),i);return M.createElement(M.Fragment,null,p&&M.createElement(j,{sideCar:TP,removeScrollBar:h,shards:v,noIsolation:b,inert:k,setCallbacks:s,allowPinchZoom:!!N,lockRef:r,gapMode:T}),o?M.cloneElement(M.Children.only(l),ao(ao({},U),{ref:D})):M.createElement(R,ao({},U,{className:f,ref:D}),l))});Yy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yy.classNames={fullWidth:gm,zeroRight:mm};var Nte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Nte();return e&&t.setAttribute("nonce",e),t}function Ate(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Rte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kte=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Mte())&&(Ate(e,r),Rte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Tte=function(){var t=kte();return function(e,r){M.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},IP=function(){var t=Tte(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Ite={left:0,top:0,right:0,gap:0},t1=function(t){return parseInt(t||"",10)||0},Cte=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[t1(r),t1(n),t1(i)]},jte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ite;var e=Cte(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Ote=IP(),Ju="data-scroll-locked",Pte=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(gte,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ju,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(gm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(mm," .").concat(mm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(gm," .").concat(gm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ju,`] {
    `).concat(yte,": ").concat(l,`px;
  }
`)},XA=function(){var t=parseInt(document.body.getAttribute(Ju)||"0",10);return isFinite(t)?t:0},Lte=function(){M.useEffect(function(){return document.body.setAttribute(Ju,(XA()+1).toString()),function(){var t=XA()-1;t<=0?document.body.removeAttribute(Ju):document.body.setAttribute(Ju,t.toString())}},[])},Dte=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Lte();var s=M.useMemo(function(){return jte(i)},[i]);return M.createElement(Ote,{styles:Pte(s,!e,i,r?"":"!important")})},Eb=!1;if(typeof window<"u")try{var T0=Object.defineProperty({},"passive",{get:function(){return Eb=!0,!0}});window.addEventListener("test",T0,T0),window.removeEventListener("test",T0,T0)}catch{Eb=!1}var cu=Eb?{passive:!1}:!1,Bte=function(t){return t.tagName==="TEXTAREA"},CP=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Bte(t)&&r[e]==="visible")},Ute=function(t){return CP(t,"overflowY")},zte=function(t){return CP(t,"overflowX")},eR=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=jP(t,n);if(i){var s=OP(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Fte=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Wte=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},jP=function(t,e){return t==="v"?Ute(e):zte(e)},OP=function(t,e){return t==="v"?Fte(e):Wte(e)},$te=function(t,e){return t==="h"&&e==="rtl"?-1:1},Vte=function(t,e,r,n,i){var s=$te(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,f=e.contains(l),h=!1,p=o>0,v=0,E=0;do{var b=OP(t,l),k=b[0],N=b[1],A=b[2],R=N-A-s*k;(k||R)&&jP(t,l)&&(v+=R,E+=k),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!f&&l!==document.body||f&&(e.contains(l)||e===l));return(p&&Math.abs(v)<1||!p&&Math.abs(E)<1)&&(h=!0),h},I0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tR=function(t){return[t.deltaX,t.deltaY]},rR=function(t){return t&&"current"in t?t.current:t},Hte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Kte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qte=0,uu=[];function Gte(t){var e=M.useRef([]),r=M.useRef([0,0]),n=M.useRef(),i=M.useState(qte++)[0],s=M.useState(IP)[0],o=M.useRef(t);M.useEffect(function(){o.current=t},[t]),M.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var N=mte([t.lockRef.current],(t.shards||[]).map(rR),!0).filter(Boolean);return N.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=M.useCallback(function(N,A){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!o.current.allowPinchZoom;var R=I0(N),T=r.current,C="deltaX"in N?N.deltaX:T[0]-R[0],j="deltaY"in N?N.deltaY:T[1]-R[1],D,U=N.target,L=Math.abs(C)>Math.abs(j)?"h":"v";if("touches"in N&&L==="h"&&U.type==="range")return!1;var F=eR(L,U);if(!F)return!0;if(F?D=L:(D=L==="v"?"h":"v",F=eR(L,U)),!F)return!1;if(!n.current&&"changedTouches"in N&&(C||j)&&(n.current=D),!D)return!0;var W=n.current||D;return Vte(W,A,N,W==="h"?C:j)},[]),f=M.useCallback(function(N){var A=N;if(!(!uu.length||uu[uu.length-1]!==s)){var R="deltaY"in A?tR(A):I0(A),T=e.current.filter(function(D){return D.name===A.type&&(D.target===A.target||A.target===D.shadowParent)&&Hte(D.delta,R)})[0];if(T&&T.should){A.cancelable&&A.preventDefault();return}if(!T){var C=(o.current.shards||[]).map(rR).filter(Boolean).filter(function(D){return D.contains(A.target)}),j=C.length>0?l(A,C[0]):!o.current.noIsolation;j&&A.cancelable&&A.preventDefault()}}},[]),h=M.useCallback(function(N,A,R,T){var C={name:N,delta:A,target:R,should:T,shadowParent:Zte(R)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(j){return j!==C})},1)},[]),p=M.useCallback(function(N){r.current=I0(N),n.current=void 0},[]),v=M.useCallback(function(N){h(N.type,tR(N),N.target,l(N,t.lockRef.current))},[]),E=M.useCallback(function(N){h(N.type,I0(N),N.target,l(N,t.lockRef.current))},[]);M.useEffect(function(){return uu.push(s),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",f,cu),document.addEventListener("touchmove",f,cu),document.addEventListener("touchstart",p,cu),function(){uu=uu.filter(function(N){return N!==s}),document.removeEventListener("wheel",f,cu),document.removeEventListener("touchmove",f,cu),document.removeEventListener("touchstart",p,cu)}},[]);var b=t.removeScrollBar,k=t.inert;return M.createElement(M.Fragment,null,k?M.createElement(s,{styles:Kte(i)}):null,b?M.createElement(Dte,{gapMode:t.gapMode}):null)}function Zte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Yte=Ete(TP,Gte);var Qy=M.forwardRef(function(t,e){return M.createElement(Yy,ao({},t,{ref:e,sideCar:Yte}))});Qy.classNames=Yy.classNames;var Nb=["Enter"," "],Qte=["ArrowDown","PageUp","Home"],PP=["ArrowUp","PageDown","End"],Jte=[...Qte,...PP],Xte={ltr:[...Nb,"ArrowRight"],rtl:[...Nb,"ArrowLeft"]},ere={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tp="Menu",[Hh,tre,rre]=Oy(Tp),[Qc,LP]=Ys(Tp,[rre,af,Zy]),Jy=af(),DP=Zy(),[nre,Jc]=Qc(Tp),[sre,Ip]=Qc(Tp),BP=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,l=Jy(e),[f,h]=M.useState(null),p=M.useRef(!1),v=Cr(s),E=Rp(i);return M.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),u.jsx(q3,{...l,children:u.jsx(nre,{scope:e,open:r,onOpenChange:v,content:f,onContentChange:h,children:u.jsx(sre,{scope:e,onClose:M.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:p,dir:E,modal:o,children:n})})})};BP.displayName=Tp;var ire="MenuAnchor",yE=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Jy(r);return u.jsx(sE,{...i,...n,ref:e})});yE.displayName=ire;var vE="MenuPortal",[ore,UP]=Qc(vE,{forceMount:void 0}),zP=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=Jc(vE,e);return u.jsx(ore,{scope:e,forceMount:r,children:u.jsx(gs,{present:r||s.open,children:u.jsx(Np,{asChild:!0,container:i,children:n})})})};zP.displayName=vE;var oi="MenuContent",[are,wE]=Qc(oi),FP=M.forwardRef((t,e)=>{const r=UP(oi,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Jc(oi,t.__scopeMenu),o=Ip(oi,t.__scopeMenu);return u.jsx(Hh.Provider,{scope:t.__scopeMenu,children:u.jsx(gs,{present:n||s.open,children:u.jsx(Hh.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(lre,{...i,ref:e}):u.jsx(cre,{...i,ref:e})})})})}),lre=M.forwardRef((t,e)=>{const r=Jc(oi,t.__scopeMenu),n=M.useRef(null),i=It(e,n);return M.useEffect(()=>{const s=n.current;if(s)return gE(s)},[]),u.jsx(xE,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:qe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),cre=M.forwardRef((t,e)=>{const r=Jc(oi,t.__scopeMenu);return u.jsx(xE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ure=jc("MenuContent.ScrollLock"),xE=M.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:E,onDismiss:b,disableOutsideScroll:k,...N}=t,A=Jc(oi,r),R=Ip(oi,r),T=Jy(r),C=DP(r),j=tre(r),[D,U]=M.useState(null),L=M.useRef(null),F=It(e,L,A.onContentChange),W=M.useRef(0),q=M.useRef(""),V=M.useRef(0),K=M.useRef(null),x=M.useRef("right"),a=M.useRef(0),d=k?Qy:M.Fragment,m=k?{as:ure,allowPinchZoom:!0}:void 0,y=S=>{var re,ie;const I=q.current+S,w=j().filter(le=>!le.disabled),c=document.activeElement,_=(re=w.find(le=>le.ref.current===c))==null?void 0:re.textValue,$=w.map(le=>le.textValue),H=_re($,I,_),G=(ie=w.find(le=>le.textValue===H))==null?void 0:ie.ref.current;(function le(nt){q.current=nt,window.clearTimeout(W.current),nt!==""&&(W.current=window.setTimeout(()=>le(""),1e3))})(I),G&&setTimeout(()=>G.focus())};M.useEffect(()=>()=>window.clearTimeout(W.current),[]),mE();const g=M.useCallback(S=>{var w,c;return x.current===((w=K.current)==null?void 0:w.side)&&Ere(S,(c=K.current)==null?void 0:c.area)},[]);return u.jsx(are,{scope:r,searchRef:q,onItemEnter:M.useCallback(S=>{g(S)&&S.preventDefault()},[g]),onItemLeave:M.useCallback(S=>{var I;g(S)||((I=L.current)==null||I.focus(),U(null))},[g]),onTriggerLeave:M.useCallback(S=>{g(S)&&S.preventDefault()},[g]),pointerGraceTimerRef:V,onPointerGraceIntentChange:M.useCallback(S=>{K.current=S},[]),children:u.jsx(d,{...m,children:u.jsx(Gy,{asChild:!0,trapped:i,onMountAutoFocus:qe(s,S=>{var I;S.preventDefault(),(I=L.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(tf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:E,onDismiss:b,children:u.jsx(NP,{asChild:!0,...C,dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:D,onCurrentTabStopIdChange:U,onEntryFocus:qe(f,S=>{R.isUsingKeyboardRef.current||S.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(iE,{role:"menu","aria-orientation":"vertical","data-state":nL(A.open),"data-radix-menu-content":"",dir:R.dir,...T,...N,ref:F,style:{outline:"none",...N.style},onKeyDown:qe(N.onKeyDown,S=>{const w=S.target.closest("[data-radix-menu-content]")===S.currentTarget,c=S.ctrlKey||S.altKey||S.metaKey,_=S.key.length===1;w&&(S.key==="Tab"&&S.preventDefault(),!c&&_&&y(S.key));const $=L.current;if(S.target!==$||!Jte.includes(S.key))return;S.preventDefault();const G=j().filter(re=>!re.disabled).map(re=>re.ref.current);PP.includes(S.key)&&G.reverse(),xre(G)}),onBlur:qe(t.onBlur,S=>{S.currentTarget.contains(S.target)||(window.clearTimeout(W.current),q.current="")}),onPointerMove:qe(t.onPointerMove,Kh(S=>{const I=S.target,w=a.current!==S.clientX;if(S.currentTarget.contains(I)&&w){const c=S.clientX>a.current?"right":"left";x.current=c,a.current=S.clientX}}))})})})})})})});FP.displayName=oi;var dre="MenuGroup",bE=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(ft.div,{role:"group",...n,ref:e})});bE.displayName=dre;var fre="MenuLabel",WP=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(ft.div,{...n,ref:e})});WP.displayName=fre;var xg="MenuItem",nR="menu.itemSelect",Xy=M.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=M.useRef(null),o=Ip(xg,t.__scopeMenu),l=wE(xg,t.__scopeMenu),f=It(e,s),h=M.useRef(!1),p=()=>{const v=s.current;if(!r&&v){const E=new CustomEvent(nR,{bubbles:!0,cancelable:!0});v.addEventListener(nR,b=>n==null?void 0:n(b),{once:!0}),$S(v,E),E.defaultPrevented?h.current=!1:o.onClose()}};return u.jsx($P,{...i,ref:f,disabled:r,onClick:qe(t.onClick,p),onPointerDown:v=>{var E;(E=t.onPointerDown)==null||E.call(t,v),h.current=!0},onPointerUp:qe(t.onPointerUp,v=>{var E;h.current||(E=v.currentTarget)==null||E.click()}),onKeyDown:qe(t.onKeyDown,v=>{const E=l.searchRef.current!=="";r||E&&v.key===" "||Nb.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Xy.displayName=xg;var $P=M.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=wE(xg,r),l=DP(r),f=M.useRef(null),h=It(e,f),[p,v]=M.useState(!1),[E,b]=M.useState("");return M.useEffect(()=>{const k=f.current;k&&b((k.textContent??"").trim())},[s.children]),u.jsx(Hh.ItemSlot,{scope:r,disabled:n,textValue:i??E,children:u.jsx(MP,{asChild:!0,...l,focusable:!n,children:u.jsx(ft.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:h,onPointerMove:qe(t.onPointerMove,Kh(k=>{n?o.onItemLeave(k):(o.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:qe(t.onPointerLeave,Kh(k=>o.onItemLeave(k))),onFocus:qe(t.onFocus,()=>v(!0)),onBlur:qe(t.onBlur,()=>v(!1))})})})}),hre="MenuCheckboxItem",VP=M.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return u.jsx(ZP,{scope:t.__scopeMenu,checked:r,children:u.jsx(Xy,{role:"menuitemcheckbox","aria-checked":bg(r)?"mixed":r,...i,ref:e,"data-state":SE(r),onSelect:qe(i.onSelect,()=>n==null?void 0:n(bg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});VP.displayName=hre;var HP="MenuRadioGroup",[pre,mre]=Qc(HP,{value:void 0,onValueChange:()=>{}}),KP=M.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Cr(n);return u.jsx(pre,{scope:t.__scopeMenu,value:r,onValueChange:s,children:u.jsx(bE,{...i,ref:e})})});KP.displayName=HP;var qP="MenuRadioItem",GP=M.forwardRef((t,e)=>{const{value:r,...n}=t,i=mre(qP,t.__scopeMenu),s=r===i.value;return u.jsx(ZP,{scope:t.__scopeMenu,checked:s,children:u.jsx(Xy,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":SE(s),onSelect:qe(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});GP.displayName=qP;var _E="MenuItemIndicator",[ZP,gre]=Qc(_E,{checked:!1}),YP=M.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=gre(_E,r);return u.jsx(gs,{present:n||bg(s.checked)||s.checked===!0,children:u.jsx(ft.span,{...i,ref:e,"data-state":SE(s.checked)})})});YP.displayName=_E;var yre="MenuSeparator",QP=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(ft.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});QP.displayName=yre;var vre="MenuArrow",JP=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Jy(r);return u.jsx(oE,{...i,...n,ref:e})});JP.displayName=vre;var wre="MenuSub",[Zle,XP]=Qc(wre),Bf="MenuSubTrigger",eL=M.forwardRef((t,e)=>{const r=Jc(Bf,t.__scopeMenu),n=Ip(Bf,t.__scopeMenu),i=XP(Bf,t.__scopeMenu),s=wE(Bf,t.__scopeMenu),o=M.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:f}=s,h={__scopeMenu:t.__scopeMenu},p=M.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return M.useEffect(()=>p,[p]),M.useEffect(()=>{const v=l.current;return()=>{window.clearTimeout(v),f(null)}},[l,f]),u.jsx(yE,{asChild:!0,...h,children:u.jsx($P,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":nL(r.open),...t,ref:WS(e,i.onTriggerChange),onClick:v=>{var E;(E=t.onClick)==null||E.call(t,v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:qe(t.onPointerMove,Kh(v=>{s.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:qe(t.onPointerLeave,Kh(v=>{var b,k;p();const E=(b=r.content)==null?void 0:b.getBoundingClientRect();if(E){const N=(k=r.content)==null?void 0:k.dataset.side,A=N==="right",R=A?-5:5,T=E[A?"left":"right"],C=E[A?"right":"left"];s.onPointerGraceIntentChange({area:[{x:v.clientX+R,y:v.clientY},{x:T,y:E.top},{x:C,y:E.top},{x:C,y:E.bottom},{x:T,y:E.bottom}],side:N}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(v),v.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:qe(t.onKeyDown,v=>{var b;const E=s.searchRef.current!=="";t.disabled||E&&v.key===" "||Xte[n.dir].includes(v.key)&&(r.onOpenChange(!0),(b=r.content)==null||b.focus(),v.preventDefault())})})})});eL.displayName=Bf;var tL="MenuSubContent",rL=M.forwardRef((t,e)=>{const r=UP(oi,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Jc(oi,t.__scopeMenu),o=Ip(oi,t.__scopeMenu),l=XP(tL,t.__scopeMenu),f=M.useRef(null),h=It(e,f);return u.jsx(Hh.Provider,{scope:t.__scopeMenu,children:u.jsx(gs,{present:n||s.open,children:u.jsx(Hh.Slot,{scope:t.__scopeMenu,children:u.jsx(xE,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var v;o.isUsingKeyboardRef.current&&((v=f.current)==null||v.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:qe(t.onFocusOutside,p=>{p.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:qe(t.onEscapeKeyDown,p=>{o.onClose(),p.preventDefault()}),onKeyDown:qe(t.onKeyDown,p=>{var b;const v=p.currentTarget.contains(p.target),E=ere[o.dir].includes(p.key);v&&E&&(s.onOpenChange(!1),(b=l.trigger)==null||b.focus(),p.preventDefault())})})})})})});rL.displayName=tL;function nL(t){return t?"open":"closed"}function bg(t){return t==="indeterminate"}function SE(t){return bg(t)?"indeterminate":t?"checked":"unchecked"}function xre(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function bre(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function _re(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=bre(t,Math.max(s,0));i.length===1&&(o=o.filter(h=>h!==r));const f=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function Sre(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],f=e[o],h=l.x,p=l.y,v=f.x,E=f.y;p>n!=E>n&&r<(v-h)*(n-p)/(E-p)+h&&(i=!i)}return i}function Ere(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Sre(r,e)}function Kh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Nre=BP,Mre=yE,Are=zP,Rre=FP,kre=bE,Tre=WP,Ire=Xy,Cre=VP,jre=KP,Ore=GP,Pre=YP,Lre=QP,Dre=JP,Bre=eL,Ure=rL,ev="DropdownMenu",[zre,Yle]=Ys(ev,[LP]),ys=LP(),[Fre,sL]=zre(ev),iL=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,f=ys(e),h=M.useRef(null),[p,v]=Oc({prop:i,defaultProp:s??!1,onChange:o,caller:ev});return u.jsx(Fre,{scope:e,triggerId:ho(),triggerRef:h,contentId:ho(),open:p,onOpenChange:v,onOpenToggle:M.useCallback(()=>v(E=>!E),[v]),modal:l,children:u.jsx(Nre,{...f,open:p,onOpenChange:v,dir:n,modal:l,children:r})})};iL.displayName=ev;var oL="DropdownMenuTrigger",aL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=sL(oL,r),o=ys(r);return u.jsx(Mre,{asChild:!0,...o,children:u.jsx(ft.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:WS(e,s.triggerRef),onPointerDown:qe(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:qe(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});aL.displayName=oL;var Wre="DropdownMenuPortal",lL=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ys(e);return u.jsx(Are,{...n,...r})};lL.displayName=Wre;var cL="DropdownMenuContent",uL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sL(cL,r),s=ys(r),o=M.useRef(!1);return u.jsx(Rre,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:qe(t.onCloseAutoFocus,l=>{var f;o.current||(f=i.triggerRef.current)==null||f.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:qe(t.onInteractOutside,l=>{const f=l.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!i.modal||p)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uL.displayName=cL;var $re="DropdownMenuGroup",Vre=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(kre,{...i,...n,ref:e})});Vre.displayName=$re;var Hre="DropdownMenuLabel",dL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(Tre,{...i,...n,ref:e})});dL.displayName=Hre;var Kre="DropdownMenuItem",fL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(Ire,{...i,...n,ref:e})});fL.displayName=Kre;var qre="DropdownMenuCheckboxItem",hL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(Cre,{...i,...n,ref:e})});hL.displayName=qre;var Gre="DropdownMenuRadioGroup",Zre=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(jre,{...i,...n,ref:e})});Zre.displayName=Gre;var Yre="DropdownMenuRadioItem",pL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(Ore,{...i,...n,ref:e})});pL.displayName=Yre;var Qre="DropdownMenuItemIndicator",mL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(Pre,{...i,...n,ref:e})});mL.displayName=Qre;var Jre="DropdownMenuSeparator",gL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(Lre,{...i,...n,ref:e})});gL.displayName=Jre;var Xre="DropdownMenuArrow",ene=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(Dre,{...i,...n,ref:e})});ene.displayName=Xre;var tne="DropdownMenuSubTrigger",yL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(Bre,{...i,...n,ref:e})});yL.displayName=tne;var rne="DropdownMenuSubContent",vL=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ys(r);return u.jsx(Ure,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vL.displayName=rne;var nne=iL,sne=aL,ine=lL,wL=uL,xL=dL,bL=fL,_L=hL,SL=pL,EL=mL,NL=gL,ML=yL,AL=vL;const RL=nne,kL=sne,one=M.forwardRef(({className:t,inset:e,children:r,...n},i)=>u.jsxs(ML,{ref:i,className:Ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,u.jsx(d3,{className:"ml-auto h-4 w-4"})]}));one.displayName=ML.displayName;const ane=M.forwardRef(({className:t,...e},r)=>u.jsx(AL,{ref:r,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ane.displayName=AL.displayName;const EE=M.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(ine,{children:u.jsx(wL,{ref:n,sideOffset:e,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));EE.displayName=wL.displayName;const Xu=M.forwardRef(({className:t,inset:e,...r},n)=>u.jsx(bL,{ref:n,className:Ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));Xu.displayName=bL.displayName;const lne=M.forwardRef(({className:t,children:e,checked:r,...n},i)=>u.jsxs(_L,{ref:i,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(EL,{children:u.jsx(jd,{className:"h-4 w-4"})})}),e]}));lne.displayName=_L.displayName;const cne=M.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(SL,{ref:n,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(EL,{children:u.jsx(KY,{className:"h-2 w-2 fill-current"})})}),e]}));cne.displayName=SL.displayName;const une=M.forwardRef(({className:t,inset:e,...r},n)=>u.jsx(xL,{ref:n,className:Ye("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));une.displayName=xL.displayName;const Mb=M.forwardRef(({className:t,...e},r)=>u.jsx(NL,{ref:r,className:Ye("-mx-1 my-1 h-px bg-muted",t),...e}));Mb.displayName=NL.displayName;const dne=({isConnected:t,walletAddress:e="",onConnectWallet:r,onDisconnectWallet:n=()=>{},onChangeWallet:i=()=>{}})=>{const s=Ln();wn();const{toast:o}=Zs(),[l,f]=M.useState(!1),h=s.pathname.includes("/dashboard"),p=()=>{n(),o({title:"Wallet disconnected",description:"Your wallet has been disconnected."})};if(h)return null;const v=()=>{e&&(navigator.clipboard.writeText(e),f(!0),o({title:"Address copied",description:"Wallet address copied to clipboard"}),setTimeout(()=>f(!1),2e3))},E=e?`${e.slice(0,4)}...${e.slice(-4)}`:"";return t?u.jsxs(RL,{children:[u.jsx(kL,{asChild:!0,children:u.jsxs(Ne,{variant:"outline",className:"border-green-500 text-green-700 hover:bg-green-50 flex items-center gap-2",children:[u.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),u.jsx("span",{className:"text-sm font-medium",children:E}),u.jsx(By,{className:"h-4 w-4 ml-1"})]})}),u.jsxs(EE,{align:"end",className:"w-56",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 text-sm text-gray-500",children:[u.jsx("span",{children:"Wallet"}),u.jsx("span",{className:"font-mono",children:E})]}),u.jsx(Mb,{}),u.jsxs(Xu,{onClick:v,className:"cursor-pointer",children:[l?u.jsx(jd,{className:"mr-2 h-4 w-4 text-green-500"}):u.jsx(_c,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Copy Address"})]}),u.jsxs(Xu,{onClick:i,className:"cursor-pointer",children:[u.jsx(bl,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Change Wallet"})]}),u.jsx(Mb,{}),u.jsxs(Xu,{onClick:p,className:"cursor-pointer text-red-500 focus:text-red-500",children:[u.jsx(db,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Disconnect"})]})]})]}):u.jsxs(Ne,{onClick:r,variant:"outline",className:"border-sodap-purple text-sodap-purple hover:bg-sodap-purple/5 flex items-center gap-2",children:[u.jsx(bl,{className:"h-4 w-4"}),u.jsx("span",{children:"Connect Wallet"})]})},fne=()=>{const[t,e]=M.useState([]);M.useEffect(()=>{const n=()=>{const o=localStorage.getItem("cart");if(o)try{e(JSON.parse(o))}catch(l){console.error("Failed to parse cart from localStorage:",l),e([])}};n();const i=o=>{o.key==="cart"&&n()};window.addEventListener("storage",i);const s=()=>n();return window.addEventListener("cartUpdated",s),()=>{window.removeEventListener("storage",i),window.removeEventListener("cartUpdated",s)}},[]);const r=t.reduce((n,i)=>n+i.quantity,0);return{cartItems:t,totalCartItems:r}},hne=()=>{const{connect:t,connected:e,connecting:r,disconnect:n,publicKey:i,select:s,wallet:o}=ef(),{visible:l,setVisible:f}=FS(),[h,p]=M.useState(!1),{toast:v}=Zs(),E=async()=>{try{if(p(!0),!o){f(!0);return}await t(),v({title:"Wallet Connected",description:"Successfully connected to your wallet."})}catch(N){const A=OS(N);v({title:"Wallet Connection Error",description:A,variant:"destructive"})}finally{p(!1)}},b=async()=>{try{await n(),v({title:"Wallet Disconnected",description:"Your wallet has been disconnected."})}catch(N){console.error("Failed to disconnect wallet:",N),v({title:"Disconnect Error",description:"Failed to disconnect your wallet.",variant:"destructive"})}};return{walletStatus:{connected:e,connecting:r||h,address:i==null?void 0:i.toBase58()},connectWallet:E,disconnectWallet:b}},pne=({role:t="end_user"})=>{const{walletStatus:e,connectWallet:r,disconnectWallet:n}=hne(),{totalCartItems:i}=fne(),s=Ln(),[o,l]=J.useState(t);J.useEffect(()=>{if(t==="end_user"){const E=sessionStorage.getItem("userRole");(E==="platform_admin"||E==="store_manager"||E==="store_staff")&&l(E)}},[t]),s.pathname.includes("/dashboard");const f=s.pathname.includes("/store"),h=s.pathname.includes("/cart"),p=s.pathname.includes("/profile"),v=s.pathname.includes("/shop");return u.jsxs("header",{className:"flex justify-between items-center py-4 px-6 border-b bg-white sticky top-0 z-50 shadow-sm",children:[u.jsx("div",{className:"flex items-center",children:u.jsx(Xt,{to:"/store-selection",className:"flex items-center",children:u.jsx(Hee,{})})}),u.jsx("nav",{className:"hidden md:flex space-x-4",children:s.pathname!=="/landing"&&u.jsx(Kee,{isCartPage:h,isProfilePage:p,isStorePage:f,isShopPage:v,role:o})}),u.jsxs("div",{className:"flex items-center space-x-4",children:[!h&&!(s.pathname==="/dashboard/admin"||s.pathname==="/dashboard/manager"||s.pathname==="/dashboard/refunds")&&u.jsx(qee,{totalItems:i}),u.jsx(dne,{isConnected:e.connected,walletAddress:e.address,onConnectWallet:r,onDisconnectWallet:n,onChangeWallet:()=>{n(),setTimeout(()=>r(),500)}})]})]})},mne=({role:t="end_user"})=>{const[e,r]=J.useState(!1),n=Ln(),i=wn(),{toast:s}=Zs(),o=n.pathname.includes("/dashboard"),l=()=>{sessionStorage.removeItem("username"),sessionStorage.removeItem("userRole"),sessionStorage.removeItem("userWallet"),s({title:"Logged out successfully",description:"You have been logged out of your account."}),n.pathname==="/dashboard/manager"?i("/dashboard",{replace:!0}):i("/landing",{replace:!0})},h=(()=>{if(o){let p=[];switch(t){case"platform_admin":p=[{name:"Dashboard",icon:u.jsx(to,{size:18}),href:"/dashboard/admin"},{name:"Admin Info",icon:u.jsx(Zu,{size:18}),href:"/dashboard/admin-info"},{name:"Platform Admins",icon:u.jsx(hb,{size:18}),href:"/dashboard/admins"},{name:"Store Managers",icon:u.jsx(hb,{size:18}),href:"/dashboard/managers"},{name:"All Stores",icon:u.jsx(oh,{size:18}),href:"/dashboard/stores"},{name:"Analytics",icon:u.jsx(hm,{size:18}),href:"/dashboard/analytics"}];break;case"store_manager":p=[{name:"Dashboard",icon:u.jsx(to,{size:18}),href:"/dashboard/manager"},{name:"Settings",icon:u.jsx(Zu,{size:18}),href:"/dashboard/settings"}];break;case"store_staff":p=[{name:"Dashboard",icon:u.jsx(to,{size:18}),href:"/dashboard/staff"},{name:"Products",icon:u.jsx(hm,{size:18}),href:"/dashboard/products"},{name:"Refunds",icon:u.jsx(YY,{size:18}),href:"/dashboard/refunds"}];break;default:p=[{name:"Dashboard",icon:u.jsx(to,{size:18}),href:"/dashboard"},{name:"Login",icon:u.jsx(wA,{size:18}),href:"/login"}];break}return(t!=="end_user"||sessionStorage.getItem("username"))&&p.push({name:"Logout",icon:u.jsx(db,{size:18}),href:"#",onClick:l}),p}else return sessionStorage.getItem("username")?[{name:"Home",icon:u.jsx(to,{size:18}),href:"/store-selection"},{name:"Shop",icon:u.jsx(oh,{size:18}),href:"/shop"},{name:"Profile",icon:u.jsx(Zu,{size:18}),href:"/profile"},{name:"Purchase History",icon:u.jsx(hm,{size:18}),href:"/profile?tab=purchases"},{name:"Cart",icon:u.jsx(hg,{size:18}),href:"/cart"},{name:"Logout",icon:u.jsx(db,{size:18}),href:"#",onClick:l}]:[{name:"Home",icon:u.jsx(to,{size:18}),href:"/store-selection"},{name:"Shop",icon:u.jsx(oh,{size:18}),href:"/shop"},{name:"Cart",icon:u.jsx(hg,{size:18}),href:"/cart"},{name:"Login",icon:u.jsx(wA,{size:18}),href:"/login"}]})();return u.jsxs("div",{className:`${e?"w-16":"w-64"} bg-sidebar transition-all duration-300 h-screen border-r relative`,children:[u.jsx("button",{className:"absolute -right-3 top-16 bg-white border rounded-full p-1 shadow-md",onClick:()=>r(!e),children:e?u.jsx(d3,{size:16}):u.jsx($Y,{size:16})}),u.jsxs("div",{className:"p-4",children:[!e&&u.jsxs("div",{className:"text-lg font-semibold text-sodap-purple mb-8",children:[t==="platform_admin"&&"Platform Admin",t==="store_manager"&&"Store Manager",t==="store_staff"&&"Store Staff",t==="end_user"&&(o?"Admin Menu":"SoDap Menu")]}),u.jsx("nav",{className:"space-y-2",children:h.map(p=>u.jsxs(Xt,{to:p.href,onClick:p.onClick,className:`flex items-center p-3 rounded-md hover:bg-accent text-gray-600 hover:text-sodap-purple transition-colors ${n.pathname===p.href?"bg-accent text-sodap-purple":""}`,children:[u.jsx("span",{children:p.icon}),!e&&u.jsx("span",{className:"ml-3",children:p.name})]},p.name))})]})]})},TL=()=>{const e=Ln().pathname.includes("/dashboard");return u.jsx("footer",{className:"bg-gray-50 py-10 border-t",children:u.jsx("div",{className:"container mx-auto px-4 text-center text-gray-600",children:e?u.jsx("p",{children:" 2025 SoDap Teams"}):u.jsx("p",{children:" 2025 SoDap - Blockchain Shopping Platform, all rights reserved."})})})},di=({children:t,hideNav:e=!1,role:r="end_user"})=>{const n=Ln(),s=n.pathname==="/"||n.pathname==="/login"||n.pathname==="/signup";return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(pne,{role:r}),u.jsxs("div",{className:"flex flex-1",children:[!s&&!e&&u.jsx(mne,{role:r}),u.jsx("main",{className:"flex-1 p-6 overflow-y-auto ",children:t})]}),u.jsx(TL,{})]})},Xc=()=>M.useContext(qO),gne=async(t,e)=>{try{console.log("Creating initialize transaction..."),console.log("Using program ID:",t.programId.toString()),console.log("With wallet:",e.toString());const r=await t.methods.initialize().accounts({payer:e}).rpc();return console.log("Transaction sent successfully!"),r}catch(r){throw console.error("Error creating initialize transaction:",r),r instanceof Error?new Error(`Initialize transaction failed: ${r.message}`):new Error("Initialize transaction failed with unknown error")}},yne=async(t,e,r,n)=>{try{console.log("Creating user profile transaction...");const i=await t.methods.createOrUpdateUserProfile(null,r,n,null).accounts({payer:e}).rpc();return console.log("User profile created successfully!"),i}catch(i){throw console.error("Error creating user profile:",i),i instanceof Error?new Error(`User profile creation failed: ${i.message}`):new Error("User profile creation failed with unknown error")}},vne=()=>{const{program:t,connection:e,walletAddress:r,isConnected:n,connectWallet:i,disconnectWallet:s}=Xc(),[o,l]=M.useState(null),[f,h]=M.useState(""),[p,v]=M.useState(null),[E,b]=M.useState(!1),[k,N]=M.useState("Test User"),[A,R]=M.useState("test@example.com"),T=async()=>{await i()?console.log("Wallet connected successfully"):console.error("Failed to connect wallet")},C=async()=>{if(!(!e||!r))try{const L=new me(r),F=await e.getBalance(L);l(F/rc)}catch(L){console.error("Error checking balance:",L),l(null)}},j=async()=>{if(!t){h("Program not connected. Connect wallet first.");return}try{const L=t.programId.toString();h(`Successfully connected to program: ${L}`)}catch(L){console.error("Error testing program connection:",L),h(`Error: ${L instanceof Error?L.message:String(L)}`)}},D=async()=>{if(!t||!r){h("Program or wallet not connected.");return}b(!0);try{const L=new me(r),F=await gne(t,L);v(F),h("Initialize transaction successful!")}catch(L){console.error("Error sending initialize transaction:",L),h(`Transaction Error: ${L instanceof Error?L.message:String(L)}`)}finally{b(!1)}},U=async()=>{if(!t||!r){h("Program or wallet not connected.");return}b(!0);try{const L=new me(r),F=await yne(t,L,k,A);v(F),h("Create user profile transaction successful!")}catch(L){console.error("Error sending create user transaction:",L),h(`Transaction Error: ${L instanceof Error?L.message:String(L)}`)}finally{b(!1)}};return u.jsxs("div",{className:"p-4 border rounded-lg max-w-md mx-auto my-8",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Wallet & Program Test"}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("p",{className:"mb-2",children:["Status:"," ",u.jsx("span",{className:n?"text-green-500":"text-red-500",children:n?"Connected":"Disconnected"})]}),r&&u.jsxs("p",{className:"mb-2 truncate",children:["Address: ",u.jsx("span",{className:"font-mono text-sm",children:r})]}),o!==null&&u.jsxs("p",{className:"mb-2",children:["Balance: ",u.jsxs("span",{children:[o," SOL"]})]})]}),u.jsx("div",{className:"flex flex-col gap-2",children:n?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:s,className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Disconnect"}),u.jsx("button",{onClick:C,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Check Balance"}),u.jsx("button",{onClick:j,className:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded",children:"Test Program Connection"}),u.jsx("hr",{className:"my-2"}),u.jsx("h3",{className:"font-bold mt-2",children:"Test Transactions:"}),u.jsx("button",{onClick:D,disabled:E,className:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50",children:E?"Processing...":"Send Initialize Transaction"}),u.jsxs("div",{className:"mt-2",children:[u.jsx("h4",{className:"font-semibold mb-1",children:"Create User Profile:"}),u.jsx("input",{type:"text",value:k,onChange:L=>N(L.target.value),placeholder:"User Name",className:"w-full p-2 border rounded mb-2"}),u.jsx("input",{type:"email",value:A,onChange:L=>R(L.target.value),placeholder:"Email",className:"w-full p-2 border rounded mb-2"}),u.jsx("button",{onClick:U,disabled:E,className:"bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded w-full disabled:opacity-50",children:E?"Processing...":"Create User Profile"})]})]}):u.jsx("button",{onClick:T,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Connect Wallet"})}),f&&u.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded",children:[u.jsx("h3",{className:"font-bold",children:"Test Result:"}),u.jsx("p",{children:f}),p&&u.jsxs("div",{className:"mt-2",children:[u.jsx("p",{className:"font-semibold",children:"Transaction Signature:"}),u.jsx("p",{className:"font-mono text-xs break-all",children:p})]})]})]})},wne=()=>{var r,n,i;const[t,e]=M.useState(!1);return u.jsx(di,{role:"end_user",children:u.jsxs("div",{className:"container mx-auto p-4",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Solana Wallet Test Page"}),u.jsxs("div",{className:"mb-8 max-w-2xl mx-auto",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-2 text-blue-800",children:"How to use this test page:"}),u.jsxs("ol",{className:"list-decimal pl-6 space-y-2 text-blue-700",children:[u.jsxs("li",{children:["Make sure your ",u.jsx("strong",{children:"Phantom wallet extension"})," is installed and unlocked"]}),u.jsxs("li",{children:["Click ",u.jsx("strong",{children:"Connect Wallet"})," to connect to Phantom"]}),u.jsx("li",{children:"Once connected, you can check your balance or test transaction functions"}),u.jsx("li",{children:"If you encounter any issues, check the debugging information below"})]})]}),u.jsxs(Ne,{variant:"outline",onClick:()=>e(!t),className:"mb-4 w-full",children:[t?"Hide":"Show"," Debugging Information"]}),t&&u.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6 text-sm font-mono overflow-auto",children:[u.jsx("h3",{className:"font-bold mb-2",children:"Wallet Extension Info:"}),u.jsxs("p",{children:["Phantom Available:"," ",typeof window<"u"&&window.phantom?"Yes":"No"]}),u.jsxs("p",{children:["Phantom Solana Provider:"," ",typeof window<"u"&&((r=window.phantom)!=null&&r.solana)?"Yes":"No"]}),u.jsxs("p",{children:["Is Phantom:"," ",typeof window<"u"&&((i=(n=window.phantom)==null?void 0:n.solana)!=null&&i.isPhantom)?"Yes":"No"]}),u.jsxs("p",{children:["Secure Context:"," ",typeof window<"u"&&window.isSecureContext?"Yes":"No"]}),u.jsx("h3",{className:"font-bold mt-4 mb-2",children:"Environment Info:"}),u.jsxs("p",{children:["Solana Endpoint:"," ","Not set in .env"]}),u.jsxs("p",{children:["Program ID:"," ","4eLJ3QGiNrPN6UUr2fNxq6tUZqFdBMVpXkL2MhsKNriv"]}),u.jsxs("p",{children:["Development Mode:"," ","No"]})]})]}),u.jsx(vne,{}),u.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[u.jsx("p",{children:"Having problems with your wallet? Try these steps:"}),u.jsxs("ol",{className:"text-left max-w-md mx-auto mt-2 space-y-1",children:[u.jsx("li",{children:"1. Make sure your Phantom wallet is unlocked"}),u.jsx("li",{children:"2. Try refreshing the page and reconnecting"}),u.jsx("li",{children:"3. Disable and re-enable the Phantom extension"}),u.jsx("li",{children:"4. Check your browser console for specific error messages"}),u.jsx("li",{children:"5. Make sure the Solana validator is running (port 8999)"})]})]})]})})};class Nf extends M.Component{constructor(){super(...arguments);Or(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){var r,n;return this.state.hasError?this.props.fallback?this.props.fallback:u.jsxs("div",{className:"p-4 m-4 border border-red-500 rounded bg-red-50 text-red-700",children:[u.jsx("h2",{className:"text-lg font-bold mb-2",children:"Something went wrong"}),u.jsxs("details",{className:"whitespace-pre-wrap",children:[u.jsx("summary",{className:"cursor-pointer",children:"Show Error Details"}),u.jsxs("pre",{className:"mt-2 p-2 bg-red-100 rounded overflow-auto text-sm",children:[(r=this.state.error)==null?void 0:r.toString(),`

`,(n=this.state.error)==null?void 0:n.stack]})]})]}):this.props.children}}const xne=()=>u.jsx("section",{className:"bg-white",children:u.jsx("div",{className:"container mx-auto px-4 py-16 md:py-32",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[u.jsxs("div",{className:"md:w-1/2 mb-10 md:mb-0",children:[u.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[u.jsx("span",{className:"text-sodap-purple",children:"Shop"})," On-Chain",u.jsx("br",{}),"Walk Out ",u.jsx("span",{className:"text-sodap-blue",children:"Free"})]}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"SoDap connects Solana with everyday shopping. Fast, secure, rewarding."}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx(Xt,{to:"/signup",children:u.jsxs(Ne,{className:"bg-sodap-purple hover:bg-sodap-purple/90 text-white px-6 py-2",children:["Get Started ",u.jsx(Dy,{size:16,className:"ml-2"})]})}),u.jsx(Xt,{to:"/login",children:u.jsx(Ne,{variant:"outline",className:"border-sodap-purple text-sodap-purple hover:bg-sodap-purple/5",children:"Sign In"})})]})]}),u.jsx("div",{className:"md:w-1/2",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute -left-6 -top-6 w-64 h-64 bg-purple-100 rounded-full"}),u.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-blue-100 rounded-full"}),u.jsx("div",{className:"relative z-10 w-full h-80 bg-gradient-to-r from-sodap-purple to-sodap-blue rounded-xl shadow-xl"})]})})]})})}),r1=({icon:t,iconColor:e,title:r,description:n})=>u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm",children:[u.jsx("div",{className:`w-12 h-12 ${e||"bg-purple-100"} rounded-full flex items-center justify-center mb-6`,children:u.jsx(t,{className:"text-purple-500",size:24})}),u.jsx("h3",{className:"text-xl font-bold mb-3",children:r}),u.jsx("p",{className:"text-gray-600",children:n})]}),bne=()=>u.jsx("section",{className:"py-20 bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-3xl font-bold text-center mb-16",children:"Why Choose SoDap?"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-10",children:[u.jsx(r1,{icon:hg,iconColor:"bg-sodap-purple/10",title:"Instant Checkout",description:"Pay with SOL and complete purchases in seconds with instant confirmations."}),u.jsx(r1,{icon:oh,iconColor:"bg-sodap-blue/10",title:"Transparent Transactions",description:"All transactions are recorded on the Solana blockchain for complete transparency and security."}),u.jsx(r1,{icon:Zu,iconColor:"bg-sodap-purple/10",title:"Secure Escrow",description:"Shop with confidence knowing funds are secure until your purchase is complete."})]})]})}),St=M.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));St.displayName="Card";const qt=M.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ye("flex flex-col space-y-1.5 p-6",t),...e}));qt.displayName="CardHeader";const Gt=M.forwardRef(({className:t,...e},r)=>u.jsx("h3",{ref:r,className:Ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));Gt.displayName="CardTitle";const Ci=M.forwardRef(({className:t,...e},r)=>u.jsx("p",{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));Ci.displayName="CardDescription";const Et=M.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ye("p-6 pt-0",t),...e}));Et.displayName="CardContent";const NE=M.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ye("flex items-center p-6 pt-0",t),...e}));NE.displayName="CardFooter";var _ne="AspectRatio",IL=M.forwardRef((t,e)=>{const{ratio:r=1/1,style:n,...i}=t;return u.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:u.jsx(ft.div,{...i,ref:e,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});IL.displayName=_ne;var Sne=IL;const Ene=Sne,n1=({id:t,name:e,description:r,imageUrl:n,iconColor:i,linkColor:s})=>u.jsxs(St,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[u.jsx(Ene,{ratio:16/9,children:u.jsx("img",{src:n,alt:e,className:"object-cover w-full h-full"})}),u.jsxs(Et,{className:"pt-6",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx("div",{className:`w-8 h-8 ${i||"bg-purple-100"} rounded-full flex items-center justify-center mr-3`,children:u.jsx(oh,{className:"text-purple-500",size:16})}),u.jsx("h3",{className:"text-xl font-semibold",children:e})]}),u.jsx("p",{className:"text-gray-600",children:r})]}),u.jsx(NE,{className:"border-t pt-4",children:u.jsxs(Xt,{to:`/store?id=${t}`,className:"text-purple-500 hover:underline font-medium flex items-center",children:["Visit Store ",u.jsx(Dy,{size:16,className:"ml-2"})]})})]}),Nne=()=>u.jsx("section",{className:"py-20 bg-white",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"Featured Stores"}),u.jsx("p",{className:"text-lg text-gray-600 text-center mb-12 max-w-2xl mx-auto",children:"Discover our partner stores and enjoy exclusive SoDap rewards when you shop with them."}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[u.jsx(n1,{id:"cafe",name:"SoDap Cafe",description:"Specialty coffee, pastries, and healthy bites. Earn 5% back in SoDap rewards on every purchase.",imageUrl:"https://images.unsplash.com/photo-1559925393-8be0ec4767c8",iconColor:"bg-sodap-purple/10",linkColor:"text-sodap-purple"}),u.jsx(n1,{id:"lidl",name:"SoDap Lidl",description:"Groceries and household essentials at everyday low prices. Double SoDap points on weekends.",imageUrl:"https://images.unsplash.com/photo-1534723328310-e82dad3ee43f",iconColor:"bg-sodap-blue/10",linkColor:"text-sodap-blue"}),u.jsx(n1,{id:"electronics",name:"SoDap Electronics",description:"Latest tech gadgets and accessories with expert advice. Get 10% SoDap cashback on your first purchase.",imageUrl:"https://images.unsplash.com/photo-1550009158-9ebf69173e03",iconColor:"bg-sodap-purple/10",linkColor:"text-sodap-purple"})]})]})}),Mne=()=>u.jsx("section",{className:"py-20",children:u.jsxs("div",{className:"container mx-auto px-4 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to Experience Web3 Shopping?"}),u.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Join thousands of others who are already enjoying the benefits of decentralized commerce."}),u.jsx(Xt,{to:"/signup",children:u.jsx(Ne,{className:"bg-sodap-purple hover:bg-sodap-purple/90 text-white px-8 py-6 text-lg",children:"Get Started Today"})})]})}),Ane=()=>u.jsxs("div",{className:"flex flex-col min-h-screen",children:[u.jsx(Nf,{children:u.jsx(xne,{})}),u.jsx(Nf,{children:u.jsx(bne,{})}),u.jsx(Nf,{children:u.jsx(Nne,{})}),u.jsx(Nf,{children:u.jsx(Mne,{})}),u.jsx(Nf,{children:u.jsx(TL,{})})]}),Ot=M.forwardRef(({className:t,type:e,...r},n)=>u.jsx("input",{type:e,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ot.displayName="Input";const Cp=({className:t})=>{const e=wn(),r=()=>{e(-1)};return u.jsxs(Ne,{variant:"ghost",onClick:r,className:`flex items-center gap-2 p-2 hover:bg-gray-100 ${t}`,children:[u.jsx(u3,{className:"h-4 w-4"}),u.jsx("span",{children:"Back"})]})},Rne=()=>{const[t,e]=M.useState(""),[r,n]=M.useState(""),[i,s]=M.useState(!1),[o,l]=M.useState("email"),[f,h]=M.useState(!1),{toast:p}=Zs(),v=wn(),E={email:"batur@sodap.io",password:"batur123"},b=N=>{if(N.preventDefault(),o==="email"){if(!t){p({title:"Email required",description:"Please enter your email address.",variant:"destructive"});return}l("password")}else k()},k=async()=>{if(!r){p({title:"Password required",description:"Please enter your password.",variant:"destructive"});return}s(!0);const N=t.split("@")[0];sessionStorage.setItem("username",N),setTimeout(()=>{s(!1),p({title:"Login successful",description:"You have been logged in."}),v("/store-selection")},1e3)};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs(St,{className:"w-full max-w-md overflow-hidden",children:[u.jsx("div",{className:"absolute top-4 left-4",children:o==="password"?u.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>l("email"),className:"text-gray-500 hover:text-gray-900",children:"Back"}):u.jsx(Cp,{})}),u.jsxs(qt,{className:"space-y-1 flex flex-col items-center pt-10",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-sodap mb-4"}),u.jsx(Gt,{className:"text-2xl font-bold",children:"Sign in to SoDap"}),o==="email"&&u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Enter your email to continue"}),o==="password"&&u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-900 font-medium",children:t}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Enter your password"})]})]}),u.jsxs(Et,{children:[u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o==="email"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ot,{id:"email",placeholder:"Email",type:"email",value:t,onChange:N=>e(N.target.value),className:"h-12",required:!0,autoFocus:!0}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200 mt-2 text-sm",children:[u.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Test User Credentials:"}),u.jsxs("p",{className:"text-gray-600",children:["Email: ",u.jsx("span",{className:"font-mono",children:E.email})]}),u.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"(Click to auto-fill)"}),u.jsx(Ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>e(E.email),className:"w-full mt-2 h-8 text-xs bg-gray-100 hover:bg-gray-200",children:"Use Test Email"})]}),u.jsxs(Ne,{type:"submit",className:"w-full bg-sodap-purple hover:bg-sodap-purple/90 text-white h-12 flex items-center justify-center",children:["Continue ",u.jsx(Dy,{size:16,className:"ml-2"})]})]}),o==="password"&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Ot,{id:"password",placeholder:"Password",type:f?"text":"password",value:r,onChange:N=>n(N.target.value),className:"h-12 pr-12",required:!0,autoFocus:!0}),u.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?u.jsx(Dh,{size:18}):u.jsx(Bh,{size:18})})]}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200 mt-2 text-sm",children:[u.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Test User Credentials:"}),u.jsxs("p",{className:"text-gray-600",children:["Password: ",u.jsx("span",{className:"font-mono",children:E.password})]}),u.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"(Click to auto-fill)"}),u.jsx(Ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>n(E.password),className:"w-full mt-2 h-8 text-xs bg-gray-100 hover:bg-gray-200",children:"Use Test Password"})]}),u.jsx(Ne,{type:"submit",className:"w-full bg-sodap-purple hover:bg-sodap-purple/90 text-white h-12",disabled:i,children:i?"Signing In...":"Sign In"})]})]}),u.jsx("div",{className:"mt-4 text-center text-sm",children:u.jsx(Xt,{to:"/forgot-password",className:"text-sodap-blue hover:underline",children:"Forgot password?"})}),u.jsxs("div",{className:"mt-6 text-center text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Don't have an account? "}),u.jsx(Xt,{to:"/signup",className:"text-sodap-purple hover:underline font-medium",children:"Sign Up"})]})]})]})})},kne=()=>{const[t,e]=J.useState(""),[r,n]=J.useState(""),[i,s]=J.useState(""),[o,l]=J.useState(""),[f,h]=J.useState(""),[p,v]=J.useState(!1),{toast:E}=Zs(),b=async k=>{if(k.preventDefault(),i!==o){E({title:"Passwords don't match",description:"Please make sure your passwords match.",variant:"destructive"});return}v(!0),setTimeout(()=>{v(!1),sessionStorage.setItem("username",t),f&&sessionStorage.setItem("walletAddress",f),E({title:"Account created",description:"Your SoDap account has been created successfully."})},1e3)};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs(St,{className:"w-full max-w-md",children:[u.jsxs(qt,{className:"space-y-1 flex flex-col items-center",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-sodap mb-4"}),u.jsx(Gt,{className:"text-2xl font-bold",children:"Create your SoDap account"})]}),u.jsxs(Et,{children:[u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsx("div",{className:"space-y-2",children:u.jsx(Ot,{id:"username",placeholder:"Username",type:"text",value:t,onChange:k=>e(k.target.value),className:"h-12",required:!0})}),u.jsx("div",{className:"space-y-2",children:u.jsx(Ot,{id:"email",placeholder:"Email",type:"email",value:r,onChange:k=>n(k.target.value),className:"h-12",required:!0})}),u.jsx("div",{className:"space-y-2",children:u.jsx(Ot,{id:"password",placeholder:"Password",type:"password",value:i,onChange:k=>s(k.target.value),className:"h-12",required:!0})}),u.jsx("div",{className:"space-y-2",children:u.jsx(Ot,{id:"confirmPassword",placeholder:"Confirm Password",type:"password",value:o,onChange:k=>l(k.target.value),className:"h-12",required:!0})}),u.jsxs("div",{className:"space-y-2 relative",children:[u.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:u.jsx(bl,{size:18})}),u.jsx(Ot,{id:"walletAddress",placeholder:"Wallet Address (Optional)",type:"text",value:f,onChange:k=>h(k.target.value),className:"h-12 pl-10"})]}),u.jsx("div",{className:"pt-2",children:u.jsx(Ne,{type:"submit",className:"w-full bg-sodap-blue hover:bg-sodap-blue/90 text-white h-12",disabled:p,children:p?"Creating Account...":"Create Account"})})]}),u.jsxs("div",{className:"mt-6 text-center text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Already have an account? "}),u.jsx(Xt,{to:"/login",className:"text-sodap-purple hover:underline font-medium",children:"Sign In"})]})]})]})})},Tne=()=>{const[t,e]=J.useState(""),[r,n]=J.useState(!1),[i,s]=J.useState(!1),{toast:o}=Zs(),l=async f=>{f.preventDefault(),n(!0),setTimeout(()=>{n(!1),s(!0),o({title:"Reset link sent",description:"If this email exists, a reset link has been sent."})},1e3)};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs(St,{className:"w-full max-w-md",children:[u.jsx("div",{className:"absolute top-4 left-4",children:u.jsx(Cp,{})}),u.jsxs(qt,{className:"space-y-1 flex flex-col items-center pt-10",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-sodap mb-4"}),u.jsx(Gt,{className:"text-2xl font-bold",children:"Reset your password"}),u.jsx(Ci,{className:"text-center",children:"Enter your email address and we'll send you a link to reset your password"})]}),u.jsxs(Et,{children:[i?u.jsxs("div",{className:"text-center p-4",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-500 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("p",{className:"mt-4 text-gray-600",children:"If an account exists with this email, you will receive a reset link shortly."})]}):u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsx("div",{className:"space-y-2",children:u.jsx(Ot,{id:"email",placeholder:"Email",type:"email",value:t,onChange:f=>e(f.target.value),className:"h-12",required:!0})}),u.jsx("div",{className:"pt-2",children:u.jsx(Ne,{type:"submit",className:"w-full bg-sodap-purple hover:bg-sodap-purple/90 text-white h-12",disabled:r,children:r?"Sending...":"Send Reset Link"})})]}),u.jsx("div",{className:"mt-6 text-center text-sm",children:u.jsx(Xt,{to:"/login",className:"text-sodap-blue hover:underline",children:"Return to Sign In"})})]})]})})},tv=M.forwardRef(({className:t,...e},r)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:r,className:Ye("w-full caption-bottom text-sm",t),...e})}));tv.displayName="Table";const rv=M.forwardRef(({className:t,...e},r)=>u.jsx("thead",{ref:r,className:Ye("[&_tr]:border-b",t),...e}));rv.displayName="TableHeader";const nv=M.forwardRef(({className:t,...e},r)=>u.jsx("tbody",{ref:r,className:Ye("[&_tr:last-child]:border-0",t),...e}));nv.displayName="TableBody";const Ine=M.forwardRef(({className:t,...e},r)=>u.jsx("tfoot",{ref:r,className:Ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Ine.displayName="TableFooter";const Lc=M.forwardRef(({className:t,...e},r)=>u.jsx("tr",{ref:r,className:Ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Lc.displayName="TableRow";const In=M.forwardRef(({className:t,...e},r)=>u.jsx("th",{ref:r,className:Ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));In.displayName="TableHead";const Cn=M.forwardRef(({className:t,...e},r)=>u.jsx("td",{ref:r,className:Ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Cn.displayName="TableCell";const Cne=M.forwardRef(({className:t,...e},r)=>u.jsx("caption",{ref:r,className:Ye("mt-4 text-sm text-muted-foreground",t),...e}));Cne.displayName="TableCaption";var sv="Dialog",[CL,jL]=Ys(sv),[jne,Vi]=CL(sv),OL=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=M.useRef(null),f=M.useRef(null),[h,p]=Oc({prop:n,defaultProp:i??!1,onChange:s,caller:sv});return u.jsx(jne,{scope:e,triggerRef:l,contentRef:f,contentId:ho(),titleId:ho(),descriptionId:ho(),open:h,onOpenChange:p,onOpenToggle:M.useCallback(()=>p(v=>!v),[p]),modal:o,children:r})};OL.displayName=sv;var PL="DialogTrigger",LL=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vi(PL,r),s=It(e,i.triggerRef);return u.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":RE(i.open),...n,ref:s,onClick:qe(t.onClick,i.onOpenToggle)})});LL.displayName=PL;var ME="DialogPortal",[One,DL]=CL(ME,{forceMount:void 0}),BL=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Vi(ME,e);return u.jsx(One,{scope:e,forceMount:r,children:M.Children.map(n,o=>u.jsx(gs,{present:r||s.open,children:u.jsx(Np,{asChild:!0,container:i,children:o})}))})};BL.displayName=ME;var _g="DialogOverlay",UL=M.forwardRef((t,e)=>{const r=DL(_g,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Vi(_g,t.__scopeDialog);return s.modal?u.jsx(gs,{present:n||s.open,children:u.jsx(Lne,{...i,ref:e})}):null});UL.displayName=_g;var Pne=jc("DialogOverlay.RemoveScroll"),Lne=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vi(_g,r);return u.jsx(Qy,{as:Pne,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(ft.div,{"data-state":RE(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Dc="DialogContent",zL=M.forwardRef((t,e)=>{const r=DL(Dc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Vi(Dc,t.__scopeDialog);return u.jsx(gs,{present:n||s.open,children:s.modal?u.jsx(Dne,{...i,ref:e}):u.jsx(Bne,{...i,ref:e})})});zL.displayName=Dc;var Dne=M.forwardRef((t,e)=>{const r=Vi(Dc,t.__scopeDialog),n=M.useRef(null),i=It(e,r.contentRef,n);return M.useEffect(()=>{const s=n.current;if(s)return gE(s)},[]),u.jsx(FL,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:qe(t.onFocusOutside,s=>s.preventDefault())})}),Bne=M.forwardRef((t,e)=>{const r=Vi(Dc,t.__scopeDialog),n=M.useRef(!1),i=M.useRef(!1);return u.jsx(FL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((h=r.triggerRef.current)==null?void 0:h.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),FL=M.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Vi(Dc,r),f=M.useRef(null),h=It(e,f);return mE(),u.jsxs(u.Fragment,{children:[u.jsx(Gy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(tf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":RE(l.open),...o,ref:h,onDismiss:()=>l.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(zne,{titleId:l.titleId}),u.jsx(Wne,{contentRef:f,descriptionId:l.descriptionId})]})]})}),AE="DialogTitle",WL=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vi(AE,r);return u.jsx(ft.h2,{id:i.titleId,...n,ref:e})});WL.displayName=AE;var $L="DialogDescription",VL=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vi($L,r);return u.jsx(ft.p,{id:i.descriptionId,...n,ref:e})});VL.displayName=$L;var HL="DialogClose",KL=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vi(HL,r);return u.jsx(ft.button,{type:"button",...n,ref:e,onClick:qe(t.onClick,()=>i.onOpenChange(!1))})});KL.displayName=HL;function RE(t){return t?"open":"closed"}var qL="DialogTitleWarning",[Une,GL]=YZ(qL,{contentName:Dc,titleName:AE,docsSlug:"dialog"}),zne=({titleId:t})=>{const e=GL(qL),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return M.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Fne="DialogDescriptionWarning",Wne=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GL(Fne).contentName}}.`;return M.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},kE=OL,ZL=LL,TE=BL,jp=UL,Op=zL,Pp=WL,Lp=VL,iv=KL;const eu=kE,IE=ZL,$ne=TE,YL=M.forwardRef(({className:t,...e},r)=>u.jsx(jp,{ref:r,className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));YL.displayName=jp.displayName;const Pl=M.forwardRef(({className:t,children:e,...r},n)=>u.jsxs($ne,{children:[u.jsx(YL,{}),u.jsxs(Op,{ref:n,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,u.jsxs(iv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Od,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pl.displayName=Op.displayName;const Ll=({className:t,...e})=>u.jsx("div",{className:Ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ll.displayName="DialogHeader";const Dp=({className:t,...e})=>u.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Dp.displayName="DialogFooter";const Dl=M.forwardRef(({className:t,...e},r)=>u.jsx(Pp,{ref:r,className:Ye("text-lg font-semibold leading-none tracking-tight",t),...e}));Dl.displayName=Pp.displayName;const Bp=M.forwardRef(({className:t,...e},r)=>u.jsx(Lp,{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));Bp.displayName=Lp.displayName;var Up=t=>t.type==="checkbox",dc=t=>t instanceof Date,as=t=>t==null;const QL=t=>typeof t=="object";var zr=t=>!as(t)&&!Array.isArray(t)&&QL(t)&&!dc(t),JL=t=>zr(t)&&t.target?Up(t.target)?t.target.checked:t.target.value:t,Vne=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,XL=(t,e)=>t.has(Vne(e)),Hne=t=>{const e=t.constructor&&t.constructor.prototype;return zr(e)&&e.hasOwnProperty("isPrototypeOf")},CE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function un(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(CE&&(t instanceof Blob||n))&&(r||zr(t)))if(e=r?[]:{},!r&&!Hne(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=un(t[i]));else return t;return e}var ov=t=>Array.isArray(t)?t.filter(Boolean):[],Lr=t=>t===void 0,Qe=(t,e,r)=>{if(!e||!zr(t))return r;const n=ov(e.split(/[,[\].]+?/)).reduce((i,s)=>as(i)?i:i[s],t);return Lr(n)||n===t?Lr(t[e])?r:t[e]:n},Ds=t=>typeof t=="boolean",jE=t=>/^\w*$/.test(t),e6=t=>ov(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Yt=(t,e,r)=>{let n=-1;const i=jE(e)?[e]:e6(e),s=i.length,o=s-1;for(;++n<s;){const l=i[n];let f=r;if(n!==o){const h=t[l];f=zr(h)||Array.isArray(h)?h:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=f,t=t[l]}};const Sg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ri={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Io={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},t6=J.createContext(null),av=()=>J.useContext(t6),Kne=t=>{const{children:e,...r}=t;return J.createElement(t6.Provider,{value:r},e)};var r6=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ri.all&&(e._proxyFormState[o]=!n||Ri.all),r&&(r[o]=!0),t[o]}});return i};const OE=typeof window<"u"?M.useLayoutEffect:M.useEffect;function qne(t){const e=av(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[o,l]=J.useState(r._formState),f=J.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return OE(()=>r._subscribe({name:i,formState:f.current,exact:s,callback:h=>{!n&&l({...r._formState,...h})}}),[i,n,s]),J.useEffect(()=>{f.current.isValid&&r._setValid(!0)},[r]),J.useMemo(()=>r6(o,r,f.current,!1),[o,r])}var lo=t=>typeof t=="string",n6=(t,e,r,n,i)=>lo(t)?(n&&e.watch.add(t),Qe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Qe(r,s))):(n&&(e.watchAll=!0),r);function Gne(t){const e=av(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:o}=t||{},l=J.useRef(i),[f,h]=J.useState(r._getWatch(n,l.current));return OE(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:p=>!s&&h(n6(n,r._names,p.values||r._formValues,!1,l.current))}),[n,r,s,o]),J.useEffect(()=>r._removeUnmounted()),f}function Zne(t){const e=av(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,o=XL(i._names.array,r),l=Gne({control:i,name:r,defaultValue:Qe(i._formValues,r,Qe(i._defaultValues,r,t.defaultValue)),exact:!0}),f=qne({control:i,name:r,exact:!0}),h=J.useRef(t),p=J.useRef(i.register(r,{...t.rules,value:l,...Ds(t.disabled)?{disabled:t.disabled}:{}})),v=J.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Qe(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Qe(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Qe(f.validatingFields,r)},error:{enumerable:!0,get:()=>Qe(f.errors,r)}}),[f,r]),E=J.useCallback(A=>p.current.onChange({target:{value:JL(A),name:r},type:Sg.CHANGE}),[r]),b=J.useCallback(()=>p.current.onBlur({target:{value:Qe(i._formValues,r),name:r},type:Sg.BLUR}),[r,i._formValues]),k=J.useCallback(A=>{const R=Qe(i._fields,r);R&&A&&(R._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:T=>A.setCustomValidity(T),reportValidity:()=>A.reportValidity()})},[i._fields,r]),N=J.useMemo(()=>({name:r,value:l,...Ds(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:E,onBlur:b,ref:k}),[r,n,f.disabled,E,b,k,l]);return J.useEffect(()=>{const A=i._options.shouldUnregister||s;i.register(r,{...h.current.rules,...Ds(h.current.disabled)?{disabled:h.current.disabled}:{}});const R=(T,C)=>{const j=Qe(i._fields,T);j&&j._f&&(j._f.mount=C)};if(R(r,!0),A){const T=un(Qe(i._options.defaultValues,r));Yt(i._defaultValues,r,T),Lr(Qe(i._formValues,r))&&Yt(i._formValues,r,T)}return!o&&i.register(r),()=>{(o?A&&!i._state.action:A)?i.unregister(r):R(r,!1)}},[r,i,o,s]),J.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),J.useMemo(()=>({field:N,formState:f,fieldState:v}),[N,f,v])}const Yne=t=>t.render(Zne(t));var s6=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},ah=t=>Array.isArray(t)?t:[t],sR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Ab=t=>as(t)||!QL(t);function Ba(t,e){if(Ab(t)||Ab(e))return t===e;if(dc(t)&&dc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(dc(s)&&dc(o)||zr(s)&&zr(o)||Array.isArray(s)&&Array.isArray(o)?!Ba(s,o):s!==o)return!1}}return!0}var is=t=>zr(t)&&!Object.keys(t).length,PE=t=>t.type==="file",ki=t=>typeof t=="function",Eg=t=>{if(!CE)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},i6=t=>t.type==="select-multiple",LE=t=>t.type==="radio",Qne=t=>LE(t)||Up(t),s1=t=>Eg(t)&&t.isConnected;function Jne(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Lr(t)?n++:t[e[n++]];return t}function Xne(t){for(const e in t)if(t.hasOwnProperty(e)&&!Lr(t[e]))return!1;return!0}function Zr(t,e){const r=Array.isArray(e)?e:jE(e)?[e]:e6(e),n=r.length===1?t:Jne(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(zr(n)&&is(n)||Array.isArray(n)&&Xne(n))&&Zr(t,r.slice(0,-1)),t}var o6=t=>{for(const e in t)if(ki(t[e]))return!0;return!1};function Ng(t,e={}){const r=Array.isArray(t);if(zr(t)||r)for(const n in t)Array.isArray(t[n])||zr(t[n])&&!o6(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Ng(t[n],e[n])):as(t[n])||(e[n]=!0);return e}function a6(t,e,r){const n=Array.isArray(t);if(zr(t)||n)for(const i in t)Array.isArray(t[i])||zr(t[i])&&!o6(t[i])?Lr(e)||Ab(r[i])?r[i]=Array.isArray(t[i])?Ng(t[i],[]):{...Ng(t[i])}:a6(t[i],as(e)?{}:e[i],r[i]):r[i]=!Ba(t[i],e[i]);return r}var Mf=(t,e)=>a6(t,e,Ng(e));const iR={value:!1,isValid:!1},oR={value:!0,isValid:!0};var l6=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Lr(t[0].attributes.value)?Lr(t[0].value)||t[0].value===""?oR:{value:t[0].value,isValid:!0}:oR:iR}return iR},c6=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Lr(t)?t:e?t===""?NaN:t&&+t:r&&lo(t)?new Date(t):n?n(t):t;const aR={isValid:!1,value:null};var u6=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,aR):aR;function lR(t){const e=t.ref;return PE(e)?e.files:LE(e)?u6(t.refs).value:i6(e)?[...e.selectedOptions].map(({value:r})=>r):Up(e)?l6(t.refs).value:c6(Lr(e.value)?t.ref.value:e.value,t)}var ese=(t,e,r,n)=>{const i={};for(const s of t){const o=Qe(e,s);o&&Yt(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Mg=t=>t instanceof RegExp,Af=t=>Lr(t)?t:Mg(t)?t.source:zr(t)?Mg(t.value)?t.value.source:t.value:t,cR=t=>({isOnSubmit:!t||t===Ri.onSubmit,isOnBlur:t===Ri.onBlur,isOnChange:t===Ri.onChange,isOnAll:t===Ri.all,isOnTouch:t===Ri.onTouched});const uR="AsyncFunction";var tse=t=>!!t&&!!t.validate&&!!(ki(t.validate)&&t.validate.constructor.name===uR||zr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===uR)),rse=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),dR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const lh=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Qe(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(lh(l,e))break}else if(zr(l)&&lh(l,e))break}}};function fR(t,e,r){const n=Qe(t,r);if(n||jE(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=Qe(e,s),l=Qe(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:r}}var nse=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return is(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||Ri.all))},sse=(t,e,r)=>!t||!e||t===e||ah(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),ise=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,ose=(t,e)=>!ov(Qe(t,e)).length&&Zr(t,e),ase=(t,e,r)=>{const n=ah(Qe(t,r));return Yt(n,"root",e[r]),Yt(t,r,n),t},ym=t=>lo(t);function hR(t,e,r="validate"){if(ym(t)||Array.isArray(t)&&t.every(ym)||Ds(t)&&!t)return{type:r,message:ym(t)?t:"",ref:e}}var du=t=>zr(t)&&!Mg(t)?t:{value:t,message:""},pR=async(t,e,r,n,i,s)=>{const{ref:o,refs:l,required:f,maxLength:h,minLength:p,min:v,max:E,pattern:b,validate:k,name:N,valueAsNumber:A,mount:R}=t._f,T=Qe(r,N);if(!R||e.has(N))return{};const C=l?l[0]:o,j=K=>{i&&C.reportValidity&&(C.setCustomValidity(Ds(K)?"":K||""),C.reportValidity())},D={},U=LE(o),L=Up(o),F=U||L,W=(A||PE(o))&&Lr(o.value)&&Lr(T)||Eg(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,q=s6.bind(null,N,n,D),V=(K,x,a,d=Io.maxLength,m=Io.minLength)=>{const y=K?x:a;D[N]={type:K?d:m,message:y,ref:o,...q(K?d:m,y)}};if(s?!Array.isArray(T)||!T.length:f&&(!F&&(W||as(T))||Ds(T)&&!T||L&&!l6(l).isValid||U&&!u6(l).isValid)){const{value:K,message:x}=ym(f)?{value:!!f,message:f}:du(f);if(K&&(D[N]={type:Io.required,message:x,ref:C,...q(Io.required,x)},!n))return j(x),D}if(!W&&(!as(v)||!as(E))){let K,x;const a=du(E),d=du(v);if(!as(T)&&!isNaN(T)){const m=o.valueAsNumber||T&&+T;as(a.value)||(K=m>a.value),as(d.value)||(x=m<d.value)}else{const m=o.valueAsDate||new Date(T),y=I=>new Date(new Date().toDateString()+" "+I),g=o.type=="time",S=o.type=="week";lo(a.value)&&T&&(K=g?y(T)>y(a.value):S?T>a.value:m>new Date(a.value)),lo(d.value)&&T&&(x=g?y(T)<y(d.value):S?T<d.value:m<new Date(d.value))}if((K||x)&&(V(!!K,a.message,d.message,Io.max,Io.min),!n))return j(D[N].message),D}if((h||p)&&!W&&(lo(T)||s&&Array.isArray(T))){const K=du(h),x=du(p),a=!as(K.value)&&T.length>+K.value,d=!as(x.value)&&T.length<+x.value;if((a||d)&&(V(a,K.message,x.message),!n))return j(D[N].message),D}if(b&&!W&&lo(T)){const{value:K,message:x}=du(b);if(Mg(K)&&!T.match(K)&&(D[N]={type:Io.pattern,message:x,ref:o,...q(Io.pattern,x)},!n))return j(x),D}if(k){if(ki(k)){const K=await k(T,r),x=hR(K,C);if(x&&(D[N]={...x,...q(Io.validate,x.message)},!n))return j(x.message),D}else if(zr(k)){let K={};for(const x in k){if(!is(K)&&!n)break;const a=hR(await k[x](T,r),C,x);a&&(K={...a,...q(x,a.message)},j(a.message),n&&(D[N]=K))}if(!is(K)&&(D[N]={ref:C,...K},!n))return D}}return j(!0),D};const lse={mode:Ri.onSubmit,reValidateMode:Ri.onChange,shouldFocusError:!0};function cse(t={}){let e={...lse,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ki(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=zr(e.defaultValues)||zr(e.values)?un(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:un(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...p};const E={array:sR(),state:sR()},b=cR(e.mode),k=cR(e.reValidateMode),N=e.criteriaMode===Ri.all,A=Q=>Z=>{clearTimeout(h),h=setTimeout(Q,Z)},R=async Q=>{if(!e.disabled&&(p.isValid||v.isValid||Q)){const Z=e.resolver?is((await W()).errors):await V(n,!0);Z!==r.isValid&&E.state.next({isValid:Z})}},T=(Q,Z)=>{!e.disabled&&(p.isValidating||p.validatingFields||v.isValidating||v.validatingFields)&&((Q||Array.from(l.mount)).forEach(X=>{X&&(Z?Yt(r.validatingFields,X,Z):Zr(r.validatingFields,X))}),E.state.next({validatingFields:r.validatingFields,isValidating:!is(r.validatingFields)}))},C=(Q,Z=[],X,Ie,se=!0,ne=!0)=>{if(Ie&&X&&!e.disabled){if(o.action=!0,ne&&Array.isArray(Qe(n,Q))){const De=X(Qe(n,Q),Ie.argA,Ie.argB);se&&Yt(n,Q,De)}if(ne&&Array.isArray(Qe(r.errors,Q))){const De=X(Qe(r.errors,Q),Ie.argA,Ie.argB);se&&Yt(r.errors,Q,De),ose(r.errors,Q)}if((p.touchedFields||v.touchedFields)&&ne&&Array.isArray(Qe(r.touchedFields,Q))){const De=X(Qe(r.touchedFields,Q),Ie.argA,Ie.argB);se&&Yt(r.touchedFields,Q,De)}(p.dirtyFields||v.dirtyFields)&&(r.dirtyFields=Mf(i,s)),E.state.next({name:Q,isDirty:x(Q,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Yt(s,Q,Z)},j=(Q,Z)=>{Yt(r.errors,Q,Z),E.state.next({errors:r.errors})},D=Q=>{r.errors=Q,E.state.next({errors:r.errors,isValid:!1})},U=(Q,Z,X,Ie)=>{const se=Qe(n,Q);if(se){const ne=Qe(s,Q,Lr(X)?Qe(i,Q):X);Lr(ne)||Ie&&Ie.defaultChecked||Z?Yt(s,Q,Z?ne:lR(se._f)):m(Q,ne),o.mount&&R()}},L=(Q,Z,X,Ie,se)=>{let ne=!1,De=!1;const he={name:Q};if(!e.disabled){if(!X||Ie){(p.isDirty||v.isDirty)&&(De=r.isDirty,r.isDirty=he.isDirty=x(),ne=De!==he.isDirty);const B=Ba(Qe(i,Q),Z);De=!!Qe(r.dirtyFields,Q),B?Zr(r.dirtyFields,Q):Yt(r.dirtyFields,Q,!0),he.dirtyFields=r.dirtyFields,ne=ne||(p.dirtyFields||v.dirtyFields)&&De!==!B}if(X){const B=Qe(r.touchedFields,Q);B||(Yt(r.touchedFields,Q,X),he.touchedFields=r.touchedFields,ne=ne||(p.touchedFields||v.touchedFields)&&B!==X)}ne&&se&&E.state.next(he)}return ne?he:{}},F=(Q,Z,X,Ie)=>{const se=Qe(r.errors,Q),ne=(p.isValid||v.isValid)&&Ds(Z)&&r.isValid!==Z;if(e.delayError&&X?(f=A(()=>j(Q,X)),f(e.delayError)):(clearTimeout(h),f=null,X?Yt(r.errors,Q,X):Zr(r.errors,Q)),(X?!Ba(se,X):se)||!is(Ie)||ne){const De={...Ie,...ne&&Ds(Z)?{isValid:Z}:{},errors:r.errors,name:Q};r={...r,...De},E.state.next(De)}},W=async Q=>{T(Q,!0);const Z=await e.resolver(s,e.context,ese(Q||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return T(Q),Z},q=async Q=>{const{errors:Z}=await W(Q);if(Q)for(const X of Q){const Ie=Qe(Z,X);Ie?Yt(r.errors,X,Ie):Zr(r.errors,X)}else r.errors=Z;return Z},V=async(Q,Z,X={valid:!0})=>{for(const Ie in Q){const se=Q[Ie];if(se){const{_f:ne,...De}=se;if(ne){const he=l.array.has(ne.name),B=se._f&&tse(se._f);B&&p.validatingFields&&T([Ie],!0);const P=await pR(se,l.disabled,s,N,e.shouldUseNativeValidation&&!Z,he);if(B&&p.validatingFields&&T([Ie]),P[ne.name]&&(X.valid=!1,Z))break;!Z&&(Qe(P,ne.name)?he?ase(r.errors,P,ne.name):Yt(r.errors,ne.name,P[ne.name]):Zr(r.errors,ne.name))}!is(De)&&await V(De,Z,X)}}return X.valid},K=()=>{for(const Q of l.unMount){const Z=Qe(n,Q);Z&&(Z._f.refs?Z._f.refs.every(X=>!s1(X)):!s1(Z._f.ref))&&le(Q)}l.unMount=new Set},x=(Q,Z)=>!e.disabled&&(Q&&Z&&Yt(s,Q,Z),!Ba(c(),i)),a=(Q,Z,X)=>n6(Q,l,{...o.mount?s:Lr(Z)?i:lo(Q)?{[Q]:Z}:Z},X,Z),d=Q=>ov(Qe(o.mount?s:i,Q,e.shouldUnregister?Qe(i,Q,[]):[])),m=(Q,Z,X={})=>{const Ie=Qe(n,Q);let se=Z;if(Ie){const ne=Ie._f;ne&&(!ne.disabled&&Yt(s,Q,c6(Z,ne)),se=Eg(ne.ref)&&as(Z)?"":Z,i6(ne.ref)?[...ne.ref.options].forEach(De=>De.selected=se.includes(De.value)):ne.refs?Up(ne.ref)?ne.refs.length>1?ne.refs.forEach(De=>(!De.defaultChecked||!De.disabled)&&(De.checked=Array.isArray(se)?!!se.find(he=>he===De.value):se===De.value)):ne.refs[0]&&(ne.refs[0].checked=!!se):ne.refs.forEach(De=>De.checked=De.value===se):PE(ne.ref)?ne.ref.value="":(ne.ref.value=se,ne.ref.type||E.state.next({name:Q,values:un(s)})))}(X.shouldDirty||X.shouldTouch)&&L(Q,se,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&w(Q)},y=(Q,Z,X)=>{for(const Ie in Z){const se=Z[Ie],ne=`${Q}.${Ie}`,De=Qe(n,ne);(l.array.has(Q)||zr(se)||De&&!De._f)&&!dc(se)?y(ne,se,X):m(ne,se,X)}},g=(Q,Z,X={})=>{const Ie=Qe(n,Q),se=l.array.has(Q),ne=un(Z);Yt(s,Q,ne),se?(E.array.next({name:Q,values:un(s)}),(p.isDirty||p.dirtyFields||v.isDirty||v.dirtyFields)&&X.shouldDirty&&E.state.next({name:Q,dirtyFields:Mf(i,s),isDirty:x(Q,ne)})):Ie&&!Ie._f&&!as(ne)?y(Q,ne,X):m(Q,ne,X),dR(Q,l)&&E.state.next({...r}),E.state.next({name:o.mount?Q:void 0,values:un(s)})},S=async Q=>{o.mount=!0;const Z=Q.target;let X=Z.name,Ie=!0;const se=Qe(n,X),ne=De=>{Ie=Number.isNaN(De)||dc(De)&&isNaN(De.getTime())||Ba(De,Qe(s,X,De))};if(se){let De,he;const B=Z.type?lR(se._f):JL(Q),P=Q.type===Sg.BLUR||Q.type===Sg.FOCUS_OUT,O=!rse(se._f)&&!e.resolver&&!Qe(r.errors,X)&&!se._f.deps||ise(P,Qe(r.touchedFields,X),r.isSubmitted,k,b),z=dR(X,l,P);Yt(s,X,B),P?(se._f.onBlur&&se._f.onBlur(Q),f&&f(0)):se._f.onChange&&se._f.onChange(Q);const ee=L(X,B,P),Y=!is(ee)||z;if(!P&&E.state.next({name:X,type:Q.type,values:un(s)}),O)return(p.isValid||v.isValid)&&(e.mode==="onBlur"?P&&R():P||R()),Y&&E.state.next({name:X,...z?{}:ee});if(!P&&z&&E.state.next({...r}),e.resolver){const{errors:te}=await W([X]);if(ne(B),Ie){const ht=fR(r.errors,n,X),ve=fR(te,n,ht.name||X);De=ve.error,X=ve.name,he=is(te)}}else T([X],!0),De=(await pR(se,l.disabled,s,N,e.shouldUseNativeValidation))[X],T([X]),ne(B),Ie&&(De?he=!1:(p.isValid||v.isValid)&&(he=await V(n,!0)));Ie&&(se._f.deps&&w(se._f.deps),F(X,he,De,ee))}},I=(Q,Z)=>{if(Qe(r.errors,Z)&&Q.focus)return Q.focus(),1},w=async(Q,Z={})=>{let X,Ie;const se=ah(Q);if(e.resolver){const ne=await q(Lr(Q)?Q:se);X=is(ne),Ie=Q?!se.some(De=>Qe(ne,De)):X}else Q?(Ie=(await Promise.all(se.map(async ne=>{const De=Qe(n,ne);return await V(De&&De._f?{[ne]:De}:De)}))).every(Boolean),!(!Ie&&!r.isValid)&&R()):Ie=X=await V(n);return E.state.next({...!lo(Q)||(p.isValid||v.isValid)&&X!==r.isValid?{}:{name:Q},...e.resolver||!Q?{isValid:X}:{},errors:r.errors}),Z.shouldFocus&&!Ie&&lh(n,I,Q?se:l.mount),Ie},c=Q=>{const Z={...o.mount?s:i};return Lr(Q)?Z:lo(Q)?Qe(Z,Q):Q.map(X=>Qe(Z,X))},_=(Q,Z)=>({invalid:!!Qe((Z||r).errors,Q),isDirty:!!Qe((Z||r).dirtyFields,Q),error:Qe((Z||r).errors,Q),isValidating:!!Qe(r.validatingFields,Q),isTouched:!!Qe((Z||r).touchedFields,Q)}),$=Q=>{Q&&ah(Q).forEach(Z=>Zr(r.errors,Z)),E.state.next({errors:Q?r.errors:{}})},H=(Q,Z,X)=>{const Ie=(Qe(n,Q,{_f:{}})._f||{}).ref,se=Qe(r.errors,Q)||{},{ref:ne,message:De,type:he,...B}=se;Yt(r.errors,Q,{...B,...Z,ref:Ie}),E.state.next({name:Q,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&Ie&&Ie.focus&&Ie.focus()},G=(Q,Z)=>ki(Q)?E.state.subscribe({next:X=>Q(a(void 0,Z),X)}):a(Q,Z,!0),re=Q=>E.state.subscribe({next:Z=>{sse(Q.name,Z.name,Q.exact)&&nse(Z,Q.formState||p,hr,Q.reRenderRoot)&&Q.callback({values:{...s},...r,...Z})}}).unsubscribe,ie=Q=>(o.mount=!0,v={...v,...Q.formState},re({...Q,formState:v})),le=(Q,Z={})=>{for(const X of Q?ah(Q):l.mount)l.mount.delete(X),l.array.delete(X),Z.keepValue||(Zr(n,X),Zr(s,X)),!Z.keepError&&Zr(r.errors,X),!Z.keepDirty&&Zr(r.dirtyFields,X),!Z.keepTouched&&Zr(r.touchedFields,X),!Z.keepIsValidating&&Zr(r.validatingFields,X),!e.shouldUnregister&&!Z.keepDefaultValue&&Zr(i,X);E.state.next({values:un(s)}),E.state.next({...r,...Z.keepDirty?{isDirty:x()}:{}}),!Z.keepIsValid&&R()},nt=({disabled:Q,name:Z})=>{(Ds(Q)&&o.mount||Q||l.disabled.has(Z))&&(Q?l.disabled.add(Z):l.disabled.delete(Z))},ue=(Q,Z={})=>{let X=Qe(n,Q);const Ie=Ds(Z.disabled)||Ds(e.disabled);return Yt(n,Q,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:Q}},name:Q,mount:!0,...Z}}),l.mount.add(Q),X?nt({disabled:Ds(Z.disabled)?Z.disabled:e.disabled,name:Q}):U(Q,!0,Z.value),{...Ie?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:Af(Z.min),max:Af(Z.max),minLength:Af(Z.minLength),maxLength:Af(Z.maxLength),pattern:Af(Z.pattern)}:{},name:Q,onChange:S,onBlur:S,ref:se=>{if(se){ue(Q,Z),X=Qe(n,Q);const ne=Lr(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,De=Qne(ne),he=X._f.refs||[];if(De?he.find(B=>B===ne):ne===X._f.ref)return;Yt(n,Q,{_f:{...X._f,...De?{refs:[...he.filter(s1),ne,...Array.isArray(Qe(i,Q))?[{}]:[]],ref:{type:ne.type,name:Q}}:{ref:ne}}}),U(Q,!1,void 0,ne)}else X=Qe(n,Q,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(XL(l.array,Q)&&o.action)&&l.unMount.add(Q)}}},de=()=>e.shouldFocusError&&lh(n,I,l.mount),vt=Q=>{Ds(Q)&&(E.state.next({disabled:Q}),lh(n,(Z,X)=>{const Ie=Qe(n,X);Ie&&(Z.disabled=Ie._f.disabled||Q,Array.isArray(Ie._f.refs)&&Ie._f.refs.forEach(se=>{se.disabled=Ie._f.disabled||Q}))},0,!1))},ye=(Q,Z)=>async X=>{let Ie;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let se=un(s);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:De}=await W();r.errors=ne,se=De}else await V(n);if(l.disabled.size)for(const ne of l.disabled)Yt(se,ne,void 0);if(Zr(r.errors,"root"),is(r.errors)){E.state.next({errors:{}});try{await Q(se,X)}catch(ne){Ie=ne}}else Z&&await Z({...r.errors},X),de(),setTimeout(de);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:is(r.errors)&&!Ie,submitCount:r.submitCount+1,errors:r.errors}),Ie)throw Ie},be=(Q,Z={})=>{Qe(n,Q)&&(Lr(Z.defaultValue)?g(Q,un(Qe(i,Q))):(g(Q,Z.defaultValue),Yt(i,Q,un(Z.defaultValue))),Z.keepTouched||Zr(r.touchedFields,Q),Z.keepDirty||(Zr(r.dirtyFields,Q),r.isDirty=Z.defaultValue?x(Q,un(Qe(i,Q))):x()),Z.keepError||(Zr(r.errors,Q),p.isValid&&R()),E.state.next({...r}))},Ft=(Q,Z={})=>{const X=Q?un(Q):i,Ie=un(X),se=is(Q),ne=se?i:Ie;if(Z.keepDefaultValues||(i=X),!Z.keepValues){if(Z.keepDirtyValues){const De=new Set([...l.mount,...Object.keys(Mf(i,s))]);for(const he of Array.from(De))Qe(r.dirtyFields,he)?Yt(ne,he,Qe(s,he)):g(he,Qe(ne,he))}else{if(CE&&Lr(Q))for(const De of l.mount){const he=Qe(n,De);if(he&&he._f){const B=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(Eg(B)){const P=B.closest("form");if(P){P.reset();break}}}}for(const De of l.mount)g(De,Qe(ne,De))}s=un(ne),E.array.next({values:{...ne}}),E.state.next({values:{...ne}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!e.shouldUnregister,E.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:se?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!Ba(Q,i)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:se?{}:Z.keepDirtyValues?Z.keepDefaultValues&&s?Mf(i,s):r.dirtyFields:Z.keepDefaultValues&&Q?Mf(i,Q):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},_e=(Q,Z)=>Ft(ki(Q)?Q(s):Q,Z),Me=(Q,Z={})=>{const X=Qe(n,Q),Ie=X&&X._f;if(Ie){const se=Ie.refs?Ie.refs[0]:Ie.ref;se.focus&&(se.focus(),Z.shouldSelect&&ki(se.select)&&se.select())}},hr=Q=>{r={...r,...Q}},ke={control:{register:ue,unregister:le,getFieldState:_,handleSubmit:ye,setError:H,_subscribe:re,_runSchema:W,_getWatch:a,_getDirty:x,_setValid:R,_setFieldArray:C,_setDisabledField:nt,_setErrors:D,_getFieldArray:d,_reset:Ft,_resetDefaultValues:()=>ki(e.defaultValues)&&e.defaultValues().then(Q=>{_e(Q,e.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:vt,_subjects:E,_proxyFormState:p,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(Q){o=Q},get _defaultValues(){return i},get _names(){return l},set _names(Q){l=Q},get _formState(){return r},get _options(){return e},set _options(Q){e={...e,...Q}}},subscribe:ie,trigger:w,register:ue,handleSubmit:ye,watch:G,setValue:g,getValues:c,reset:_e,resetField:be,clearErrors:$,unregister:le,setError:H,setFocus:Me,getFieldState:_};return{...ke,formControl:ke}}function d6(t={}){const e=J.useRef(void 0),r=J.useRef(void 0),[n,i]=J.useState({isDirty:!1,isValidating:!1,isLoading:ki(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ki(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:cse(t),formState:n},t.formControl&&t.defaultValues&&!ki(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,OE(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),J.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),J.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode),t.errors&&!is(t.errors)&&s._setErrors(t.errors)},[s,t.errors,t.mode,t.reValidateMode]),J.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),J.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),J.useEffect(()=>{t.values&&!Ba(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),J.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=r6(n,s),e.current}var use="Label",f6=M.forwardRef((t,e)=>u.jsx(ft.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));f6.displayName=use;var h6=f6;const dse=rf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ri=M.forwardRef(({className:t,...e},r)=>u.jsx(h6,{ref:r,className:Ye(dse(),t),...e}));ri.displayName=h6.displayName;const p6=Kne,m6=M.createContext({}),fc=({...t})=>u.jsx(m6.Provider,{value:{name:t.name},children:u.jsx(Yne,{...t})}),lv=()=>{const t=M.useContext(m6),e=M.useContext(g6),{getFieldState:r,formState:n}=av(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},g6=M.createContext({}),Qa=M.forwardRef(({className:t,...e},r)=>{const n=M.useId();return u.jsx(g6.Provider,{value:{id:n},children:u.jsx("div",{ref:r,className:Ye("space-y-2",t),...e})})});Qa.displayName="FormItem";const Ja=M.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=lv();return u.jsx(ri,{ref:r,className:Ye(n&&"text-destructive",t),htmlFor:i,...e})});Ja.displayName="FormLabel";const Xa=M.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=lv();return u.jsx(P4,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});Xa.displayName="FormControl";const fse=M.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=lv();return u.jsx("p",{ref:r,id:n,className:Ye("text-sm text-muted-foreground",t),...e})});fse.displayName="FormDescription";const el=M.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=lv(),o=i?String(i==null?void 0:i.message):e;return o?u.jsx("p",{ref:n,id:s,className:Ye("text-sm font-medium text-destructive",t),...r,children:o}):null});el.displayName="FormMessage";var zt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(zt||(zt={}));var Rb;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Rb||(Rb={}));const rt=zt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fo=t=>{switch(typeof t){case"undefined":return rt.undefined;case"string":return rt.string;case"number":return isNaN(t)?rt.nan:rt.number;case"boolean":return rt.boolean;case"function":return rt.function;case"bigint":return rt.bigint;case"symbol":return rt.symbol;case"object":return Array.isArray(t)?rt.array:t===null?rt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?rt.promise:typeof Map<"u"&&t instanceof Map?rt.map:typeof Set<"u"&&t instanceof Set?rt.set:typeof Date<"u"&&t instanceof Date?rt.date:rt.object;default:return rt.unknown}},Re=zt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hse=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ws extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,f=0;for(;f<o.path.length;){const h=o.path[f];f===o.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(r(o))):l[h]=l[h]||{_errors:[]},l=l[h],f++}}};return i(this),n}static assert(e){if(!(e instanceof Ws))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,zt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ws.create=t=>new Ws(t);const Dd=(t,e)=>{let r;switch(t.code){case Re.invalid_type:t.received===rt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Re.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,zt.jsonStringifyReplacer)}`;break;case Re.unrecognized_keys:r=`Unrecognized key(s) in object: ${zt.joinValues(t.keys,", ")}`;break;case Re.invalid_union:r="Invalid input";break;case Re.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${zt.joinValues(t.options)}`;break;case Re.invalid_enum_value:r=`Invalid enum value. Expected ${zt.joinValues(t.options)}, received '${t.received}'`;break;case Re.invalid_arguments:r="Invalid function arguments";break;case Re.invalid_return_type:r="Invalid function return type";break;case Re.invalid_date:r="Invalid date";break;case Re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:zt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Re.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Re.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Re.custom:r="Invalid input";break;case Re.invalid_intersection_types:r="Intersection results could not be merged";break;case Re.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Re.not_finite:r="Number must be finite";break;default:r=e.defaultError,zt.assertNever(t)}return{message:r}};let y6=Dd;function pse(t){y6=t}function Ag(){return y6}const Rg=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const f=n.filter(h=>!!h).slice().reverse();for(const h of f)l=h(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},mse=[];function Je(t,e){const r=Ag(),n=Rg({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Dd?void 0:Dd].filter(i=>!!i)});t.common.issues.push(n)}class Pn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return yt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return Pn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return yt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const yt=Object.freeze({status:"aborted"}),Du=t=>({status:"dirty",value:t}),hs=t=>({status:"valid",value:t}),kb=t=>t.status==="aborted",Tb=t=>t.status==="dirty",Bc=t=>t.status==="valid",qh=t=>typeof Promise<"u"&&t instanceof Promise;function kg(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function v6(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ut;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ut||(ut={}));var Uf,zf;class vo{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mR=(t,e)=>{if(Bc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ws(t.common.issues);return this._error=r,this._error}}};function Nt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var f,h;const{message:p}=t;return o.code==="invalid_enum_value"?{message:p??l.defaultError}:typeof l.data>"u"?{message:(f=p??n)!==null&&f!==void 0?f:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(h=p??r)!==null&&h!==void 0?h:l.defaultError}},description:i}}class Tt{get description(){return this._def.description}_getType(e){return Fo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Fo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pn,ctx:{common:e.parent.common,data:e.data,parsedType:Fo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(qh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fo(e)},s=this._parseSync({data:e,path:i.path,parent:i});return mR(i,s)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fo(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Bc(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Bc(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fo(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(qh(i)?i:Promise.resolve(i));return mR(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:Re.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(f=>f?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new $i({schema:this,typeName:gt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return mo.create(this,this._def)}nullable(){return Al.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Di.create(this)}promise(){return Ud.create(this,this._def)}or(e){return Qh.create([this,e],this._def)}and(e){return Jh.create(this,e,this._def)}transform(e){return new $i({...Nt(this._def),schema:this,typeName:gt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new np({...Nt(this._def),innerType:this,defaultValue:r,typeName:gt.ZodDefault})}brand(){return new DE({typeName:gt.ZodBranded,type:this,...Nt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new sp({...Nt(this._def),innerType:this,catchValue:r,typeName:gt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return zp.create(this,e)}readonly(){return ip.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gse=/^c[^\s-]{8,}$/i,yse=/^[0-9a-z]+$/,vse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xse=/^[a-z0-9_-]{21}$/i,bse=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_se=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Sse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ese="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let i1;const Nse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Mse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ase=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Rse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Tse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,w6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ise=new RegExp(`^${w6}$`);function x6(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Cse(t){return new RegExp(`^${x6(t)}$`)}function b6(t){let e=`${w6}T${x6(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function jse(t,e){return!!((e==="v4"||!e)&&Nse.test(t)||(e==="v6"||!e)&&Ase.test(t))}function Ose(t,e){if(!bse.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Pse(t,e){return!!((e==="v4"||!e)&&Mse.test(t)||(e==="v6"||!e)&&Rse.test(t))}class ji extends Tt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==rt.string){const s=this._getOrReturnCtx(e);return Je(s,{code:Re.invalid_type,expected:rt.string,received:s.parsedType}),yt}const n=new Pn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Je(i,{code:Re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Je(i,{code:Re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Sse.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"email",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")i1||(i1=new RegExp(Ese,"u")),i1.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"emoji",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")wse.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"uuid",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")xse.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"nanoid",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")gse.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"cuid",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")yse.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"cuid2",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")vse.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"ulid",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Je(i,{validation:"url",code:Re.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"regex",code:Re.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?b6(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Ise.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Cse(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?_se.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"duration",code:Re.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?jse(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"ip",code:Re.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Ose(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"jwt",code:Re.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Pse(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"cidr",code:Re.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?kse.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"base64",code:Re.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Tse.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"base64url",code:Re.invalid_string,message:s.message}),n.dirty()):zt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Re.invalid_string,...ut.errToObj(n)})}_addCheck(e){return new ji({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ut.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ut.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ut.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ut.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ut.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ut.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ut.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ut.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ut.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ut.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ut.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ut.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ut.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ut.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ut.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ut.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ut.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ut.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ut.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ut.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ut.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ut.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ut.errToObj(r)})}nonempty(e){return this.min(1,ut.errToObj(e))}trim(){return new ji({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ji({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ji({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ji.create=t=>{var e;return new ji({checks:[],typeName:gt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Nt(t)})};function Lse(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class El extends Tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==rt.number){const s=this._getOrReturnCtx(e);return Je(s,{code:Re.invalid_type,expected:rt.number,received:s.parsedType}),yt}let n;const i=new Pn;for(const s of this._def.checks)s.kind==="int"?zt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Je(n,{code:Re.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Re.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Re.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Lse(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Je(n,{code:Re.not_finite,message:s.message}),i.dirty()):zt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ut.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ut.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ut.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ut.toString(r))}setLimit(e,r,n,i){return new El({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ut.toString(i)}]})}_addCheck(e){return new El({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ut.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ut.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ut.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ut.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ut.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ut.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ut.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ut.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ut.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&zt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}El.create=t=>new El({checks:[],typeName:gt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Nt(t)});class Nl extends Tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==rt.bigint)return this._getInvalidInput(e);let n;const i=new Pn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Re.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Re.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):zt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Je(r,{code:Re.invalid_type,expected:rt.bigint,received:r.parsedType}),yt}gte(e,r){return this.setLimit("min",e,!0,ut.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ut.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ut.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ut.toString(r))}setLimit(e,r,n,i){return new Nl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ut.toString(i)}]})}_addCheck(e){return new Nl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ut.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ut.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ut.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ut.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ut.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Nl.create=t=>{var e;return new Nl({checks:[],typeName:gt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Nt(t)})};class Gh extends Tt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==rt.boolean){const n=this._getOrReturnCtx(e);return Je(n,{code:Re.invalid_type,expected:rt.boolean,received:n.parsedType}),yt}return hs(e.data)}}Gh.create=t=>new Gh({typeName:gt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Nt(t)});class Uc extends Tt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==rt.date){const s=this._getOrReturnCtx(e);return Je(s,{code:Re.invalid_type,expected:rt.date,received:s.parsedType}),yt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Je(s,{code:Re.invalid_date}),yt}const n=new Pn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Re.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):zt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Uc({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ut.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ut.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Uc.create=t=>new Uc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:gt.ZodDate,...Nt(t)});class Tg extends Tt{_parse(e){if(this._getType(e)!==rt.symbol){const n=this._getOrReturnCtx(e);return Je(n,{code:Re.invalid_type,expected:rt.symbol,received:n.parsedType}),yt}return hs(e.data)}}Tg.create=t=>new Tg({typeName:gt.ZodSymbol,...Nt(t)});class Zh extends Tt{_parse(e){if(this._getType(e)!==rt.undefined){const n=this._getOrReturnCtx(e);return Je(n,{code:Re.invalid_type,expected:rt.undefined,received:n.parsedType}),yt}return hs(e.data)}}Zh.create=t=>new Zh({typeName:gt.ZodUndefined,...Nt(t)});class Yh extends Tt{_parse(e){if(this._getType(e)!==rt.null){const n=this._getOrReturnCtx(e);return Je(n,{code:Re.invalid_type,expected:rt.null,received:n.parsedType}),yt}return hs(e.data)}}Yh.create=t=>new Yh({typeName:gt.ZodNull,...Nt(t)});class Bd extends Tt{constructor(){super(...arguments),this._any=!0}_parse(e){return hs(e.data)}}Bd.create=t=>new Bd({typeName:gt.ZodAny,...Nt(t)});class Sc extends Tt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return hs(e.data)}}Sc.create=t=>new Sc({typeName:gt.ZodUnknown,...Nt(t)});class ha extends Tt{_parse(e){const r=this._getOrReturnCtx(e);return Je(r,{code:Re.invalid_type,expected:rt.never,received:r.parsedType}),yt}}ha.create=t=>new ha({typeName:gt.ZodNever,...Nt(t)});class Ig extends Tt{_parse(e){if(this._getType(e)!==rt.undefined){const n=this._getOrReturnCtx(e);return Je(n,{code:Re.invalid_type,expected:rt.void,received:n.parsedType}),yt}return hs(e.data)}}Ig.create=t=>new Ig({typeName:gt.ZodVoid,...Nt(t)});class Di extends Tt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==rt.array)return Je(r,{code:Re.invalid_type,expected:rt.array,received:r.parsedType}),yt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(Je(r,{code:o?Re.too_big:Re.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Je(r,{code:Re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Je(r,{code:Re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new vo(r,o,r.path,l)))).then(o=>Pn.mergeArray(n,o));const s=[...r.data].map((o,l)=>i.type._parseSync(new vo(r,o,r.path,l)));return Pn.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Di({...this._def,minLength:{value:e,message:ut.toString(r)}})}max(e,r){return new Di({...this._def,maxLength:{value:e,message:ut.toString(r)}})}length(e,r){return new Di({...this._def,exactLength:{value:e,message:ut.toString(r)}})}nonempty(e){return this.min(1,e)}}Di.create=(t,e)=>new Di({type:t,minLength:null,maxLength:null,exactLength:null,typeName:gt.ZodArray,...Nt(e)});function xu(t){if(t instanceof _r){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=mo.create(xu(n))}return new _r({...t._def,shape:()=>e})}else return t instanceof Di?new Di({...t._def,type:xu(t.element)}):t instanceof mo?mo.create(xu(t.unwrap())):t instanceof Al?Al.create(xu(t.unwrap())):t instanceof wo?wo.create(t.items.map(e=>xu(e))):t}class _r extends Tt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=zt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==rt.object){const h=this._getOrReturnCtx(e);return Je(h,{code:Re.invalid_type,expected:rt.object,received:h.parsedType}),yt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ha&&this._def.unknownKeys==="strip"))for(const h in i.data)o.includes(h)||l.push(h);const f=[];for(const h of o){const p=s[h],v=i.data[h];f.push({key:{status:"valid",value:h},value:p._parse(new vo(i,v,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof ha){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of l)f.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(h==="strict")l.length>0&&(Je(i,{code:Re.unrecognized_keys,keys:l}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of l){const v=i.data[p];f.push({key:{status:"valid",value:p},value:h._parse(new vo(i,v,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of f){const v=await p.key,E=await p.value;h.push({key:v,value:E,alwaysSet:p.alwaysSet})}return h}).then(h=>Pn.mergeObjectSync(n,h)):Pn.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return ut.errToObj,new _r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,l;const f=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=ut.errToObj(e).message)!==null&&l!==void 0?l:f}:{message:f}}}:{}})}strip(){return new _r({...this._def,unknownKeys:"strip"})}passthrough(){return new _r({...this._def,unknownKeys:"passthrough"})}extend(e){return new _r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:gt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new _r({...this._def,catchall:e})}pick(e){const r={};return zt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new _r({...this._def,shape:()=>r})}omit(e){const r={};return zt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new _r({...this._def,shape:()=>r})}deepPartial(){return xu(this)}partial(e){const r={};return zt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new _r({...this._def,shape:()=>r})}required(e){const r={};return zt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof mo;)s=s._def.innerType;r[n]=s}}),new _r({...this._def,shape:()=>r})}keyof(){return _6(zt.objectKeys(this.shape))}}_r.create=(t,e)=>new _r({shape:()=>t,unknownKeys:"strip",catchall:ha.create(),typeName:gt.ZodObject,...Nt(e)});_r.strictCreate=(t,e)=>new _r({shape:()=>t,unknownKeys:"strict",catchall:ha.create(),typeName:gt.ZodObject,...Nt(e)});_r.lazycreate=(t,e)=>new _r({shape:t,unknownKeys:"strip",catchall:ha.create(),typeName:gt.ZodObject,...Nt(e)});class Qh extends Tt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Ws(l.ctx.common.issues));return Je(r,{code:Re.invalid_union,unionErrors:o}),yt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const f of n){const h={...r,common:{...r.common,issues:[]},parent:null},p=f._parseSync({data:r.data,path:r.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!s&&(s={result:p,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(f=>new Ws(f));return Je(r,{code:Re.invalid_union,unionErrors:l}),yt}}get options(){return this._def.options}}Qh.create=(t,e)=>new Qh({options:t,typeName:gt.ZodUnion,...Nt(e)});const Po=t=>t instanceof ep?Po(t.schema):t instanceof $i?Po(t.innerType()):t instanceof tp?[t.value]:t instanceof Ml?t.options:t instanceof rp?zt.objectValues(t.enum):t instanceof np?Po(t._def.innerType):t instanceof Zh?[void 0]:t instanceof Yh?[null]:t instanceof mo?[void 0,...Po(t.unwrap())]:t instanceof Al?[null,...Po(t.unwrap())]:t instanceof DE||t instanceof ip?Po(t.unwrap()):t instanceof sp?Po(t._def.innerType):[];class cv extends Tt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.object)return Je(r,{code:Re.invalid_type,expected:rt.object,received:r.parsedType}),yt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Je(r,{code:Re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=Po(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new cv({typeName:gt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Nt(n)})}}function Ib(t,e){const r=Fo(t),n=Fo(e);if(t===e)return{valid:!0,data:t};if(r===rt.object&&n===rt.object){const i=zt.objectKeys(e),s=zt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const f=Ib(t[l],e[l]);if(!f.valid)return{valid:!1};o[l]=f.data}return{valid:!0,data:o}}else if(r===rt.array&&n===rt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],f=Ib(o,l);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return r===rt.date&&n===rt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Jh extends Tt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(kb(s)||kb(o))return yt;const l=Ib(s.value,o.value);return l.valid?((Tb(s)||Tb(o))&&r.dirty(),{status:r.value,value:l.data}):(Je(n,{code:Re.invalid_intersection_types}),yt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Jh.create=(t,e,r)=>new Jh({left:t,right:e,typeName:gt.ZodIntersection,...Nt(r)});class wo extends Tt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.array)return Je(n,{code:Re.invalid_type,expected:rt.array,received:n.parsedType}),yt;if(n.data.length<this._def.items.length)return Je(n,{code:Re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yt;!this._def.rest&&n.data.length>this._def.items.length&&(Je(n,{code:Re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const f=this._def.items[l]||this._def.rest;return f?f._parse(new vo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Pn.mergeArray(r,o)):Pn.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new wo({...this._def,rest:e})}}wo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wo({items:t,typeName:gt.ZodTuple,rest:null,...Nt(e)})};class Xh extends Tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.object)return Je(n,{code:Re.invalid_type,expected:rt.object,received:n.parsedType}),yt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new vo(n,l,n.path,l)),value:o._parse(new vo(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Pn.mergeObjectAsync(r,i):Pn.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Tt?new Xh({keyType:e,valueType:r,typeName:gt.ZodRecord,...Nt(n)}):new Xh({keyType:ji.create(),valueType:e,typeName:gt.ZodRecord,...Nt(r)})}}class Cg extends Tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.map)return Je(n,{code:Re.invalid_type,expected:rt.map,received:n.parsedType}),yt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,f],h)=>({key:i._parse(new vo(n,l,n.path,[h,"key"])),value:s._parse(new vo(n,f,n.path,[h,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const f of o){const h=await f.key,p=await f.value;if(h.status==="aborted"||p.status==="aborted")return yt;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),l.set(h.value,p.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const f of o){const h=f.key,p=f.value;if(h.status==="aborted"||p.status==="aborted")return yt;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),l.set(h.value,p.value)}return{status:r.value,value:l}}}}Cg.create=(t,e,r)=>new Cg({valueType:e,keyType:t,typeName:gt.ZodMap,...Nt(r)});class zc extends Tt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.set)return Je(n,{code:Re.invalid_type,expected:rt.set,received:n.parsedType}),yt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Je(n,{code:Re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Je(n,{code:Re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(f){const h=new Set;for(const p of f){if(p.status==="aborted")return yt;p.status==="dirty"&&r.dirty(),h.add(p.value)}return{status:r.value,value:h}}const l=[...n.data.values()].map((f,h)=>s._parse(new vo(n,f,n.path,h)));return n.common.async?Promise.all(l).then(f=>o(f)):o(l)}min(e,r){return new zc({...this._def,minSize:{value:e,message:ut.toString(r)}})}max(e,r){return new zc({...this._def,maxSize:{value:e,message:ut.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}zc.create=(t,e)=>new zc({valueType:t,minSize:null,maxSize:null,typeName:gt.ZodSet,...Nt(e)});class ed extends Tt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.function)return Je(r,{code:Re.invalid_type,expected:rt.function,received:r.parsedType}),yt;function n(l,f){return Rg({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ag(),Dd].filter(h=>!!h),issueData:{code:Re.invalid_arguments,argumentsError:f}})}function i(l,f){return Rg({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ag(),Dd].filter(h=>!!h),issueData:{code:Re.invalid_return_type,returnTypeError:f}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ud){const l=this;return hs(async function(...f){const h=new Ws([]),p=await l._def.args.parseAsync(f,s).catch(b=>{throw h.addIssue(n(f,b)),h}),v=await Reflect.apply(o,this,p);return await l._def.returns._def.type.parseAsync(v,s).catch(b=>{throw h.addIssue(i(v,b)),h})})}else{const l=this;return hs(function(...f){const h=l._def.args.safeParse(f,s);if(!h.success)throw new Ws([n(f,h.error)]);const p=Reflect.apply(o,this,h.data),v=l._def.returns.safeParse(p,s);if(!v.success)throw new Ws([i(p,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ed({...this._def,args:wo.create(e).rest(Sc.create())})}returns(e){return new ed({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ed({args:e||wo.create([]).rest(Sc.create()),returns:r||Sc.create(),typeName:gt.ZodFunction,...Nt(n)})}}class ep extends Tt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ep.create=(t,e)=>new ep({getter:t,typeName:gt.ZodLazy,...Nt(e)});class tp extends Tt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Je(r,{received:r.data,code:Re.invalid_literal,expected:this._def.value}),yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}tp.create=(t,e)=>new tp({value:t,typeName:gt.ZodLiteral,...Nt(e)});function _6(t,e){return new Ml({values:t,typeName:gt.ZodEnum,...Nt(e)})}class Ml extends Tt{constructor(){super(...arguments),Uf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Je(r,{expected:zt.joinValues(n),received:r.parsedType,code:Re.invalid_type}),yt}if(kg(this,Uf)||v6(this,Uf,new Set(this._def.values)),!kg(this,Uf).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Je(r,{received:r.data,code:Re.invalid_enum_value,options:n}),yt}return hs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ml.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ml.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Uf=new WeakMap;Ml.create=_6;class rp extends Tt{constructor(){super(...arguments),zf.set(this,void 0)}_parse(e){const r=zt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==rt.string&&n.parsedType!==rt.number){const i=zt.objectValues(r);return Je(n,{expected:zt.joinValues(i),received:n.parsedType,code:Re.invalid_type}),yt}if(kg(this,zf)||v6(this,zf,new Set(zt.getValidEnumValues(this._def.values))),!kg(this,zf).has(e.data)){const i=zt.objectValues(r);return Je(n,{received:n.data,code:Re.invalid_enum_value,options:i}),yt}return hs(e.data)}get enum(){return this._def.values}}zf=new WeakMap;rp.create=(t,e)=>new rp({values:t,typeName:gt.ZodNativeEnum,...Nt(e)});class Ud extends Tt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.promise&&r.common.async===!1)return Je(r,{code:Re.invalid_type,expected:rt.promise,received:r.parsedType}),yt;const n=r.parsedType===rt.promise?r.data:Promise.resolve(r.data);return hs(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ud.create=(t,e)=>new Ud({type:t,typeName:gt.ZodPromise,...Nt(e)});class $i extends Tt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Je(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return yt;const f=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return f.status==="aborted"?yt:f.status==="dirty"||r.value==="dirty"?Du(f.value):f});{if(r.value==="aborted")return yt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?yt:l.status==="dirty"||r.value==="dirty"?Du(l.value):l}}if(i.type==="refinement"){const o=l=>{const f=i.refinement(l,s);if(n.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?yt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?yt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Bc(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Bc(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):o);zt.assertNever(i)}}$i.create=(t,e,r)=>new $i({schema:t,typeName:gt.ZodEffects,effect:e,...Nt(r)});$i.createWithPreprocess=(t,e,r)=>new $i({schema:e,effect:{type:"preprocess",transform:t},typeName:gt.ZodEffects,...Nt(r)});class mo extends Tt{_parse(e){return this._getType(e)===rt.undefined?hs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}mo.create=(t,e)=>new mo({innerType:t,typeName:gt.ZodOptional,...Nt(e)});class Al extends Tt{_parse(e){return this._getType(e)===rt.null?hs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Al.create=(t,e)=>new Al({innerType:t,typeName:gt.ZodNullable,...Nt(e)});class np extends Tt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===rt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}np.create=(t,e)=>new np({innerType:t,typeName:gt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Nt(e)});class sp extends Tt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return qh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ws(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ws(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}sp.create=(t,e)=>new sp({innerType:t,typeName:gt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Nt(e)});class jg extends Tt{_parse(e){if(this._getType(e)!==rt.nan){const n=this._getOrReturnCtx(e);return Je(n,{code:Re.invalid_type,expected:rt.nan,received:n.parsedType}),yt}return{status:"valid",value:e.data}}}jg.create=t=>new jg({typeName:gt.ZodNaN,...Nt(t)});const Dse=Symbol("zod_brand");class DE extends Tt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class zp extends Tt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?yt:s.status==="dirty"?(r.dirty(),Du(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?yt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new zp({in:e,out:r,typeName:gt.ZodPipeline})}}class ip extends Tt{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Bc(i)&&(i.value=Object.freeze(i.value)),i);return qh(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}ip.create=(t,e)=>new ip({innerType:t,typeName:gt.ZodReadonly,...Nt(e)});function gR(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function S6(t,e={},r){return t?Bd.create().superRefine((n,i)=>{var s,o;const l=t(n);if(l instanceof Promise)return l.then(f=>{var h,p;if(!f){const v=gR(e,n),E=(p=(h=v.fatal)!==null&&h!==void 0?h:r)!==null&&p!==void 0?p:!0;i.addIssue({code:"custom",...v,fatal:E})}});if(!l){const f=gR(e,n),h=(o=(s=f.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...f,fatal:h})}}):Bd.create()}const Bse={object:_r.lazycreate};var gt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(gt||(gt={}));const Use=(t,e={message:`Input not instance of ${t.name}`})=>S6(r=>r instanceof t,e),E6=ji.create,N6=El.create,zse=jg.create,Fse=Nl.create,M6=Gh.create,Wse=Uc.create,$se=Tg.create,Vse=Zh.create,Hse=Yh.create,Kse=Bd.create,qse=Sc.create,Gse=ha.create,Zse=Ig.create,Yse=Di.create,Qse=_r.create,Jse=_r.strictCreate,Xse=Qh.create,eie=cv.create,tie=Jh.create,rie=wo.create,nie=Xh.create,sie=Cg.create,iie=zc.create,oie=ed.create,aie=ep.create,lie=tp.create,cie=Ml.create,uie=rp.create,die=Ud.create,yR=$i.create,fie=mo.create,hie=Al.create,pie=$i.createWithPreprocess,mie=zp.create,gie=()=>E6().optional(),yie=()=>N6().optional(),vie=()=>M6().optional(),wie={string:t=>ji.create({...t,coerce:!0}),number:t=>El.create({...t,coerce:!0}),boolean:t=>Gh.create({...t,coerce:!0}),bigint:t=>Nl.create({...t,coerce:!0}),date:t=>Uc.create({...t,coerce:!0})},xie=yt;var Zo=Object.freeze({__proto__:null,defaultErrorMap:Dd,setErrorMap:pse,getErrorMap:Ag,makeIssue:Rg,EMPTY_PATH:mse,addIssueToContext:Je,ParseStatus:Pn,INVALID:yt,DIRTY:Du,OK:hs,isAborted:kb,isDirty:Tb,isValid:Bc,isAsync:qh,get util(){return zt},get objectUtil(){return Rb},ZodParsedType:rt,getParsedType:Fo,ZodType:Tt,datetimeRegex:b6,ZodString:ji,ZodNumber:El,ZodBigInt:Nl,ZodBoolean:Gh,ZodDate:Uc,ZodSymbol:Tg,ZodUndefined:Zh,ZodNull:Yh,ZodAny:Bd,ZodUnknown:Sc,ZodNever:ha,ZodVoid:Ig,ZodArray:Di,ZodObject:_r,ZodUnion:Qh,ZodDiscriminatedUnion:cv,ZodIntersection:Jh,ZodTuple:wo,ZodRecord:Xh,ZodMap:Cg,ZodSet:zc,ZodFunction:ed,ZodLazy:ep,ZodLiteral:tp,ZodEnum:Ml,ZodNativeEnum:rp,ZodPromise:Ud,ZodEffects:$i,ZodTransformer:$i,ZodOptional:mo,ZodNullable:Al,ZodDefault:np,ZodCatch:sp,ZodNaN:jg,BRAND:Dse,ZodBranded:DE,ZodPipeline:zp,ZodReadonly:ip,custom:S6,Schema:Tt,ZodSchema:Tt,late:Bse,get ZodFirstPartyTypeKind(){return gt},coerce:wie,any:Kse,array:Yse,bigint:Fse,boolean:M6,date:Wse,discriminatedUnion:eie,effect:yR,enum:cie,function:oie,instanceof:Use,intersection:tie,lazy:aie,literal:lie,map:sie,nan:zse,nativeEnum:uie,never:Gse,null:Hse,nullable:hie,number:N6,object:Qse,oboolean:vie,onumber:yie,optional:fie,ostring:gie,pipeline:mie,preprocess:pie,promise:die,record:nie,set:iie,strictObject:Jse,string:E6,symbol:$se,transformer:yR,tuple:rie,undefined:Vse,union:Xse,unknown:qse,void:Zse,NEVER:xie,ZodIssueCode:Re,quotelessJson:hse,ZodError:Ws});const vR=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Qe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},A6=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?vR(n.ref,r,t):n.refs&&n.refs.forEach(i=>vR(i,r,t))}},bie=(t,e)=>{e.shouldUseNativeValidation&&A6(t,e);const r={};for(const n in t){const i=Qe(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(_ie(e.names||Object.keys(t),n)){const o=Object.assign({},Qe(r,n));Yt(o,"root",s),Yt(r,n,o)}else Yt(r,n,s)}return r},_ie=(t,e)=>t.some(r=>r.startsWith(e+"."));var Sie=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(v){return t.push(v)})}),e){var f=r[o].types,h=f&&f[n.code];r[o]=s6(o,e,r,i,h?[].concat(h,n.message):n.message)}t.shift()}return r},R6=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,l){try{var f=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(h){return s.shouldUseNativeValidation&&A6({},s),{errors:{},values:r.raw?n:h}})}catch(h){return l(h)}return f&&f.then?f.then(void 0,l):f}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:bie(Sie(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const Eie=Zo.object({name:Zo.string().min(2,{message:"Name must be at least 2 characters."}),email:Zo.string().email({message:"Please enter a valid email address."}),password:Zo.string().min(8,{message:"Password must be at least 8 characters."})}),Nie=[{id:"1",name:"Jane Smith",email:"jane@sodap.io",createdAt:"2025-04-01T12:00:00Z"},{id:"2",name:"John Doe",email:"john@sodap.io",createdAt:"2025-04-02T14:30:00Z"},{id:"3",name:"Alice Johnson",email:"alice@sodap.io",createdAt:"2025-04-03T09:15:00Z"}],Mie=()=>{const[t,e]=M.useState(Nie),[r,n]=M.useState(!1),i=d6({resolver:R6(Eie),defaultValues:{name:"",email:"",password:""}}),s=f=>{const h=new Date(f);return h.toLocaleDateString()+" "+h.toLocaleTimeString()},o=f=>{console.log("Adding platform admin:",f);const h={id:(t.length+1).toString(),name:f.name,email:f.email,createdAt:new Date().toISOString()};e([...t,h]),i.reset(),n(!1)},l=f=>{console.log("Removing admin with ID:",f),e(t.filter(h=>h.id!==f))};return u.jsxs(St,{children:[u.jsxs(qt,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Gt,{children:"Platform Admins"}),u.jsx(Ci,{children:"Manage platform administrators"})]}),u.jsxs(eu,{open:r,onOpenChange:n,children:[u.jsx(IE,{asChild:!0,children:u.jsxs(Ne,{children:[u.jsx(g3,{className:"mr-2 h-4 w-4"}),"Add Platform Admin"]})}),u.jsxs(Pl,{children:[u.jsxs(Ll,{children:[u.jsx(Dl,{children:"Add Platform Admin"}),u.jsx(Bp,{children:"Create a new platform administrator account."})]}),u.jsx(p6,{...i,children:u.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[u.jsx(fc,{control:i.control,name:"name",render:({field:f})=>u.jsxs(Qa,{children:[u.jsx(Ja,{children:"Name"}),u.jsx(Xa,{children:u.jsx(Ot,{placeholder:"Enter name",...f})}),u.jsx(el,{})]})}),u.jsx(fc,{control:i.control,name:"email",render:({field:f})=>u.jsxs(Qa,{children:[u.jsx(Ja,{children:"SoDap Email"}),u.jsx(Xa,{children:u.jsx(Ot,{type:"email",placeholder:"name@sodap.io",...f})}),u.jsx(el,{})]})}),u.jsx(fc,{control:i.control,name:"password",render:({field:f})=>u.jsxs(Qa,{children:[u.jsx(Ja,{children:"Password"}),u.jsx(Xa,{children:u.jsx(Ot,{type:"password",placeholder:"********",...f})}),u.jsx(el,{})]})}),u.jsx(Dp,{children:u.jsx(Ne,{type:"submit",children:"Add Platform Admin"})})]})})]})]})]}),u.jsx(Et,{children:u.jsxs(tv,{children:[u.jsx(rv,{children:u.jsxs(Lc,{children:[u.jsx(In,{children:"Name"}),u.jsx(In,{children:"Email"}),u.jsx(In,{children:"Created At"}),u.jsx(In,{children:"Actions"})]})}),u.jsx(nv,{children:t.map(f=>u.jsxs(Lc,{children:[u.jsx(Cn,{children:f.name}),u.jsx(Cn,{children:f.email}),u.jsx(Cn,{children:s(f.createdAt)}),u.jsx(Cn,{children:u.jsxs(Ne,{variant:"destructive",size:"sm",onClick:()=>l(f.id),children:[u.jsx(tQ,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Remove"})]})})]},f.id))})]})})]})};var k6="AlertDialog",[Aie,Qle]=Ys(k6,[jL]),ya=jL(),T6=t=>{const{__scopeAlertDialog:e,...r}=t,n=ya(e);return u.jsx(kE,{...n,...r,modal:!0})};T6.displayName=k6;var Rie="AlertDialogTrigger",kie=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ya(r);return u.jsx(ZL,{...i,...n,ref:e})});kie.displayName=Rie;var Tie="AlertDialogPortal",I6=t=>{const{__scopeAlertDialog:e,...r}=t,n=ya(e);return u.jsx(TE,{...n,...r})};I6.displayName=Tie;var Iie="AlertDialogOverlay",C6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ya(r);return u.jsx(jp,{...i,...n,ref:e})});C6.displayName=Iie;var td="AlertDialogContent",[Cie,jie]=Aie(td),Oie=D4("AlertDialogContent"),j6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=ya(r),o=M.useRef(null),l=It(e,o),f=M.useRef(null);return u.jsx(Une,{contentName:td,titleName:O6,docsSlug:"alert-dialog",children:u.jsx(Cie,{scope:r,cancelRef:f,children:u.jsxs(Op,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:qe(i.onOpenAutoFocus,h=>{var p;h.preventDefault(),(p=f.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[u.jsx(Oie,{children:n}),u.jsx(Lie,{contentRef:o})]})})})});j6.displayName=td;var O6="AlertDialogTitle",P6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ya(r);return u.jsx(Pp,{...i,...n,ref:e})});P6.displayName=O6;var L6="AlertDialogDescription",D6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ya(r);return u.jsx(Lp,{...i,...n,ref:e})});D6.displayName=L6;var Pie="AlertDialogAction",B6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ya(r);return u.jsx(iv,{...i,...n,ref:e})});B6.displayName=Pie;var U6="AlertDialogCancel",z6=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=jie(U6,r),s=ya(r),o=It(e,i);return u.jsx(iv,{...s,...n,ref:o})});z6.displayName=U6;var Lie=({contentRef:t})=>{const e=`\`${td}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${td}\` by passing a \`${L6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${td}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return M.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Die=T6,Bie=I6,F6=C6,W6=j6,$6=B6,V6=z6,H6=P6,K6=D6;const Uie=Die,zie=Bie,q6=M.forwardRef(({className:t,...e},r)=>u.jsx(F6,{className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));q6.displayName=F6.displayName;const G6=M.forwardRef(({className:t,...e},r)=>u.jsxs(zie,{children:[u.jsx(q6,{}),u.jsx(W6,{ref:r,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));G6.displayName=W6.displayName;const Z6=({className:t,...e})=>u.jsx("div",{className:Ye("flex flex-col space-y-2 text-center sm:text-left",t),...e});Z6.displayName="AlertDialogHeader";const Y6=({className:t,...e})=>u.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Y6.displayName="AlertDialogFooter";const Q6=M.forwardRef(({className:t,...e},r)=>u.jsx(H6,{ref:r,className:Ye("text-lg font-semibold",t),...e}));Q6.displayName=H6.displayName;const J6=M.forwardRef(({className:t,...e},r)=>u.jsx(K6,{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));J6.displayName=K6.displayName;const X6=M.forwardRef(({className:t,...e},r)=>u.jsx($6,{ref:r,className:Ye(pE(),t),...e}));X6.displayName=$6.displayName;const e5=M.forwardRef(({className:t,...e},r)=>u.jsx(V6,{ref:r,className:Ye(pE({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));e5.displayName=V6.displayName;const Fie=Zo.object({storeName:Zo.string().min(2,{message:"Store name must be at least 2 characters."}),storeDescription:Zo.string().optional(),managerName:Zo.string().optional(),managerPublicKey:Zo.string().optional()}),Wie=[{id:"1",name:"SoDap Official Store",description:"The official store for SoDap merchandise",managerId:"admin",managerName:"John Smith",revenue:"$12,500",products:15,customers:120,walletCreated:!1,walletAddress:"",hasPda:!1,pdaAddress:"",location:"New Location"},{id:"2",name:"Digital Collectibles",description:"Rare digital collectibles and NFTs",managerId:"admin",managerName:"Alice Johnson",revenue:"$8,200",products:48,customers:93,walletCreated:!1,walletAddress:"",hasPda:!1,pdaAddress:"",location:"New Location"},{id:"3",name:"Crypto Merchandise",description:"T-shirts, mugs, and more featuring cryptocurrency logos",managerId:"admin",managerName:"Bob Williams",revenue:"$5,400",products:32,customers:76,walletCreated:!1,walletAddress:"",hasPda:!1,pdaAddress:"",location:"New Location"},{id:"4",name:"Blockchain Apparel",description:"Clothing and accessories for blockchain enthusiasts",managerId:"admin",managerName:"Eva Martinez",revenue:"$7,800",products:27,customers:65,walletCreated:!1,walletAddress:"",hasPda:!1,pdaAddress:"",location:"New Location"},{id:"5",name:"Sodap Watch Store",description:"Luxury watches for blockchain enthusiasts",managerId:"admin",managerName:"Takashi Yamamoto",revenue:"$15,300",products:12,customers:45,walletCreated:!0,walletAddress:"HvG8jN4UinWpd3WAnEhH56qMi9dq6w3Rg1uj3sEmQ7q7",hasPda:!0,pdaAddress:"48s53bf2fe5MbhjxXquxan3W7QsNvjD5qDioJjVTPJEF",location:"Tokyo, Japan"}],$ie=()=>{const t=sessionStorage.getItem("sodap-stores");if(t)try{return JSON.parse(t)}catch(e){console.error("Error parsing stored stores:",e)}return Wie},Vie=()=>{const t=wn(),{toast:e}=Zs(),[r,n]=M.useState($ie()),[i,s]=M.useState(!1),[o,l]=M.useState(null),[f,h]=M.useState(!1),[p,v]=M.useState(null);M.useEffect(()=>{sessionStorage.setItem("sodap-stores",JSON.stringify(r))},[r]);const E=d6({resolver:R6(Fie),defaultValues:{storeName:"",storeDescription:"",managerName:"",managerPublicKey:""}}),b=R=>{if(o){const T=r.map(C=>C.id===o.id?{...C,name:R.storeName,description:R.storeDescription||C.description||"",managerName:R.managerName||C.managerName,managerId:R.managerPublicKey||""}:C);n(T),sessionStorage.setItem("sodap-stores",JSON.stringify(T)),s(!1),E.reset(),l(null),e({title:"Store Updated",description:`Store "${R.storeName}" has been updated successfully.`})}else{let T;const C=R.storeName;if(C.toLowerCase()==="sodap watch store"||C.toLowerCase()==="sodap watch"){if(T="5",r.find(L=>L.id==="5")){e({title:"Store Already Exists",description:"A store with name Sodap Watch Store already exists.",variant:"destructive"});return}}else{let U=r.length+1;for(T=`store${U}`;r.some(L=>L.id===T);)U++,T=`store${U}`}const j={id:T,name:R.storeName,description:R.storeDescription||"",managerId:"admin",managerName:R.managerName||"",revenue:"$0",products:0,customers:0,location:R.storeName.toLowerCase().includes("watch")?"Tokyo, Japan":"New Location",walletCreated:!1,walletAddress:R.managerPublicKey||"",hasPda:!1,pdaAddress:""},D=[...r,j];n(D),sessionStorage.setItem("sodap-stores",JSON.stringify(D)),s(!1),E.reset(),e({title:"Store Created",description:`Store "${R.storeName}" has been created successfully.`})}E.reset(),s(!1),l(null)},k=R=>{l(R),E.reset({storeName:R.name,storeDescription:R.description||"",managerName:R.managerName||"",managerPublicKey:R.managerId}),s(!0)},N=R=>{v(R),h(!0)},A=()=>{if(p){const R=r.filter(T=>T.id!==p.id);n(R),sessionStorage.setItem("sodap-stores",JSON.stringify(R)),v(null),h(!1),e({title:"Store Deleted",description:`The store ${p.name} has been deleted successfully.`})}};return u.jsxs(u.Fragment,{children:[u.jsxs(St,{children:[u.jsxs(qt,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Gt,{children:"Stores"}),u.jsx(Ci,{children:"Manage all stores and their settings"})]}),u.jsxs(eu,{open:i,onOpenChange:R=>{s(R),R||(l(null),E.reset())},children:[u.jsx(IE,{asChild:!0,children:u.jsxs(Ne,{children:[u.jsx(h3,{className:"mr-2 h-4 w-4"}),"Add Store"]})}),u.jsxs(Pl,{children:[u.jsxs(Ll,{children:[u.jsx(Dl,{children:o?"Edit Store":"Add Store"}),u.jsx(Bp,{children:o?"Update the store information below.":"Enter the details to create a new store."})]}),u.jsx(p6,{...E,children:u.jsxs("form",{onSubmit:E.handleSubmit(b),className:"space-y-4",children:[u.jsx(fc,{control:E.control,name:"storeName",render:({field:R})=>u.jsxs(Qa,{children:[u.jsx(Ja,{children:"Store Name"}),u.jsx(Xa,{children:u.jsx(Ot,{placeholder:"Enter store name",...R})}),u.jsx(el,{})]})}),u.jsx(fc,{control:E.control,name:"storeDescription",render:({field:R})=>u.jsxs(Qa,{children:[u.jsxs(Ja,{children:["Store Description"," ",u.jsx("span",{className:"text-gray-500 text-sm",children:"(optional)"})]}),u.jsx(Xa,{children:u.jsx(Ot,{placeholder:"Enter store description",...R})}),u.jsx(el,{})]})}),u.jsx(fc,{control:E.control,name:"managerName",render:({field:R})=>u.jsxs(Qa,{children:[u.jsxs(Ja,{children:["Store Manager Name"," ",u.jsx("span",{className:"text-gray-500 text-sm",children:"(optional)"})]}),u.jsx(Xa,{children:u.jsx(Ot,{placeholder:"Enter store manager name",...R})}),u.jsx(el,{})]})}),u.jsx(fc,{control:E.control,name:"managerPublicKey",render:({field:R})=>u.jsxs(Qa,{children:[u.jsxs(Ja,{children:["Manager Public Key"," ",u.jsx("span",{className:"text-gray-500 text-sm",children:"(optional)"})]}),u.jsx(Xa,{children:u.jsx(Ot,{placeholder:"Enter manager's public key or leave empty",...R})}),u.jsx(el,{}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You can create a wallet later using the Manage Keys button"})]})}),u.jsx(Dp,{children:u.jsx(Ne,{type:"submit",children:o?"Update Store":"Create Store"})})]})})]})]})]}),u.jsx(Et,{children:u.jsxs(tv,{children:[u.jsx(rv,{children:u.jsxs(Lc,{children:[u.jsx(In,{children:"Store Name"}),u.jsx(In,{children:"Store ID"}),u.jsx(In,{children:"Store Manager"}),u.jsx(In,{className:"text-center",children:"Wallet Created"}),u.jsx(In,{className:"text-center",children:"PDA Created"}),u.jsx(In,{className:"text-right",children:"Actions"})]})}),u.jsx(nv,{children:r.map(R=>u.jsxs(Lc,{children:[u.jsx(Cn,{className:"font-medium",children:R.name}),u.jsx(Cn,{children:R.id}),u.jsx(Cn,{children:R.managerName}),u.jsxs(Cn,{className:"text-center",children:[R.walletCreated?u.jsxs("span",{className:"inline-flex items-center text-green-600",children:[u.jsx(jd,{className:"h-4 w-4 mr-1"}),"Yes"]}):u.jsxs("span",{className:"inline-flex items-center text-red-600",children:[u.jsx(Od,{className:"h-4 w-4 mr-1"}),"No"]}),R.walletAddress&&u.jsx("div",{className:"mt-1",children:u.jsxs("span",{className:"text-xs text-gray-500 break-all",children:[R.walletAddress.substring(0,8),"...",R.walletAddress.substring(R.walletAddress.length-8)]})})]}),u.jsxs(Cn,{className:"text-center",children:[R.hasPda?u.jsxs("span",{className:"inline-flex items-center text-green-600",children:[u.jsx(jd,{className:"h-4 w-4 mr-1"}),"Yes"]}):u.jsxs("span",{className:"inline-flex items-center text-red-600",children:[u.jsx(Od,{className:"h-4 w-4 mr-1"}),"No"]}),R.pdaAddress&&u.jsx("div",{className:"mt-1",children:u.jsxs("span",{className:"text-xs text-gray-500 break-all",children:[R.pdaAddress.substring(0,8),"...",R.pdaAddress.substring(R.pdaAddress.length-8)]})})]}),u.jsx(Cn,{className:"text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(Ne,{variant:"default",size:"sm",className:"bg-sodap-purple hover:bg-purple-700",onClick:()=>t(`/store/${R.id}`),children:[u.jsx(fg,{className:"h-4 w-4 mr-1"}),"Manage Keys"]}),u.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>k(R),children:[u.jsx(Uy,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Edit"})]}),u.jsxs(Ne,{variant:"destructive",size:"sm",onClick:()=>N(R),children:[u.jsx(QY,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},R.id))})]})})]}),u.jsx(Uie,{open:f,onOpenChange:h,children:u.jsxs(G6,{children:[u.jsxs(Z6,{children:[u.jsx(Q6,{children:"Are you sure?"}),u.jsx(J6,{children:"This action cannot be undone. This will permanently delete the store and all associated data."})]}),u.jsxs(Y6,{children:[u.jsx(e5,{children:"Cancel"}),u.jsx(X6,{onClick:A,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})},BE=({stats:t})=>u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(e=>u.jsxs(St,{children:[u.jsxs(qt,{className:"pb-2 flex flex-row items-center",children:[e.icon,u.jsx(Gt,{className:`text-sm font-medium text-gray-500 ${e.icon?"ml-2":""}`,children:e.title})]}),u.jsx(Et,{children:u.jsx("p",{className:"text-2xl font-bold",children:e.value})})]},e.title))}),Hie=()=>{const t=[{title:"Platform Admins",value:"12"},{title:"Store Managers",value:"36"},{title:"Active Stores",value:"145"},{title:"Monthly Sales",value:"9,842 SOL"}];return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Admin Overview"}),u.jsx(BE,{stats:t}),u.jsx(Mie,{}),u.jsx(Vie,{}),u.jsxs(St,{className:"mt-8",children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Recent Activity"})}),u.jsx(Et,{children:u.jsx("div",{className:"text-center py-8 text-gray-500",children:u.jsx("p",{children:"Activity data will be populated here from the Solana blockchain"})})})]})]})};var uv="Tabs",[Kie,Jle]=Ys(uv,[Zy]),t5=Zy(),[qie,UE]=Kie(uv),r5=M.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:f="automatic",...h}=t,p=Rp(l),[v,E]=Oc({prop:n,onChange:i,defaultProp:s??"",caller:uv});return u.jsx(qie,{scope:r,baseId:ho(),value:v,onValueChange:E,orientation:o,dir:p,activationMode:f,children:u.jsx(ft.div,{dir:p,"data-orientation":o,...h,ref:e})})});r5.displayName=uv;var n5="TabsList",s5=M.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=UE(n5,r),o=t5(r);return u.jsx(NP,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:u.jsx(ft.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});s5.displayName=n5;var i5="TabsTrigger",o5=M.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=UE(i5,r),l=t5(r),f=c5(o.baseId,n),h=u5(o.baseId,n),p=n===o.value;return u.jsx(MP,{asChild:!0,...l,focusable:!i,active:p,children:u.jsx(ft.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...s,ref:e,onMouseDown:qe(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?o.onValueChange(n):v.preventDefault()}),onKeyDown:qe(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&o.onValueChange(n)}),onFocus:qe(t.onFocus,()=>{const v=o.activationMode!=="manual";!p&&!i&&v&&o.onValueChange(n)})})})});o5.displayName=i5;var a5="TabsContent",l5=M.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,l=UE(a5,r),f=c5(l.baseId,n),h=u5(l.baseId,n),p=n===l.value,v=M.useRef(p);return M.useEffect(()=>{const E=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(E)},[]),u.jsx(gs,{present:i||p,children:({present:E})=>u.jsx(ft.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":f,hidden:!E,id:h,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:E&&s})})});l5.displayName=a5;function c5(t,e){return`${t}-trigger-${e}`}function u5(t,e){return`${t}-content-${e}`}var Gie=r5,d5=s5,f5=o5,h5=l5;const Bl=Gie,va=M.forwardRef(({className:t,...e},r)=>u.jsx(d5,{ref:r,className:Ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));va.displayName=d5.displayName;const Gr=M.forwardRef(({className:t,...e},r)=>u.jsx(f5,{ref:r,className:Ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Gr.displayName=f5.displayName;const dr=M.forwardRef(({className:t,...e},r)=>u.jsx(h5,{ref:r,className:Ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));dr.displayName=h5.displayName;const Zie=()=>u.jsxs(St,{children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Store Performance"})}),u.jsx(Et,{children:u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium mb-2",children:"Weekly Sales Report"}),u.jsx("div",{className:"h-48 bg-gray-100 rounded flex items-center justify-center",children:u.jsx("p",{className:"text-gray-500",children:"Sales chart will be displayed here"})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium mb-2",children:"Top Selling Products"}),u.jsx("div",{className:"space-y-2",children:["SoDap T-Shirt","SoDap Mug","SoDap Sticker Pack"].map(t=>u.jsxs("div",{className:"flex justify-between border-b pb-2",children:[u.jsx("span",{children:t}),u.jsxs("span",{className:"font-medium",children:[Math.floor(Math.random()*100)," sold"]})]},t))})]})]})})})]}),p5=({initialProducts:t=[{id:"1",name:"SoDap T-Shirt",sku:"TS001",price:.05,stock:100,active:!0},{id:"2",name:"SoDap Mug",sku:"MG001",price:.02,stock:50,active:!0},{id:"3",name:"SoDap Sticker Pack",sku:"ST001",price:.01,stock:200,active:!0},{id:"4",name:"SoDap Cap",sku:"CP001",price:.03,stock:75,active:!1}],customTitle:e})=>{const[r,n]=M.useState(t),[i,s]=M.useState(""),o=r.filter(f=>f.name.toLowerCase().includes(i.toLowerCase())||f.sku.toLowerCase().includes(i.toLowerCase())),l=f=>{n(r.map(h=>h.id===f?{...h,active:!h.active}:h))};return u.jsxs(St,{children:[u.jsxs(qt,{className:"flex flex-row items-center justify-between",children:[u.jsx(Gt,{children:e||"Product Inventory"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ot,{placeholder:"Search by name or SKU...",value:i,onChange:f=>s(f.target.value),className:"w-64"}),u.jsxs(Ne,{className:"bg-sodap-purple hover:bg-purple-700",children:[u.jsx(qS,{className:"mr-2 h-4 w-4"})," Import CSV"]}),u.jsx(Ne,{className:"bg-sodap-purple hover:bg-purple-700",children:"+ Add Product"})]})]}),u.jsx(Et,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b",children:[u.jsx("th",{className:"text-left py-2",children:"SKU"}),u.jsx("th",{className:"text-left py-2",children:"Name"}),u.jsx("th",{className:"text-left py-2",children:"Price (SOL)"}),u.jsx("th",{className:"text-left py-2",children:"Stock"}),u.jsx("th",{className:"text-left py-2",children:"Status"}),u.jsx("th",{className:"text-right py-2",children:"Actions"})]})}),u.jsx("tbody",{children:o.map(f=>u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"py-3",children:f.sku}),u.jsx("td",{className:"py-3",children:f.name}),u.jsxs("td",{className:"py-3",children:[f.price," SOL"]}),u.jsx("td",{className:"py-3",children:f.stock}),u.jsx("td",{className:"py-3",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${f.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.active?"Active":"Inactive"})}),u.jsxs("td",{className:"py-3 text-right",children:[u.jsx(Ne,{variant:"ghost",size:"sm",children:u.jsx(Uy,{className:"h-4 w-4"})}),u.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>l(f.id),className:f.active?"text-red-500":"text-green-500",children:f.active?"Deactivate":"Activate"})]})]},f.id))})]})})})]})},Yie=({defaultTab:t="products"})=>u.jsxs(Bl,{defaultValue:t,className:"w-full",children:[u.jsx(va,{className:"mb-4",children:u.jsx(Gr,{value:"products",children:"Products"})}),u.jsx(dr,{value:"products",children:u.jsx(p5,{})})]}),Qie=[{id:"1",name:"John Doe",email:"john@example.com",role:"Cashier",status:"active"},{id:"2",name:"Jane Smith",email:"jane@example.com",role:"Inventory Manager",status:"active"},{id:"3",name:"Bob Johnson",email:"bob@example.com",role:"Customer Service",status:"inactive"}],Jie=()=>{const[t,e]=M.useState(Qie),[r,n]=M.useState(""),[i,s]=M.useState({name:"",email:"",role:""}),[o,l]=M.useState(!1),f=t.filter(v=>v.name.toLowerCase().includes(r.toLowerCase())||v.email.toLowerCase().includes(r.toLowerCase())||v.role.toLowerCase().includes(r.toLowerCase())),h=v=>{e(t.map(E=>E.id===v?{...E,status:E.status==="active"?"inactive":"active"}:E))},p=()=>{if(i.name&&i.email&&i.role){const v=(t.length+1).toString();e([...t,{id:v,name:i.name,email:i.email,role:i.role,status:"active"}]),s({name:"",email:"",role:""}),l(!1)}};return u.jsxs(St,{className:"mb-6",children:[u.jsxs(qt,{className:"flex flex-row items-center justify-between",children:[u.jsx(Gt,{children:"Staff Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ot,{placeholder:"Search staff...",value:r,onChange:v=>n(v.target.value),className:"w-64"}),u.jsxs(eu,{open:o,onOpenChange:l,children:[u.jsx(IE,{asChild:!0,children:u.jsxs(Ne,{className:"bg-sodap-purple hover:bg-purple-700",children:[u.jsx(g3,{className:"mr-2 h-4 w-4"})," Add Staff"]})}),u.jsxs(Pl,{children:[u.jsx(Ll,{children:u.jsx(Dl,{children:"Add New Staff Member"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(ri,{htmlFor:"name",children:"Full Name"}),u.jsx(Ot,{id:"name",value:i.name,onChange:v=>s({...i,name:v.target.value})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(ri,{htmlFor:"email",children:"Email"}),u.jsx(Ot,{id:"email",type:"email",value:i.email,onChange:v=>s({...i,email:v.target.value})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(ri,{htmlFor:"role",children:"Role"}),u.jsx(Ot,{id:"role",value:i.role,onChange:v=>s({...i,role:v.target.value})})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx(Ne,{onClick:p,className:"bg-sodap-purple hover:bg-purple-700",children:"Add Staff"})})]})]})]})]}),u.jsx(Et,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b",children:[u.jsx("th",{className:"text-left py-2",children:"Name"}),u.jsx("th",{className:"text-left py-2",children:"Email"}),u.jsx("th",{className:"text-left py-2",children:"Role"}),u.jsx("th",{className:"text-left py-2",children:"Status"}),u.jsx("th",{className:"text-right py-2",children:"Actions"})]})}),u.jsx("tbody",{children:f.map(v=>u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"py-3",children:v.name}),u.jsx("td",{className:"py-3",children:v.email}),u.jsx("td",{className:"py-3",children:v.role}),u.jsx("td",{className:"py-3",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${v.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.status==="active"?"Active":"Inactive"})}),u.jsxs("td",{className:"py-3 text-right",children:[u.jsx(Ne,{variant:"ghost",size:"sm",children:u.jsx(Uy,{className:"h-4 w-4"})}),u.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>h(v.id),className:v.status==="active"?"text-red-500":"text-green-500",children:v.status==="active"?u.jsx(rQ,{className:"h-4 w-4"}):u.jsx(eQ,{className:"h-4 w-4"})})]})]},v.id))})]})})})]})},Xie=()=>u.jsxs(St,{className:"mt-4",children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Recent Activity"})}),u.jsx(Et,{children:u.jsx("div",{className:"text-center py-4 text-gray-500",children:u.jsx("p",{children:"Activity data will be populated here from the Solana blockchain"})})})]}),Yi={STORE_MANAGER:"HvG8jN4UinWpd3WAnEhH56qMi9dq6w3Rg1uj3sEmQ7q7",DEFAULT_BUYER:"DfhzrfdE5VDk43iP1NL8MLS5xFaxquxJVFtjhjRmHLAW"};async function eoe(t,e,r,n={}){const{timeout:i=6e4,interval:s=1e3}=n;return new Promise(o=>{const l=async()=>{var p;try{if(e){const v=await t.getTransaction(e,{commitment:"confirmed"});if(v){clearTimeout(h),clearInterval(f),o((p=v.meta)!=null&&p.err?"failed":"success");return}const b=(await t.getSignatureStatuses([e])).value[0];if(b){if(b.err){clearTimeout(h),clearInterval(f),o("failed");return}if(b.confirmationStatus==="confirmed"||b.confirmationStatus==="finalized"){clearTimeout(h),clearInterval(f),o("success");return}}}}catch(v){console.error("Error checking transaction:",v)}},f=setInterval(l,s),h=setTimeout(()=>{clearInterval(f),o("timeout")},i);l()})}const toe=()=>{const{connection:t}=PS(),{publicKey:e,signTransaction:r}=ef();return{processRefund:M.useCallback(async i=>{let s;try{if(i.buyerAddress)s=new me(i.buyerAddress);else throw new Error("Buyer wallet address is missing or invalid")}catch(o){throw console.error("Error creating buyer PublicKey:",o),new Error("Invalid buyer wallet address")}try{if(!e||!r)throw new Error("Store wallet not connected");const o=await t.getBalance(e);console.log(`Store wallet balance: ${o/rc} SOL`);const l=i.items.reduce((A,R)=>A+R.price*R.quantity,0),f=Math.round(l*rc);console.log(`Attempting to refund: ${l} SOL (${f} lamports)`);const h=5e3;if(o<f+h)throw new Error(`Insufficient funds for refund. Need at least ${(f+h)/rc} SOL, but have ${o/rc} SOL`);const p=new jt().add(Br.transfer({fromPubkey:e,toPubkey:s,lamports:f})),{blockhash:v,lastValidBlockHeight:E}=await t.getLatestBlockhash("finalized");p.recentBlockhash=v,p.feePayer=e,console.log("Transaction created, requesting signature...");const b=await r(p);console.log("Transaction signed, sending to network...");const k=await t.sendRawTransaction(b.serialize(),{skipPreflight:!1,preflightCommitment:"confirmed"});console.log("Transaction sent, signature:",k),console.log("Waiting for confirmation...");const N=await eoe(t,k,void 0,{timeout:12e4,interval:3e3});return console.log("Transaction status:",N),N==="timeout"?(console.warn("Transaction timed out, but may still be processing"),lt.warning("Transaction is taking longer than expected. Please check your wallet for confirmation."),{signature:k,status:"pending"}):{signature:k,status:N==="success"?"success":"failed"}}catch(o){console.error("Error processing refund:",o);const l=OS(o);throw lt.error(l||"Failed to process refund. Please check wallet balance and try again."),o}},[t,e,r])}},roe=rf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ch=M.forwardRef(({className:t,variant:e,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:Ye(roe({variant:e}),t),...r}));ch.displayName="Alert";const vm=M.forwardRef(({className:t,...e},r)=>u.jsx("h5",{ref:r,className:Ye("mb-1 font-medium leading-none tracking-tight",t),...e}));vm.displayName="AlertTitle";const uh=M.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ye("text-sm [&_p]:leading-relaxed",t),...e}));uh.displayName="AlertDescription";const dv=()=>{const[t,e]=M.useState([]),r=M.useCallback(async()=>{const i=localStorage.getItem("sodap-return-requests");if(i)try{const s=JSON.parse(i);console.log("Loaded return requests from localStorage:",s.length),e(s)}catch(s){console.error("Error parsing return requests:",s)}},[]);M.useEffect(()=>{r()},[r]),M.useEffect(()=>{const i=s=>{if(s.key==="sodap-return-requests"){const o=s.newValue?JSON.parse(s.newValue):[];e(o)}};return window.addEventListener("storage",i),()=>window.removeEventListener("storage",i)},[]);const n=M.useCallback(async(i,s)=>{try{const o={id:`ret_${Math.random().toString(36).substring(2,9)}`,purchaseId:i.id,date:new Date().toISOString(),items:i.items,reason:s,status:"Pending",storeName:i.storeName,transactionSignature:i.transactionSignature,receiptAddress:i.receiptAddress,storeAddress:i.storeAddress,buyerAddress:i.buyerAddress,purchaseTimestamp:i.purchaseTimestamp,totalAmount:i.totalAmount},l=localStorage.getItem("sodap-return-requests"),f=l?JSON.parse(l):[],h=[o,...f];localStorage.setItem("sodap-return-requests",JSON.stringify(h));const p=new CustomEvent("refundRequestUpdate",{detail:h});return window.dispatchEvent(p),e(h),lt.success("Return request submitted successfully"),o}catch(o){throw console.error("Error creating return request:",o),lt.error("Failed to create return request"),o}},[]);return{returnRequests:t,createReturnRequest:n,refreshRequests:r}},noe=()=>{const{returnRequests:t,refreshRequests:e}=dv(),[r,n]=M.useState(!1),i=J.useMemo(()=>{try{return JSON.parse(localStorage.getItem("sodap-return-requests")||"[]")}catch(L){return console.error("Error parsing return requests from localStorage:",L),[]}},[]),s=J.useMemo(()=>r?i:t,[r,i,t]),[o,l]=M.useState(null),[f,h]=M.useState(null),[p,v]=M.useState(!1),[E,b]=M.useState(!1),{connected:k,publicKey:N}=ef(),{processRefund:A}=toe(),R=(N==null?void 0:N.toBase58())===Yi.STORE_MANAGER,T=Yi.STORE_MANAGER,C=async L=>{h(null);try{if(!k){lt.error("Please connect your wallet first.");return}if(!R){lt.error("Only store manager can approve refunds.");return}if(l(L),b(!0),!L.buyerAddress){lt.error("Buyer wallet address is missing");return}try{const F=JSON.parse(localStorage.getItem("sodap-return-requests")||"[]");let W=F.find(V=>V.id===L.id);!W&&L.transactionSignature&&(W=F.find(V=>V.transactionSignature===L.transactionSignature)),W||(console.warn("Return request not found in localStorage, using provided request"),W=L);const q={id:W.id,transactionSignature:W.transactionSignature,storeName:W.storeName,items:W.items,receiptAddress:W.receiptAddress,storeAddress:W.storeAddress,buyerAddress:W.buyerAddress,purchaseTimestamp:W.purchaseTimestamp,totalAmount:W.totalAmount};console.log("Processing refund for purchase:",q),lt.loading("Processing refund transaction...",{id:"refund-toast"});try{const V=await A(q);if(V.status==="success"){console.log("Refund processed successfully:",V),lt.success("Refund processed successfully!",{id:"refund-toast"});const K=F.map(x=>x.id===W.id?{...x,status:"Approved",refundSignature:V.signature,refundDate:new Date().toISOString()}:x);localStorage.setItem("sodap-return-requests",JSON.stringify(K)),v(!1),o&&l({...o,status:"Approved",refundSignature:V.signature,refundDate:new Date().toISOString()}),e(),window.dispatchEvent(new CustomEvent("refundRequestUpdate"))}else if(V.status==="pending"){console.log("Refund transaction is pending:",V),lt.info("Transaction submitted but still confirming. Please check your wallet and Solana Explorer.",{id:"refund-toast"});const K=F.map(x=>x.id===W.id?{...x,status:"Processing",refundSignature:V.signature,refundDate:new Date().toISOString()}:x);localStorage.setItem("sodap-return-requests",JSON.stringify(K)),v(!1),o&&l({...o,status:"Processing",refundSignature:V.signature,refundDate:new Date().toISOString()}),e(),window.dispatchEvent(new CustomEvent("refundRequestUpdate"))}else console.error("Refund transaction failed with status:",V.status),h("Refund transaction failed. Please check your wallet balance and try again."),lt.error("Failed to process refund. Please check your wallet balance.",{id:"refund-toast"})}catch(V){console.error("Error in refund transaction:",V);let K="Refund transaction failed. ";V instanceof Error?V.message.includes("insufficient funds")||V.message.includes("Insufficient funds")?K+="Insufficient funds in store wallet. Please add SOL to the store wallet and try again.":V.message.includes("timeout")||V.message.includes("Timeout")?K+="Transaction timed out. The network may be congested. Please try again later.":V.message.includes("rejected")?K+="Transaction was rejected by your wallet.":K+=V.message:K+="Please try again.",h(K),lt.error(K,{id:"refund-toast"})}}catch(F){console.error("Error processing refund:",F),h(`Error: ${F instanceof Error?F.message:"Unknown error"}`),lt.error("Failed to process refund")}finally{b(!1)}}catch(F){console.error("Error in handleApproveRefund:",F),h(`Error: ${F instanceof Error?F.message:"Unknown error"}`),lt.error("Failed to process refund"),b(!1)}},j=L=>({id:`purchase_${Math.random().toString(36).substring(2,9)}`,transactionSignature:L,storeName:"SoDap Test Store",items:[{name:"Digital Art Print",price:.5,quantity:1},{name:"Premium Frame",price:.2,quantity:1}],receiptAddress:"receipt_1",storeAddress:"store_1",buyerAddress:"DfhzrfdE5VDk43iP1NL8MLS5xFaxquxJVFtjhjRmHLAW",purchaseTimestamp:Math.floor(Date.now()/1e3),totalAmount:.7}),D=async L=>{try{const F=j(L),W={id:`ret_${Math.random().toString(36).substring(2,9)}`,purchaseId:F.id,date:new Date().toISOString(),items:F.items,reason:"Test return request",status:"Pending",storeName:F.storeName,transactionSignature:F.transactionSignature,receiptAddress:F.receiptAddress,storeAddress:F.storeAddress,buyerAddress:F.buyerAddress,purchaseTimestamp:F.purchaseTimestamp,totalAmount:F.totalAmount};try{const V=[...JSON.parse(localStorage.getItem("sodap-return-requests")||"[]"),W];localStorage.setItem("sodap-return-requests",JSON.stringify(V)),sessionStorage.setItem("returnRequests",JSON.stringify(V)),lt.success("Test return request added successfully"),e(),window.dispatchEvent(new CustomEvent("returnRequestsUpdated",{detail:{requests:V}}))}catch(q){console.error("Error saving return request to localStorage:",q),lt.error("Failed to save return request")}}catch(F){console.error("Error adding transaction to refunds:",F),lt.error("Failed to create return request")}},U=async L=>{try{if(!k){lt.error("Please connect your wallet first.");return}if(!R){lt.error("Only store manager can reject refunds.");return}const W=JSON.parse(localStorage.getItem("sodap-return-requests")||"[]").map(q=>q.id===L.id?{...q,status:"Rejected"}:q);localStorage.setItem("sodap-return-requests",JSON.stringify(W)),l(null),v(!1),lt.success("Refund rejected successfully"),window.dispatchEvent(new CustomEvent("refundRequestUpdate"))}catch(F){console.error("Error rejecting refund:",F),lt.error("Failed to reject refund")}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-2xl font-bold",id:"pending-requests-list",children:"Pending Refund Requests"}),u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsx(Ne,{onClick:()=>D("2RhSsBGg9xTZ7QyNmZY5ozdStTDnfLYBa2dtFaZ8aUHdqvymm2HaUPJvVMEcqcBJFcYmnj1vgKRitp7jNY5ni53H"),variant:"outline",size:"sm",children:"Add Transaction to Refunds"}),u.jsx(Bw,{})]})]}),k?R?null:u.jsx(St,{className:"mb-4",children:u.jsxs(Et,{className:"pt-6",children:[u.jsxs(ch,{className:"mb-4 border-red-500 bg-red-50",children:[u.jsx(vm,{children:"Wrong wallet connected"}),u.jsxs(uh,{children:["Please connect with the store manager wallet:",u.jsx("span",{className:"font-mono text-sm block mt-1 bg-gray-100 p-1 rounded",children:T})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx(Bw,{className:"bg-sodap-purple hover:bg-sodap-purple/90"})})]})}):u.jsx(St,{className:"mb-4",children:u.jsx(Et,{className:"pt-6",children:u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[u.jsxs(ch,{className:"mb-4 border-yellow-500 bg-yellow-50",children:[u.jsx(vm,{children:"Wallet not connected"}),u.jsx(uh,{children:"Please connect your wallet to manage refund requests."})]}),u.jsx(Bw,{className:"bg-sodap-purple hover:bg-sodap-purple/90"})]})})}),u.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["Total pending requests: ",t.length]})]}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Refund Requests"}),u.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:t.length})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-sm text-gray-500",children:r?`Showing all requests (${i.length})`:`Pending requests: ${t.length}`}),u.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>n(!r),children:r?"Show Pending Only":"Show All Requests"})]})]}),s.length===0?u.jsx(St,{children:u.jsx(Et,{className:"py-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Refund Requests"}),u.jsx("p",{className:"text-gray-500",children:r?"There are no refund requests to display.":"There are no pending refund requests."})]})})}):u.jsx("div",{className:"grid gap-4",children:s.map(L=>u.jsx(St,{className:`
                ${L.status==="Approved"?"border-green-200 bg-green-50":""}
                ${L.status==="Rejected"?"border-red-200 bg-red-50":""}
                ${L.status==="Processing"?"border-blue-200 bg-blue-50":""}
                ${L.status==="Pending"?"border-yellow-200":""}
                hover:shadow-md transition-shadow
              `,onClick:()=>{l(L),v(!0)},children:u.jsx(Et,{className:"p-4",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold",children:L.storeName}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Request Date: ",new Date(L.date).toLocaleDateString()]}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Total: ",L.totalAmount.toFixed(2)," SOL"]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsx("span",{className:`
                      px-3 py-1 rounded-full text-xs
                      ${L.status==="Approved"?"bg-green-100 text-green-800":""}
                      ${L.status==="Rejected"?"bg-red-100 text-red-800":""}
                      ${L.status==="Processing"?"bg-blue-100 text-blue-800":""}
                      ${L.status==="Pending"?"bg-yellow-100 text-yellow-800":""}
                    `,children:L.status}),(L.status==="Approved"||L.status==="Processing")&&L.refundSignature&&u.jsx("a",{href:`https://explorer.solana.com/tx/${L.refundSignature}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",onClick:F=>F.stopPropagation(),children:"View Refund Transaction"})]})]})})},L.id))}),u.jsx(eu,{open:p,onOpenChange:v,children:u.jsxs(Pl,{children:[u.jsxs(Ll,{children:[u.jsx(Dl,{children:"Refund Request Details"}),u.jsx(Bp,{children:"Review the details of this refund request."})]}),f&&u.jsxs(ch,{className:"mb-4 border-yellow-500 bg-yellow-50",children:[u.jsx(vm,{className:"text-yellow-800",children:"Warning"}),u.jsx(uh,{className:"text-yellow-700",children:f})]}),o&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Items"}),u.jsx("div",{className:"space-y-2",children:o.items.map((L,F)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{children:[L.name," x",L.quantity]}),u.jsxs("span",{children:[L.price.toFixed(2)," SOL"]})]},F))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Return Reason"}),u.jsx("p",{className:"text-sm text-gray-500",children:o.reason})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Transaction"}),u.jsx("a",{href:`https://explorer.solana.com/tx/${o.transactionSignature}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline break-all",children:o.transactionSignature})]}),u.jsx("div",{className:"flex justify-end gap-2 pt-2",children:o.status==="Approved"?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm flex items-center",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Refunded"]}),o.refundSignature&&u.jsx("a",{href:`https://explorer.solana.com/tx/${o.refundSignature}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",onClick:L=>L.stopPropagation(),children:"View Refund Transaction"})]}):o.status==="Processing"?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm flex items-center",children:[u.jsx(hl,{className:"h-4 w-4 mr-1 animate-spin"}),"Processing Refund"]}),o.refundSignature&&u.jsx("a",{href:`https://explorer.solana.com/tx/${o.refundSignature}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",onClick:L=>L.stopPropagation(),children:"Check Transaction Status"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ne,{variant:"outline",onClick:()=>U(o),disabled:E||o.status!=="Pending",children:"Reject"}),u.jsx(Ne,{onClick:()=>C(o),className:"bg-green-500 hover:bg-green-600",disabled:E||!k||!R||o.status!=="Pending",children:E?u.jsxs(u.Fragment,{children:[u.jsx(hl,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Process Refund"})]})})]})]})})]})},o1=({initialTab:t="overview",customTabTitle:e})=>{const[r,n]=M.useState(0);M.useEffect(()=>{const s=sessionStorage.getItem("returnRequests");if(s){const l=JSON.parse(s).filter(f=>f.status==="Pending");n(l.length)}},[]),M.useEffect(()=>{const s=()=>{const l=sessionStorage.getItem("returnRequests");if(l){const h=JSON.parse(l).filter(p=>p.status==="Pending");n(h.length)}},o=l=>{const h=l.detail.requests.filter(p=>p.status==="Pending");n(h.length)};return window.addEventListener("storage",s),window.addEventListener("returnRequestsUpdated",o),()=>{window.removeEventListener("storage",s),window.removeEventListener("returnRequestsUpdated",o)}},[]);const i=[{title:"Active Products",value:"64",icon:u.jsx(qS,{className:"h-4 w-4 text-blue-500"})},{title:"Pending Refunds",value:r.toString(),icon:u.jsx(hm,{className:"h-4 w-4 text-amber-500"})},{title:"Staff Members",value:"5",icon:u.jsx(hb,{className:"h-4 w-4 text-green-500"})},{title:"Monthly Sales",value:"423 SOL",icon:u.jsx(XY,{className:"h-4 w-4 text-purple-500"})}];return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Store Overview"}),u.jsx(BE,{stats:i}),u.jsxs(Bl,{defaultValue:t,className:"w-full",children:[u.jsxs(va,{className:"mb-4",children:[u.jsx(Gr,{value:"overview",children:"Store Overview"}),u.jsx(Gr,{value:"products",children:e||"Products"}),u.jsx(Gr,{value:"store",children:"Store Management"}),u.jsx(Gr,{value:"staff",children:"Staff Management"}),u.jsxs(Gr,{value:"refunds",children:["Refunds",r>0&&u.jsx("span",{className:"ml-2 bg-red-500 text-white rounded-full px-2 py-0.5 text-xs",children:r})]})]}),u.jsx(dr,{value:"overview",children:u.jsx(Zie,{})}),u.jsx(dr,{value:"products",children:u.jsx(p5,{customTitle:e})}),u.jsx(dr,{value:"store",children:u.jsx(Yie,{defaultTab:"products"})}),u.jsx(dr,{value:"staff",children:u.jsx(Jie,{})}),u.jsx(dr,{value:"refunds",children:u.jsx(noe,{})})]}),u.jsx(Xie,{})]})},soe=({role:t})=>{const e=()=>{switch(t){case"store_staff":return"Store Staff Dashboard";case"end_user":default:return"User Dashboard"}},r=()=>{switch(t){case"store_staff":return[{title:"Active Products",value:"64"},{title:"Pending Refunds",value:"7"},{title:"Daily Orders",value:"14"},{title:"Weekly Sales",value:"118 SOL"}];case"end_user":default:return[{title:"Orders",value:"12"},{title:"Pending Returns",value:"1"},{title:"Available SOL",value:"3.2"},{title:"Total Spent",value:"24.5 SOL"}]}};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:e()}),u.jsx(BE,{stats:r()}),u.jsxs(St,{className:"mt-8",children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Recent Activity"})}),u.jsx(Et,{children:u.jsx("div",{className:"text-center py-8 text-gray-500",children:u.jsx("p",{children:"Activity data will be populated here from the Solana blockchain"})})})]})]})},ioe=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Store Settings"}),u.jsxs(Bl,{defaultValue:"store",className:"w-full",children:[u.jsxs(va,{className:"mb-4",children:[u.jsx(Gr,{value:"store",children:"Store Profile"}),u.jsx(Gr,{value:"account",children:"Account"}),u.jsx(Gr,{value:"notifications",children:"Notifications"})]}),u.jsx(dr,{value:"store",children:u.jsxs(St,{children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Store Information"})}),u.jsxs(Et,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{htmlFor:"store-name",children:"Store Name"}),u.jsx(Ot,{id:"store-name",defaultValue:"SoDap Demo Store"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{htmlFor:"store-url",children:"Store URL"}),u.jsx(Ot,{id:"store-url",defaultValue:"sodap-demo"})]}),u.jsxs("div",{className:"space-y-2 md:col-span-2",children:[u.jsx(ri,{htmlFor:"store-description",children:"Store Description"}),u.jsx("textarea",{id:"store-description",className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2",defaultValue:"Your demo store for SoDap blockchain commerce."})]})]}),u.jsx(Ne,{className:"bg-sodap-purple hover:bg-purple-700",children:"Save Changes"})]})]})}),u.jsx(dr,{value:"account",children:u.jsxs(St,{children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Account Settings"})}),u.jsxs(Et,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{htmlFor:"email",children:"Email Address"}),u.jsx(Ot,{id:"email",type:"email",defaultValue:"manager@example.com"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{htmlFor:"current-password",children:"Current Password"}),u.jsx(Ot,{id:"current-password",type:"password"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{htmlFor:"new-password",children:"New Password"}),u.jsx(Ot,{id:"new-password",type:"password"})]}),u.jsx(Ne,{className:"bg-sodap-purple hover:bg-purple-700",children:"Update Account"})]})]})}),u.jsx(dr,{value:"notifications",children:u.jsxs(St,{children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Notification Preferences"})}),u.jsx(Et,{children:u.jsx("p",{className:"text-center py-4 text-gray-500",children:"Notification settings will be implemented in a future update."})})]})})]})]});var ooe="Separator",wR="horizontal",aoe=["horizontal","vertical"],m5=M.forwardRef((t,e)=>{const{decorative:r,orientation:n=wR,...i}=t,s=loe(n)?n:wR,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return u.jsx(ft.div,{"data-orientation":s,...l,...i,ref:e})});m5.displayName=ooe;function loe(t){return aoe.includes(t)}var g5=m5;const fv=M.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>u.jsx(g5,{ref:i,decorative:r,orientation:e,className:Ye("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));fv.displayName=g5.displayName;var y5={exports:{}},v5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=M;function coe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uoe=typeof Object.is=="function"?Object.is:coe,doe=zd.useState,foe=zd.useEffect,hoe=zd.useLayoutEffect,poe=zd.useDebugValue;function moe(t,e){var r=e(),n=doe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return hoe(function(){i.value=r,i.getSnapshot=e,a1(i)&&s({inst:i})},[t,r,e]),foe(function(){return a1(i)&&s({inst:i}),t(function(){a1(i)&&s({inst:i})})},[t]),poe(r),r}function a1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!uoe(t,r)}catch{return!0}}function goe(t,e){return e()}var yoe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?goe:moe;v5.useSyncExternalStore=zd.useSyncExternalStore!==void 0?zd.useSyncExternalStore:yoe;y5.exports=v5;var voe=y5.exports;function woe(){return voe.useSyncExternalStore(xoe,()=>!0,()=>!1)}function xoe(){return()=>{}}var zE="Avatar",[boe,Xle]=Ys(zE),[_oe,w5]=boe(zE),x5=M.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=M.useState("idle");return u.jsx(_oe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:u.jsx(ft.span,{...n,ref:e})})});x5.displayName=zE;var b5="AvatarImage",_5=M.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=w5(b5,r),l=Soe(n,s),f=Cr(h=>{i(h),o.onImageLoadingStatusChange(h)});return Fr(()=>{l!=="idle"&&f(l)},[l,f]),l==="loaded"?u.jsx(ft.img,{...s,ref:e,src:n}):null});_5.displayName=b5;var S5="AvatarFallback",E5=M.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=w5(S5,r),[o,l]=M.useState(n===void 0);return M.useEffect(()=>{if(n!==void 0){const f=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(f)}},[n]),o&&s.imageLoadingStatus!=="loaded"?u.jsx(ft.span,{...i,ref:e}):null});E5.displayName=S5;function xR(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Soe(t,{referrerPolicy:e,crossOrigin:r}){const n=woe(),i=M.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=M.useState(()=>xR(s,t));return Fr(()=>{l(xR(s,t))},[s,t]),Fr(()=>{const f=v=>()=>{l(v)};if(!s)return;const h=f("loaded"),p=f("error");return s.addEventListener("load",h),s.addEventListener("error",p),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",h),s.removeEventListener("error",p)}},[s,r,e]),o}var N5=x5,M5=_5,A5=E5;const FE=M.forwardRef(({className:t,...e},r)=>u.jsx(N5,{ref:r,className:Ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));FE.displayName=N5.displayName;const WE=M.forwardRef(({className:t,...e},r)=>u.jsx(M5,{ref:r,className:Ye("aspect-square h-full w-full",t),...e}));WE.displayName=M5.displayName;const $E=M.forwardRef(({className:t,...e},r)=>u.jsx(A5,{ref:r,className:Ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));$E.displayName=A5.displayName;const Eoe={email:"user@example.com",fullName:"John Doe"},R5=M.createContext(void 0),VE=({children:t})=>{const[e,r]=M.useState(()=>{const o=localStorage.getItem("sodap-wallet");if(o)try{return JSON.parse(o).pub||null}catch(l){return console.error("Error parsing stored wallet data:",l),null}return null}),[n,i]=M.useState(()=>{const o=localStorage.getItem("sodap-wallet");if(o)try{return JSON.parse(o).sec||null}catch(l){return console.error("Error parsing stored wallet data:",l),null}return null}),[s]=M.useState(Eoe);return M.useEffect(()=>{e&&n&&localStorage.setItem("sodap-wallet",JSON.stringify({pub:e,sec:n}))},[e,n]),u.jsx(R5.Provider,{value:{walletAddress:e,setWalletAddress:r,walletSecret:n,setWalletSecret:i,userProfile:s},children:t})},HE=()=>{const t=M.useContext(R5);if(t===void 0)throw new Error("useProfile must be used within a ProfileProvider");return t},k5=({isAdmin:t=!1})=>{const{userProfile:e,walletAddress:r}=HE();return u.jsxs(St,{children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Profile Information"})}),u.jsxs(Et,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),u.jsx("p",{className:"mt-1",children:e.fullName})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Email"}),u.jsx("p",{className:"mt-1",children:e.email})]})]}),u.jsxs("div",{className:"pt-4 border-t",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Wallet Status"}),u.jsx("div",{className:"flex items-center",children:r?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full"}),u.jsx("span",{className:"text-green-500",children:"Connected"})]}):u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 rounded-full"}),u.jsx("span",{className:"text-red-500",children:"Not Connected"})]})})]})]})]})},T5=({isAdmin:t=!1})=>{const{walletAddress:e,setWalletAddress:r,walletSecret:n,setWalletSecret:i}=HE(),[s,o]=M.useState(!1),[l,f]=M.useState(!1),[h,p]=M.useState(!1),{toast:v}=Zs();M.useEffect(()=>{const N=localStorage.getItem("sodap-wallet");if(N)try{const A=JSON.parse(N);r(A.pub),i(A.sec),p(!0)}catch(A){console.error("Error parsing stored wallet data:",A)}},[r,i]);const E=()=>{f(!0);try{const N=ta.generate(),A=N.publicKey.toBase58(),R=xt.from(N.secretKey).toString("hex");r(A),i(R),p(!0),localStorage.setItem("sodap-wallet",JSON.stringify({pub:A,sec:R})),v({title:"Wallet Created",description:"Your Solana wallet has been generated successfully. Keep your secret key safe!"})}catch(N){console.error("Error generating Solana wallet:",N),v({title:"Wallet Creation Failed",description:"There was an error creating your Solana wallet. Please try again.",variant:"destructive"})}finally{f(!1)}},b=(N,A)=>{navigator.clipboard.writeText(N),v({title:`${A} Copied`,description:`The ${A.toLowerCase()} has been copied to clipboard.`})},k=()=>{o(!s)};return u.jsxs(St,{children:[u.jsxs(qt,{children:[u.jsx(Gt,{children:"Wallet Management"}),u.jsx("p",{className:"text-gray-500",children:"Create and manage your Solana wallet directly from your profile."})]}),u.jsx(Et,{className:"space-y-4",children:h?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Wallet Address"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ot,{readOnly:!0,value:e,className:"flex-1 font-mono text-sm rounded-r-none"}),u.jsx(Ne,{variant:"outline",size:"sm",className:"h-[42px] rounded-l-none border-l-0",onClick:()=>b(e,"Address"),children:u.jsx(_c,{size:16})})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:["Secret Key ",u.jsx("span",{className:"text-red-500",children:"(Keep this safe!)"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ot,{readOnly:!0,type:s?"text":"password",value:n||"",className:"flex-1 font-mono text-sm rounded-r-none"}),u.jsx(Ne,{variant:"outline",size:"sm",className:"h-[42px] rounded-none border-l-0 border-r-0",onClick:k,children:s?u.jsx(Dh,{size:16}):u.jsx(Bh,{size:16})}),u.jsx(Ne,{variant:"outline",size:"sm",className:"h-[42px] rounded-l-none border-l-0",onClick:()=>b(n||"","Secret"),disabled:!n,children:u.jsx(_c,{size:16})})]}),u.jsx("p",{className:"text-sm text-red-500 mt-2",children:"Important: Store this secret safely; it cannot be recovered if lost."})]}),u.jsxs("div",{className:"pt-4 border-t",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Wallet Balance"}),u.jsx("p",{className:"text-xl font-bold",children:"0.00 SOL"})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx(bl,{size:48,className:"mb-4 text-sodap-purple"}),u.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Wallet Found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Create a wallet to start using SoDap payments"}),u.jsx(Ne,{onClick:E,className:"bg-sodap-purple hover:bg-sodap-purple/90",disabled:l,children:l?"Creating...":"Create Wallet"})]})})]})},Noe=({role:t})=>{const{walletAddress:e,isConnected:r}=Xc(),[n,i]=M.useState("info"),[s,o]=M.useState(""),[l,f]=M.useState(""),[h,p]=M.useState(!0),v=["info","wallet","security"];M.useEffect(()=>{p(!0);const k=sessionStorage.getItem("username"),N=sessionStorage.getItem("userRole");k&&o(k),f(N||t),setTimeout(()=>{p(!1)},300)},[t]);const E=k=>{switch(k){case"info":return u.jsx(Zu,{className:"mr-2",size:16});case"wallet":return u.jsx(bl,{className:"mr-2",size:16});case"security":return u.jsx(Ww,{className:"mr-2",size:16});default:return null}},b=()=>{switch(l){case"platform_admin":return"Platform Administrator";case"store_manager":return"Store Manager";case"store_staff":return"Store Staff";default:return"User"}};return h?u.jsxs("div",{className:"animate-pulse",children:[u.jsxs("div",{className:"flex items-center mb-8",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full mr-4"}),u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"})]}),u.jsx("div",{className:"h-12 bg-gray-200 rounded mb-8"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"h-32 bg-gray-200 rounded"}),u.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]}):u.jsx(VE,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs(FE,{className:"h-12 w-12 mr-4 border-2 border-sodap-purple",children:[u.jsx(WE,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${s}`,alt:s}),u.jsx($E,{children:(s==null?void 0:s.substring(0,2).toUpperCase())||"AD"})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s||"Admin"}),u.jsx("p",{className:"text-gray-500",children:b()})]})]}),u.jsx("div",{className:"flex items-center space-x-2",children:r?u.jsxs(Ne,{variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",size:"sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600 mr-2"}),"Wallet Connected"]}):u.jsx(Ne,{className:"bg-sodap-purple hover:bg-purple-700",size:"sm",children:"Connect Wallet"})})]}),u.jsx(fv,{}),u.jsxs(Bl,{value:n,onValueChange:i,className:"w-full",children:[u.jsx(va,{className:"mb-6 bg-gray-100 p-1 rounded-lg",children:v.map(k=>u.jsxs(Gr,{value:k,className:`flex items-center ${n===k?"bg-white shadow-sm":"hover:bg-gray-200"} rounded-md transition-all duration-200 px-4 py-2`,children:[E(k),k==="info"?"Admin Info":k==="wallet"?"Wallet":"Security"]},k))}),u.jsx(St,{className:"border-gray-200 shadow-sm",children:u.jsxs(Et,{className:"p-6",children:[u.jsx(dr,{value:"info",className:"mt-0",children:u.jsx(k5,{isAdmin:!0})}),u.jsx(dr,{value:"wallet",className:"mt-0",children:u.jsx(T5,{isAdmin:!0})}),u.jsx(dr,{value:"security",className:"mt-0",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Security Settings"}),u.jsx("p",{className:"text-gray-500",children:"Manage your account security settings and permissions."}),u.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-4 text-amber-800",children:[u.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[u.jsx(Ww,{className:"mr-2 h-5 w-5"}),"Admin Access Level"]}),u.jsxs("p",{className:"text-sm",children:["As a ",b(),", you have elevated permissions in the system. Please ensure you follow security best practices."]})]}),u.jsxs("div",{className:"grid gap-4 mt-4",children:[u.jsxs(Ne,{variant:"outline",className:"justify-start",children:[u.jsx(m3,{className:"mr-2 h-4 w-4"}),"Change Password"]}),u.jsxs(Ne,{variant:"outline",className:"justify-start",children:[u.jsx(Ww,{className:"mr-2 h-4 w-4"}),"Two-Factor Authentication"]})]})]})})]})})]})]})})},Moe=({role:t})=>{const r=Ln().pathname;return r==="/dashboard/settings"?u.jsx(ioe,{}):r==="/dashboard/admin-info"?u.jsx(Noe,{role:t}):r==="/dashboard/refunds"?u.jsx(o1,{initialTab:"refunds"}):r==="/dashboard/products"?u.jsx(o1,{initialTab:"products",customTabTitle:"Product Management"}):t==="platform_admin"?u.jsx(Hie,{}):t==="store_manager"?u.jsx(o1,{}):u.jsx(soe,{role:t})},Aoe=({onRoleSelect:t})=>{const e=wn();return u.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-sodap mx-auto mb-6"}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to SoDap"}),u.jsx("p",{className:"text-gray-500 mt-2",children:"Select your dashboard to continue"})]}),u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx(Ne,{onClick:()=>t("platform_admin"),className:"w-full h-14 text-lg bg-sodap-purple hover:bg-sodap-purple/90 flex items-center justify-center",children:"Platform Admin"}),u.jsx("div",{className:"relative",children:u.jsxs(RL,{children:[u.jsx(kL,{asChild:!0,children:u.jsxs(Ne,{className:"w-full h-14 text-lg bg-sodap-blue hover:bg-sodap-blue/90 flex items-center justify-between px-6",children:[u.jsx("span",{children:"Store Admin"}),u.jsx(By,{size:20})]})}),u.jsxs(EE,{className:"w-full min-w-[16rem] bg-white",children:[u.jsx(Xu,{onClick:()=>t("store_manager"),children:"Store Manager"}),u.jsx(Xu,{onClick:()=>t("store_staff"),children:"Store Staff"})]})]})}),u.jsx(Ne,{onClick:()=>e("/login"),variant:"outline",className:"w-full h-12 border-sodap-purple text-sodap-purple hover:bg-sodap-purple/5 mt-2",children:"Login as User"})]})})]})})},Roe=({selectedRole:t,onBack:e})=>{const r=wn(),{toast:n}=Zs(),[i,s]=M.useState(""),[o,l]=M.useState(""),[f,h]=M.useState(!1),[p,v]=M.useState(!1),[E,b]=M.useState("email"),N=(()=>{switch(t){case"platform_admin":return{email:"admin@sodap.com",password:"password123"};case"store_manager":return{email:"manager@sodap.com",password:"password123"};case"store_staff":return{email:"staff@sodap.com",password:"password123"};default:return{email:"",password:""}}})(),A=T=>{if(T.preventDefault(),E==="email"){if(!i){n({title:"Email required",description:"Please enter your email address.",variant:"destructive"});return}b("password")}else R()},R=async()=>{if(!o){n({title:"Password required",description:"Please enter your password.",variant:"destructive"});return}h(!0);const T=i.split("@")[0];sessionStorage.setItem("username",T),setTimeout(()=>{switch(h(!1),n({title:"Login successful",description:"You have been logged in."}),t){case"platform_admin":r("/dashboard/admin");break;case"store_manager":r("/dashboard/manager");break;case"store_staff":r("/dashboard/staff");break;default:r("/dashboard")}},1e3)};return u.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:u.jsxs(St,{className:"w-full max-w-md overflow-hidden",children:[u.jsx("div",{className:"absolute top-4 left-4",children:u.jsx(Ne,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-500 hover:text-gray-900",children:"Back"})}),u.jsxs(qt,{className:"space-y-1 flex flex-col items-center pt-10",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-sodap mb-4"}),u.jsx(Gt,{className:"text-2xl font-bold",children:t==="platform_admin"?"Platform Admin Login":t==="store_manager"?"Store Manager Login":t==="store_staff"?"Store Staff Login":"Login"}),E==="email"&&u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Enter your email to continue"}),E==="password"&&u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-900 font-medium",children:i}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Enter your password"})]})]}),u.jsxs(Et,{children:[u.jsxs("form",{onSubmit:A,className:"space-y-4",children:[E==="email"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ot,{id:"email",placeholder:"Email",type:"email",value:i,onChange:T=>s(T.target.value),className:"h-12",required:!0,autoFocus:!0}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200 mt-2 text-sm",children:[u.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Test Credentials:"}),u.jsxs("p",{className:"text-gray-600",children:["Email: ",u.jsx("span",{className:"font-mono",children:N.email})]}),u.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"(Click to auto-fill)"}),u.jsx(Ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>s(N.email),className:"w-full mt-2 h-8 text-xs bg-gray-100 hover:bg-gray-200",children:"Use Test Email"})]}),u.jsxs(Ne,{type:"submit",className:"w-full bg-sodap-purple hover:bg-sodap-purple/90 text-white h-12 flex items-center justify-center",children:["Continue ",u.jsx(Dy,{size:16,className:"ml-2"})]})]}),E==="password"&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Ot,{id:"password",placeholder:"Password",type:p?"text":"password",value:o,onChange:T=>l(T.target.value),className:"h-12 pr-12",required:!0,autoFocus:!0}),u.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:p?u.jsx(Dh,{size:18}):u.jsx(Bh,{size:18})})]}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200 mt-2 text-sm",children:[u.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Test Credentials:"}),u.jsxs("p",{className:"text-gray-600",children:["Password: ",u.jsx("span",{className:"font-mono",children:N.password})]}),u.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"(Click to auto-fill)"}),u.jsx(Ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(N.password),className:"w-full mt-2 h-8 text-xs bg-gray-100 hover:bg-gray-200",children:"Use Test Password"})]}),u.jsx(Ne,{type:"submit",className:"w-full bg-sodap-purple hover:bg-sodap-purple/90 text-white h-12",disabled:f,children:f?"Signing In...":"Sign In"})]})]}),u.jsx("div",{className:"mt-4 text-center text-sm",children:u.jsx(Ne,{variant:"ghost",className:"text-sodap-blue hover:underline",onClick:()=>r("/forgot-password"),children:"Forgot password?"})})]})]})})},Ma=({role:t="end_user"})=>{wn();const r=Ln().pathname,n=sessionStorage.getItem("username")!==null,[i,s]=M.useState(null),l=r.includes("/admin")?"platform_admin":r.includes("/manager")?"store_manager":r.includes("/staff")?"store_staff":t,f=h=>{s(h)};return t!=="end_user"||r!=="/dashboard"&&n?u.jsx(di,{role:l,children:u.jsx(Moe,{role:l})}):i?u.jsx(Roe,{selectedRole:i,onBack:()=>s(null)}):u.jsx(Aoe,{onRoleSelect:f})},I5=()=>{const{program:t,walletAddress:e,connection:r}=Xc(),[n,i]=M.useState([]),[s,o]=M.useState(!1),[l,f]=M.useState(null);M.useEffect(()=>{const k=N=>{if(N.key==="sodap-purchases"&&N.newValue)try{const A=JSON.parse(N.newValue);console.log("Storage event: purchases updated",A.length),i(A)}catch(A){console.error("Error handling storage change:",A)}};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[]);const h=M.useCallback(()=>[],[]),p=M.useCallback(async()=>{var k;o(!0),f(null);try{const N=localStorage.getItem("sodap-purchases");let A=[];if(N)try{const R=JSON.parse(N);Array.isArray(R)&&R.length>0?(A=R,console.log("Found cached purchases:",A.length),i(A)):i([])}catch(R){console.error("Error parsing cached purchases:",R),i([])}else console.log("No cached purchases found"),i([]);if(r&&e)try{console.log("Fetching purchases from blockchain for wallet:",e.toString());const R=new me(e),T=await r.getSignaturesForAddress(R,{limit:30});if(T.length>0){console.log(`Found ${T.length} signatures`);const C=[];for(const j of T)try{if(!j.signature||!j.blockTime)continue;const D=await r.getTransaction(j.signature,{maxSupportedTransactionVersion:0});if(!D||!D.meta||!((k=D.meta.logMessages)==null?void 0:k.some(F=>{const W=F.toLowerCase();return W.includes("purchase")||W.includes("payment")||W.includes("buy")||W.includes("transaction")||W.includes("sodap")})))continue;const L={id:`purchase_${j.signature.substring(0,8)}`,storeName:"SoDap Store",date:new Date(j.blockTime*1e3).toISOString(),items:[{name:"Digital Item",price:.5,quantity:1}],totalAmount:.5,transactionSignature:j.signature,receiptAddress:"receipt_address",storeAddress:"store_address",buyerAddress:e.toString(),purchaseTimestamp:j.blockTime};C.push(L)}catch(D){console.error(`Error processing transaction ${j.signature}:`,D)}if(C.length>0){console.log(`Processed ${C.length} purchases from blockchain`);const j=[...C];A.forEach(D=>{j.some(U=>U.id===D.id)||j.push(D)}),i(j),localStorage.setItem("sodap-purchases",JSON.stringify(j)),console.log("Saved purchases to localStorage"),o(!1);return}else console.log("No purchases found in blockchain"),A.length===0&&i([])}else console.log("No signatures found for wallet"),A.length===0&&i([])}catch(R){console.error("Error fetching from blockchain:",R),A.length===0&&i([])}else A.length===0&&(console.log("No wallet connected"),i([]))}catch(N){console.error("Error in fetchPurchases:",N),f(`Error fetching purchases: ${N instanceof Error?N.message:"Unknown error"}`),i([])}finally{o(!1)}},[r,e,h]);M.useEffect(()=>{console.log("usePurchaseHistory hook initialized"),p()},[p]);const v=M.useCallback(()=>{p()},[p]),E=M.useCallback(k=>{i(N=>{const A=N.map(R=>R.id===k.id?k:R);return localStorage.setItem("sodap-purchases",JSON.stringify(A)),A})},[]),b=M.useCallback(k=>{console.log("Adding new purchase to history:",k.id);let N=[];try{const C=localStorage.getItem("sodap-purchases");if(C){const j=JSON.parse(C);Array.isArray(j)&&(N=j)}}catch(C){console.error("Error reading current purchases from localStorage:",C)}if(N.some(C=>C.id===k.id)){console.log("Purchase already exists in history, not adding duplicate");return}const R=[k,...N];localStorage.setItem("sodap-purchases",JSON.stringify(R)),console.log("Saved updated purchase history to localStorage with new purchase"),i(R);const T=new CustomEvent("sodap-purchase-added",{detail:{purchase:k}});return window.dispatchEvent(T),R},[]);return{purchases:n,isLoading:s,error:l,refreshPurchases:v,updatePurchase:E,addPurchase:b}},C5=M.forwardRef(({className:t,...e},r)=>u.jsx("textarea",{className:Ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));C5.displayName="Textarea";const koe=({purchase:t,onRequestReturn:e})=>{const r=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return u.jsxs(St,{className:"overflow-hidden",children:[u.jsx(qt,{className:"pb-2",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx(Gt,{className:"text-lg",children:t.storeName}),u.jsx("p",{className:"text-sm text-muted-foreground",children:r(t.date)})]}),t.isReturned&&t.returnStatus&&u.jsxs("div",{children:[t.returnStatus==="Pending"&&u.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:"Return Pending"}),t.returnStatus==="Approved"&&u.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Refund Successful"}),t.returnStatus==="Rejected"&&u.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs",children:"Return Rejected"})]})]})}),u.jsxs(Et,{children:[u.jsxs("div",{className:"space-y-2",children:[t.items.map((n,i)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{children:[n.name," x",n.quantity]}),u.jsxs("span",{children:[n.price.toFixed(2)," SOL"]})]},i)),u.jsxs("div",{className:"border-t mt-2 pt-2 flex justify-between font-medium",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:[t.totalAmount.toFixed(2)," SOL"]})]})]}),u.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[u.jsx("a",{href:`https://explorer.solana.com/tx/${t.transactionSignature}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"View Transaction"}),t.isReturned?t.returnStatus==="Approved"&&t.refundSignature?u.jsx("a",{href:`https://explorer.solana.com/tx/${t.refundSignature}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"View Refund"}):null:u.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>e(t),children:"Request Return"})]})]})]})},Toe=()=>{const{walletAddress:t,connectWallet:e}=Xc(),{purchases:r,isLoading:n,error:i,refreshPurchases:s}=I5(),{createReturnRequest:o}=dv(),[l,f]=M.useState(null),[h,p]=M.useState(!1),[v,E]=M.useState(""),[b,k]=M.useState(!1),[N,A]=M.useState(!1),R=async()=>{k(!0),lt.info("Refreshing purchase history...");try{await s();const U=localStorage.getItem("sodap-purchases");if(U)try{const L=JSON.parse(U);if(Array.isArray(L)&&L.length>0){console.log("Found purchases in localStorage:",L.length),C(L),lt.success(`Found ${L.length} purchase${L.length===1?"":"s"} in your history`);return}}catch(L){console.error("Error parsing purchases from localStorage:",L)}r.length===0?(console.log("No purchases found in state or localStorage"),C([]),lt.info("No purchase history found")):(console.log("Using purchases from state:",r.length),C(r),lt.success(`Found ${r.length} purchase${r.length===1?"":"s"} in your history`))}catch(U){console.error("Error refreshing purchases:",U),lt.error("Failed to refresh purchase history");try{const L=localStorage.getItem("sodap-purchases");if(L){const F=JSON.parse(L);if(Array.isArray(F)&&F.length>0){C(F);return}}}catch(L){console.error("Failed to load purchases from localStorage as last resort:",L)}C([])}finally{k(!1)}};M.useEffect(()=>{const U=setTimeout(()=>{R()},500);return()=>clearTimeout(U)},[t]);const[T,C]=M.useState([]);M.useEffect(()=>{r&&r.length>0&&(C(r),console.log("Updated local purchases from hook:",r.length))},[r]),M.useEffect(()=>{const U=L=>{console.log("Purchase added event received in PurchasesTab"),R()};return window.addEventListener("sodap-purchase-added",U),()=>{window.removeEventListener("sodap-purchase-added",U)}},[]),M.useEffect(()=>{const U=()=>{document.visibilityState==="visible"&&(console.log("Tab became visible, refreshing purchases"),R())};return document.addEventListener("visibilitychange",U),()=>document.removeEventListener("visibilitychange",U)},[]),M.useEffect(()=>{console.log("PurchasesTab rendered with:",{walletAddress:t==null?void 0:t.toString(),purchases:r.length,isLoading:n,error:i})},[r,n,i,t]);const j=async()=>{A(!0);try{await e(),lt.success("Wallet connected successfully"),R()}catch(U){console.error("Error connecting wallet:",U),lt.error("Failed to connect wallet")}finally{A(!1)}},D=U=>{f(U),p(!0)};return t?i?u.jsx(St,{children:u.jsxs(Et,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-red-500",children:"Error Loading Purchases"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.toString()})]}),u.jsx(Ne,{variant:"outline",onClick:R,disabled:b,children:"Try Again"})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Purchase History"}),u.jsx(Ne,{variant:"outline",size:"sm",onClick:R,disabled:b,children:b?u.jsxs(u.Fragment,{children:[u.jsx(hl,{className:"mr-2 h-4 w-4 animate-spin"}),"Refreshing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(p3,{className:"mr-2 h-4 w-4"}),"Refresh"]})})]}),n&&T.length===0?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx(hl,{className:"h-8 w-8 animate-spin text-primary"}),u.jsx("span",{className:"ml-2",children:"Loading purchase history..."})]}):T.length>0?u.jsx("div",{className:"space-y-4",children:T.map(U=>u.jsx(koe,{purchase:U,onRequestReturn:D},U.id))}):u.jsxs("div",{className:"text-center py-8 border rounded-lg bg-muted/20",children:[u.jsx(Gu,{className:"h-12 w-12 mx-auto text-muted-foreground"}),u.jsx("h3",{className:"mt-2 text-lg font-medium",children:"No purchase history found"}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Your purchase history will appear here once you make a purchase.",u.jsx(Ne,{variant:"link",className:"p-0 h-auto font-normal text-sm underline ml-1",onClick:R,children:"Try refreshing"})]})]}),u.jsx(eu,{open:!!l,onOpenChange:()=>{f(null),p(!1),E("")},children:u.jsxs(Pl,{children:[u.jsx(Ll,{children:u.jsx(Dl,{children:"Return Request"})}),h&&l&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{htmlFor:"reason",children:"Return Reason"}),u.jsx(C5,{id:"reason",placeholder:"Please explain why you want to return these items",value:v,onChange:U=>E(U.target.value)})]}),u.jsxs(Dp,{children:[u.jsx(Ne,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),u.jsx(Ne,{onClick:async()=>{if(!v.trim()){lt.error("Please provide a reason for return");return}if(l){const U={...l,receiptAddress:l.receiptAddress||l.id,storeAddress:l.storeAddress||"",buyerAddress:l.buyerAddress||"",purchaseTimestamp:l.purchaseTimestamp||Math.floor(Date.now()/1e3)};await o(U,v),lt.success("Return request submitted successfully")}f(null),p(!1),E(""),R()},children:"Submit Return Request"})]})]})]})})]}):u.jsx(St,{children:u.jsxs(Et,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Connect Your Wallet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your wallet to view your purchase history"})]}),u.jsx(Ne,{onClick:j,className:"bg-sodap-purple hover:bg-sodap-purple/90",disabled:N,children:N?u.jsxs(u.Fragment,{children:[u.jsx(hl,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):"Connect Wallet"})]})})},Ioe=()=>{const{returnRequests:t}=dv(),[e,r]=M.useState(null);return u.jsxs(u.Fragment,{children:[u.jsxs(St,{children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Return Requests"})}),u.jsx(Et,{children:t.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(tv,{children:[u.jsx(rv,{children:u.jsxs(Lc,{children:[u.jsx(In,{children:"Date"}),u.jsx(In,{children:"Item"}),u.jsx(In,{children:"Reason"}),u.jsx(In,{children:"Status"}),u.jsx(In,{children:"Actions"})]})}),u.jsx(nv,{children:t.map(n=>u.jsxs(Lc,{children:[u.jsx(Cn,{children:n.date}),u.jsx(Cn,{children:u.jsx("ul",{className:"list-disc pl-5",children:n.items.map((i,s)=>u.jsxs("li",{children:[i.name," x",i.quantity]},s))})}),u.jsx(Cn,{children:n.reason}),u.jsx(Cn,{children:u.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:n.status})}),u.jsx(Cn,{children:u.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>r(n),children:"View Details"})})]},n.id))})]})}):u.jsx("div",{className:"text-center py-8 text-gray-500",children:u.jsx("p",{children:"No return requests yet"})})})]}),u.jsx(eu,{open:!!e,onOpenChange:()=>r(null),children:u.jsxs(Pl,{children:[u.jsx(Ll,{children:u.jsx(Dl,{children:"Return Request Details"})}),e&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Date"}),u.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Store"}),u.jsx("p",{className:"text-sm text-gray-500",children:e.storeName})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium mb-2",children:"Items"}),u.jsx("div",{className:"space-y-2",children:e.items.map((n,i)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{children:[n.name," x",n.quantity]}),u.jsxs("span",{children:[n.price.toFixed(2)," SOL"]})]},i))})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium mb-2",children:"Return Reason"}),u.jsx("p",{className:"text-sm text-gray-500",children:e.reason})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium mb-2",children:"Status"}),u.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:e.status})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx("p",{className:"text-sm font-medium mb-1",children:"Original Transaction"}),u.jsx("a",{href:`https://explorer.solana.com/tx/${e.transactionSignature}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline break-all",children:e.transactionSignature})]})]})]})})]})},Coe=()=>{const t=Ln(),e=wn(),{walletAddress:r,isConnected:n}=Xc(),i=new URLSearchParams(t.search),s=i.get("tab"),o=["info","wallet","purchases","returns"],l=o.includes(s)?s:"info",[f,h]=M.useState(l),[p,v]=M.useState(""),[E,b]=M.useState(""),[k,N]=M.useState(!0);M.useEffect(()=>{e(`/profile?tab=${f}`,{replace:!0})},[f,e]),M.useEffect(()=>{const T=i.get("tab");T&&o.includes(T)&&h(T)},[t.search]),M.useEffect(()=>{N(!0);const T=sessionStorage.getItem("username"),C=sessionStorage.getItem("userRole");T&&(v(T),T==="Batur"&&(sessionStorage.setItem("userWallet","DfhzrfdE5VDk43iP1NL8MLS5xFaxquxJVFtjhjRmHLAW"),console.log("Set up Batur's wallet address: DfhzrfdE5VDk43iP1NL8MLS5xFaxquxJVFtjhjRmHLAW"))),C&&b(C),setTimeout(()=>{N(!1)},300)},[]);const A=T=>{h(T)},R=T=>{switch(T){case"info":return u.jsx(Zu,{className:"mr-2",size:16});case"wallet":return u.jsx(bl,{className:"mr-2",size:16});case"purchases":return u.jsx(Gu,{className:"mr-2",size:16});case"returns":return u.jsx(p3,{className:"mr-2",size:16});default:return null}};return k?u.jsx(di,{children:u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsxs("div",{className:"flex items-center mb-8",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full mr-4"}),u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"})]}),u.jsx("div",{className:"h-12 bg-gray-200 rounded mb-8"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"h-32 bg-gray-200 rounded"}),u.jsx("div",{className:"h-32 bg-gray-200 rounded"}),u.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]})})}):u.jsx(di,{children:u.jsx(VE,{children:u.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-5xl",children:[u.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Cp,{}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs(FE,{className:"h-12 w-12 mr-4 border-2 border-sodap-purple",children:[u.jsx(WE,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${p}`,alt:p}),u.jsx($E,{children:p.substring(0,2).toUpperCase()})]}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[p,"'s Profile"]}),u.jsx("p",{className:"text-gray-500",children:E||"User"})]})]})]})}),u.jsx(fv,{className:"mb-8"}),u.jsxs(Bl,{value:f,onValueChange:A,className:"w-full",children:[u.jsx(va,{className:"mb-8 bg-gray-100 p-1 rounded-lg",children:o.map(T=>u.jsxs(Gr,{value:T,className:`flex items-center ${f===T?"bg-white shadow-sm":"hover:bg-gray-200"} rounded-md transition-all duration-200 px-4 py-2`,children:[R(T),T==="info"?"Profile Info":T==="wallet"?"My Wallet":T==="purchases"?"Purchase History":"Return Requests"]},T))}),u.jsx(St,{className:"border-gray-200 shadow-sm",children:u.jsxs(Et,{className:"p-6",children:[u.jsx(dr,{value:"info",className:"mt-0",children:u.jsx(k5,{})}),u.jsx(dr,{value:"wallet",className:"mt-0",children:u.jsx(T5,{})}),u.jsx(dr,{value:"purchases",className:"mt-0",children:u.jsx(Toe,{})}),u.jsx(dr,{value:"returns",className:"mt-0",children:u.jsx(Ioe,{})})]})})]})]})})})},joe=()=>{const t=Ln();return M.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function Cb(t,[e,r]){return Math.min(r,Math.max(e,t))}function Ooe(t){const e=M.useRef({value:t,previous:t});return M.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Poe=[" ","Enter","ArrowUp","ArrowDown"],Loe=[" ","Enter"],Fc="Select",[hv,pv,Doe]=Oy(Fc),[uf,ece]=Ys(Fc,[Doe,af]),mv=af(),[Boe,Ul]=uf(Fc),[Uoe,zoe]=uf(Fc),j5=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:f,dir:h,name:p,autoComplete:v,disabled:E,required:b,form:k}=t,N=mv(e),[A,R]=M.useState(null),[T,C]=M.useState(null),[j,D]=M.useState(!1),U=Rp(h),[L,F]=Oc({prop:n,defaultProp:i??!1,onChange:s,caller:Fc}),[W,q]=Oc({prop:o,defaultProp:l,onChange:f,caller:Fc}),V=M.useRef(null),K=A?k||!!A.closest("form"):!0,[x,a]=M.useState(new Set),d=Array.from(x).map(m=>m.props.value).join(";");return u.jsx(q3,{...N,children:u.jsxs(Boe,{required:b,scope:e,trigger:A,onTriggerChange:R,valueNode:T,onValueNodeChange:C,valueNodeHasChildren:j,onValueNodeHasChildrenChange:D,contentId:ho(),value:W,onValueChange:q,open:L,onOpenChange:F,dir:U,triggerPointerDownPosRef:V,disabled:E,children:[u.jsx(hv.Provider,{scope:e,children:u.jsx(Uoe,{scope:t.__scopeSelect,onNativeOptionAdd:M.useCallback(m=>{a(y=>new Set(y).add(m))},[]),onNativeOptionRemove:M.useCallback(m=>{a(y=>{const g=new Set(y);return g.delete(m),g})},[]),children:r})}),K?u.jsxs(nD,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:v,value:W,onChange:m=>q(m.target.value),disabled:E,form:k,children:[W===void 0?u.jsx("option",{value:""}):null,Array.from(x)]},d):null]})})};j5.displayName=Fc;var O5="SelectTrigger",P5=M.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=mv(r),o=Ul(O5,r),l=o.disabled||n,f=It(e,o.onTriggerChange),h=pv(r),p=M.useRef("touch"),[v,E,b]=iD(N=>{const A=h().filter(C=>!C.disabled),R=A.find(C=>C.value===o.value),T=oD(A,N,R);T!==void 0&&o.onValueChange(T.value)}),k=N=>{l||(o.onOpenChange(!0),b()),N&&(o.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return u.jsx(sE,{asChild:!0,...s,children:u.jsx(ft.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sD(o.value)?"":void 0,...i,ref:f,onClick:qe(i.onClick,N=>{N.currentTarget.focus(),p.current!=="mouse"&&k(N)}),onPointerDown:qe(i.onPointerDown,N=>{p.current=N.pointerType;const A=N.target;A.hasPointerCapture(N.pointerId)&&A.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(k(N),N.preventDefault())}),onKeyDown:qe(i.onKeyDown,N=>{const A=v.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&E(N.key),!(A&&N.key===" ")&&Poe.includes(N.key)&&(k(),N.preventDefault())})})})});P5.displayName=O5;var L5="SelectValue",D5=M.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=t,f=Ul(L5,r),{onValueNodeHasChildrenChange:h}=f,p=s!==void 0,v=It(e,f.onValueNodeChange);return Fr(()=>{h(p)},[h,p]),u.jsx(ft.span,{...l,ref:v,style:{pointerEvents:"none"},children:sD(f.value)?u.jsx(u.Fragment,{children:o}):s})});D5.displayName=L5;var Foe="SelectIcon",B5=M.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return u.jsx(ft.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});B5.displayName=Foe;var Woe="SelectPortal",U5=t=>u.jsx(Np,{asChild:!0,...t});U5.displayName=Woe;var Wc="SelectContent",z5=M.forwardRef((t,e)=>{const r=Ul(Wc,t.__scopeSelect),[n,i]=M.useState();if(Fr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Il.createPortal(u.jsx(F5,{scope:t.__scopeSelect,children:u.jsx(hv.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),s):null}return u.jsx(W5,{...t,ref:e})});z5.displayName=Wc;var wi=10,[F5,zl]=uf(Wc),$oe="SelectContentImpl",Voe=jc("SelectContent.RemoveScroll"),W5=M.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:f,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:E,collisionPadding:b,sticky:k,hideWhenDetached:N,avoidCollisions:A,...R}=t,T=Ul(Wc,r),[C,j]=M.useState(null),[D,U]=M.useState(null),L=It(e,re=>j(re)),[F,W]=M.useState(null),[q,V]=M.useState(null),K=pv(r),[x,a]=M.useState(!1),d=M.useRef(!1);M.useEffect(()=>{if(C)return gE(C)},[C]),mE();const m=M.useCallback(re=>{const[ie,...le]=K().map(de=>de.ref.current),[nt]=le.slice(-1),ue=document.activeElement;for(const de of re)if(de===ue||(de==null||de.scrollIntoView({block:"nearest"}),de===ie&&D&&(D.scrollTop=0),de===nt&&D&&(D.scrollTop=D.scrollHeight),de==null||de.focus(),document.activeElement!==ue))return},[K,D]),y=M.useCallback(()=>m([F,C]),[m,F,C]);M.useEffect(()=>{x&&y()},[x,y]);const{onOpenChange:g,triggerPointerDownPosRef:S}=T;M.useEffect(()=>{if(C){let re={x:0,y:0};const ie=nt=>{var ue,de;re={x:Math.abs(Math.round(nt.pageX)-(((ue=S.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(nt.pageY)-(((de=S.current)==null?void 0:de.y)??0))}},le=nt=>{re.x<=10&&re.y<=10?nt.preventDefault():C.contains(nt.target)||g(!1),document.removeEventListener("pointermove",ie),S.current=null};return S.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",le,{capture:!0})}}},[C,g,S]),M.useEffect(()=>{const re=()=>g(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[g]);const[I,w]=iD(re=>{const ie=K().filter(ue=>!ue.disabled),le=ie.find(ue=>ue.ref.current===document.activeElement),nt=oD(ie,re,le);nt&&setTimeout(()=>nt.ref.current.focus())}),c=M.useCallback((re,ie,le)=>{const nt=!d.current&&!le;(T.value!==void 0&&T.value===ie||nt)&&(W(re),nt&&(d.current=!0))},[T.value]),_=M.useCallback(()=>C==null?void 0:C.focus(),[C]),$=M.useCallback((re,ie,le)=>{const nt=!d.current&&!le;(T.value!==void 0&&T.value===ie||nt)&&V(re)},[T.value]),H=n==="popper"?jb:$5,G=H===jb?{side:l,sideOffset:f,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:E,collisionPadding:b,sticky:k,hideWhenDetached:N,avoidCollisions:A}:{};return u.jsx(F5,{scope:r,content:C,viewport:D,onViewportChange:U,itemRefCallback:c,selectedItem:F,onItemLeave:_,itemTextRefCallback:$,focusSelectedItem:y,selectedItemText:q,position:n,isPositioned:x,searchRef:I,children:u.jsx(Qy,{as:Voe,allowPinchZoom:!0,children:u.jsx(Gy,{asChild:!0,trapped:T.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:qe(i,re=>{var ie;(ie=T.trigger)==null||ie.focus({preventScroll:!0}),re.preventDefault()}),children:u.jsx(tf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:u.jsx(H,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:re=>re.preventDefault(),...R,...G,onPlaced:()=>a(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:qe(R.onKeyDown,re=>{const ie=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ie&&re.key.length===1&&w(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let nt=K().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(re.key)&&(nt=nt.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ue=re.target,de=nt.indexOf(ue);nt=nt.slice(de+1)}setTimeout(()=>m(nt)),re.preventDefault()}})})})})})})});W5.displayName=$oe;var Hoe="SelectItemAlignedPosition",$5=M.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Ul(Wc,r),o=zl(Wc,r),[l,f]=M.useState(null),[h,p]=M.useState(null),v=It(e,L=>p(L)),E=pv(r),b=M.useRef(!1),k=M.useRef(!0),{viewport:N,selectedItem:A,selectedItemText:R,focusSelectedItem:T}=o,C=M.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&h&&N&&A&&R){const L=s.trigger.getBoundingClientRect(),F=h.getBoundingClientRect(),W=s.valueNode.getBoundingClientRect(),q=R.getBoundingClientRect();if(s.dir!=="rtl"){const ue=q.left-F.left,de=W.left-ue,vt=L.left-de,ye=L.width+vt,be=Math.max(ye,F.width),Ft=window.innerWidth-wi,_e=Cb(de,[wi,Math.max(wi,Ft-be)]);l.style.minWidth=ye+"px",l.style.left=_e+"px"}else{const ue=F.right-q.right,de=window.innerWidth-W.right-ue,vt=window.innerWidth-L.right-de,ye=L.width+vt,be=Math.max(ye,F.width),Ft=window.innerWidth-wi,_e=Cb(de,[wi,Math.max(wi,Ft-be)]);l.style.minWidth=ye+"px",l.style.right=_e+"px"}const V=E(),K=window.innerHeight-wi*2,x=N.scrollHeight,a=window.getComputedStyle(h),d=parseInt(a.borderTopWidth,10),m=parseInt(a.paddingTop,10),y=parseInt(a.borderBottomWidth,10),g=parseInt(a.paddingBottom,10),S=d+m+x+g+y,I=Math.min(A.offsetHeight*5,S),w=window.getComputedStyle(N),c=parseInt(w.paddingTop,10),_=parseInt(w.paddingBottom,10),$=L.top+L.height/2-wi,H=K-$,G=A.offsetHeight/2,re=A.offsetTop+G,ie=d+m+re,le=S-ie;if(ie<=$){const ue=V.length>0&&A===V[V.length-1].ref.current;l.style.bottom="0px";const de=h.clientHeight-N.offsetTop-N.offsetHeight,vt=Math.max(H,G+(ue?_:0)+de+y),ye=ie+vt;l.style.height=ye+"px"}else{const ue=V.length>0&&A===V[0].ref.current;l.style.top="0px";const vt=Math.max($,d+N.offsetTop+(ue?c:0)+G)+le;l.style.height=vt+"px",N.scrollTop=ie-$+N.offsetTop}l.style.margin=`${wi}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=K+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[E,s.trigger,s.valueNode,l,h,N,A,R,s.dir,n]);Fr(()=>C(),[C]);const[j,D]=M.useState();Fr(()=>{h&&D(window.getComputedStyle(h).zIndex)},[h]);const U=M.useCallback(L=>{L&&k.current===!0&&(C(),T==null||T(),k.current=!1)},[C,T]);return u.jsx(qoe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:U,children:u.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:u.jsx(ft.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});$5.displayName=Hoe;var Koe="SelectPopperPosition",jb=M.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=wi,...s}=t,o=mv(r);return u.jsx(iE,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jb.displayName=Koe;var[qoe,KE]=uf(Wc,{}),Ob="SelectViewport",V5=M.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=zl(Ob,r),o=KE(Ob,r),l=It(e,s.onViewportChange),f=M.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(hv.Slot,{scope:r,children:u.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qe(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:E}=o;if(E!=null&&E.current&&v){const b=Math.abs(f.current-p.scrollTop);if(b>0){const k=window.innerHeight-wi*2,N=parseFloat(v.style.minHeight),A=parseFloat(v.style.height),R=Math.max(N,A);if(R<k){const T=R+b,C=Math.min(k,T),j=T-C;v.style.height=C+"px",v.style.bottom==="0px"&&(p.scrollTop=j>0?j:0,v.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});V5.displayName=Ob;var H5="SelectGroup",[Goe,Zoe]=uf(H5),Yoe=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ho();return u.jsx(Goe,{scope:r,id:i,children:u.jsx(ft.div,{role:"group","aria-labelledby":i,...n,ref:e})})});Yoe.displayName=H5;var K5="SelectLabel",q5=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Zoe(K5,r);return u.jsx(ft.div,{id:i.id,...n,ref:e})});q5.displayName=K5;var Og="SelectItem",[Qoe,G5]=uf(Og),Z5=M.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,l=Ul(Og,r),f=zl(Og,r),h=l.value===n,[p,v]=M.useState(s??""),[E,b]=M.useState(!1),k=It(e,T=>{var C;return(C=f.itemRefCallback)==null?void 0:C.call(f,T,n,i)}),N=ho(),A=M.useRef("touch"),R=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Qoe,{scope:r,value:n,disabled:i,textId:N,isSelected:h,onItemTextChange:M.useCallback(T=>{v(C=>C||((T==null?void 0:T.textContent)??"").trim())},[]),children:u.jsx(hv.ItemSlot,{scope:r,value:n,disabled:i,textValue:p,children:u.jsx(ft.div,{role:"option","aria-labelledby":N,"data-highlighted":E?"":void 0,"aria-selected":h&&E,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:k,onFocus:qe(o.onFocus,()=>b(!0)),onBlur:qe(o.onBlur,()=>b(!1)),onClick:qe(o.onClick,()=>{A.current!=="mouse"&&R()}),onPointerUp:qe(o.onPointerUp,()=>{A.current==="mouse"&&R()}),onPointerDown:qe(o.onPointerDown,T=>{A.current=T.pointerType}),onPointerMove:qe(o.onPointerMove,T=>{var C;A.current=T.pointerType,i?(C=f.onItemLeave)==null||C.call(f):A.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(o.onPointerLeave,T=>{var C;T.currentTarget===document.activeElement&&((C=f.onItemLeave)==null||C.call(f))}),onKeyDown:qe(o.onKeyDown,T=>{var j;((j=f.searchRef)==null?void 0:j.current)!==""&&T.key===" "||(Loe.includes(T.key)&&R(),T.key===" "&&T.preventDefault())})})})})});Z5.displayName=Og;var Ff="SelectItemText",Y5=M.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Ul(Ff,r),l=zl(Ff,r),f=G5(Ff,r),h=zoe(Ff,r),[p,v]=M.useState(null),E=It(e,R=>v(R),f.onItemTextChange,R=>{var T;return(T=l.itemTextRefCallback)==null?void 0:T.call(l,R,f.value,f.disabled)}),b=p==null?void 0:p.textContent,k=M.useMemo(()=>u.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:N,onNativeOptionRemove:A}=h;return Fr(()=>(N(k),()=>A(k)),[N,A,k]),u.jsxs(u.Fragment,{children:[u.jsx(ft.span,{id:f.textId,...s,ref:E}),f.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Il.createPortal(s.children,o.valueNode):null]})});Y5.displayName=Ff;var Q5="SelectItemIndicator",J5=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return G5(Q5,r).isSelected?u.jsx(ft.span,{"aria-hidden":!0,...n,ref:e}):null});J5.displayName=Q5;var Pb="SelectScrollUpButton",X5=M.forwardRef((t,e)=>{const r=zl(Pb,t.__scopeSelect),n=KE(Pb,t.__scopeSelect),[i,s]=M.useState(!1),o=It(e,n.onScrollButtonChange);return Fr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=f.scrollTop>0;s(h)};const f=r.viewport;return l(),f.addEventListener("scroll",l),()=>f.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?u.jsx(tD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:f}=r;l&&f&&(l.scrollTop=l.scrollTop-f.offsetHeight)}}):null});X5.displayName=Pb;var Lb="SelectScrollDownButton",eD=M.forwardRef((t,e)=>{const r=zl(Lb,t.__scopeSelect),n=KE(Lb,t.__scopeSelect),[i,s]=M.useState(!1),o=It(e,n.onScrollButtonChange);return Fr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<h;s(p)};const f=r.viewport;return l(),f.addEventListener("scroll",l),()=>f.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?u.jsx(tD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:f}=r;l&&f&&(l.scrollTop=l.scrollTop+f.offsetHeight)}}):null});eD.displayName=Lb;var tD=M.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=zl("SelectScrollButton",r),o=M.useRef(null),l=pv(r),f=M.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return M.useEffect(()=>()=>f(),[f]),Fr(()=>{var p;const h=l().find(v=>v.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),u.jsx(ft.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:qe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:qe(i.onPointerMove,()=>{var h;(h=s.onItemLeave)==null||h.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:qe(i.onPointerLeave,()=>{f()})})}),Joe="SelectSeparator",rD=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(ft.div,{"aria-hidden":!0,...n,ref:e})});rD.displayName=Joe;var Db="SelectArrow",Xoe=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=mv(r),s=Ul(Db,r),o=zl(Db,r);return s.open&&o.position==="popper"?u.jsx(oE,{...i,...n,ref:e}):null});Xoe.displayName=Db;var eae="SelectBubbleInput",nD=M.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=M.useRef(null),s=It(n,i),o=Ooe(e);return M.useEffect(()=>{const l=i.current;if(!l)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(o!==e&&p){const v=new Event("change",{bubbles:!0});p.call(l,e),l.dispatchEvent(v)}},[o,e]),u.jsx(ft.select,{...r,style:{...F4,...r.style},ref:s,defaultValue:e})});nD.displayName=eae;function sD(t){return t===""||t===void 0}function iD(t){const e=Cr(t),r=M.useRef(""),n=M.useRef(0),i=M.useCallback(o=>{const l=r.current+o;e(l),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(l)},[e]),s=M.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function oD(t,e,r){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=tae(t,Math.max(s,0));i.length===1&&(o=o.filter(h=>h!==r));const f=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function tae(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rae=j5,aD=P5,nae=D5,sae=B5,iae=U5,lD=z5,oae=V5,cD=q5,uD=Z5,aae=Y5,lae=J5,dD=X5,fD=eD,hD=rD;const pD=rae,mD=nae,qE=M.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(aD,{ref:n,className:Ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,u.jsx(sae,{asChild:!0,children:u.jsx(By,{className:"h-4 w-4 opacity-50"})})]}));qE.displayName=aD.displayName;const gD=M.forwardRef(({className:t,...e},r)=>u.jsx(dD,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(VY,{className:"h-4 w-4"})}));gD.displayName=dD.displayName;const yD=M.forwardRef(({className:t,...e},r)=>u.jsx(fD,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(By,{className:"h-4 w-4"})}));yD.displayName=fD.displayName;const GE=M.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>u.jsx(iae,{children:u.jsxs(lD,{ref:i,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(gD,{}),u.jsx(oae,{className:Ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(yD,{})]})}));GE.displayName=lD.displayName;const cae=M.forwardRef(({className:t,...e},r)=>u.jsx(cD,{ref:r,className:Ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));cae.displayName=cD.displayName;const Ua=M.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(uD,{ref:n,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(lae,{children:u.jsx(jd,{className:"h-4 w-4"})})}),u.jsx(aae,{children:e})]}));Ua.displayName=uD.displayName;const uae=M.forwardRef(({className:t,...e},r)=>u.jsx(hD,{ref:r,className:Ye("-mx-1 my-1 h-px bg-muted",t),...e}));uae.displayName=hD.displayName;const dae=rf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function fae({className:t,variant:e,...r}){return u.jsx("div",{className:Ye(dae({variant:e}),t),...r})}function hae(t,e){return M.useReducer((r,n)=>e[r][n]??r,t)}var ZE="ScrollArea",[vD,tce]=Ys(ZE),[pae,hi]=vD(ZE),wD=M.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,f]=M.useState(null),[h,p]=M.useState(null),[v,E]=M.useState(null),[b,k]=M.useState(null),[N,A]=M.useState(null),[R,T]=M.useState(0),[C,j]=M.useState(0),[D,U]=M.useState(!1),[L,F]=M.useState(!1),W=It(e,V=>f(V)),q=Rp(i);return u.jsx(pae,{scope:r,type:n,dir:q,scrollHideDelay:s,scrollArea:l,viewport:h,onViewportChange:p,content:v,onContentChange:E,scrollbarX:b,onScrollbarXChange:k,scrollbarXEnabled:D,onScrollbarXEnabledChange:U,scrollbarY:N,onScrollbarYChange:A,scrollbarYEnabled:L,onScrollbarYEnabledChange:F,onCornerWidthChange:T,onCornerHeightChange:j,children:u.jsx(ft.div,{dir:q,...o,ref:W,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});wD.displayName=ZE;var xD="ScrollAreaViewport",bD=M.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=t,o=hi(xD,r),l=M.useRef(null),f=It(e,l,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(ft.div,{"data-radix-scroll-area-viewport":"",...s,ref:f,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});bD.displayName=xD;var Mo="ScrollAreaScrollbar",YE=M.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=hi(Mo,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return M.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?u.jsx(mae,{...n,ref:e,forceMount:r}):i.type==="scroll"?u.jsx(gae,{...n,ref:e,forceMount:r}):i.type==="auto"?u.jsx(_D,{...n,ref:e,forceMount:r}):i.type==="always"?u.jsx(QE,{...n,ref:e}):null});YE.displayName=Mo;var mae=M.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=hi(Mo,t.__scopeScrollArea),[s,o]=M.useState(!1);return M.useEffect(()=>{const l=i.scrollArea;let f=0;if(l){const h=()=>{window.clearTimeout(f),o(!0)},p=()=>{f=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",h),l.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),l.removeEventListener("pointerenter",h),l.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(gs,{present:r||s,children:u.jsx(_D,{"data-state":s?"visible":"hidden",...n,ref:e})})}),gae=M.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=hi(Mo,t.__scopeScrollArea),s=t.orientation==="horizontal",o=yv(()=>f("SCROLL_END"),100),[l,f]=hae("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return M.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>f("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,i.scrollHideDelay,f]),M.useEffect(()=>{const h=i.viewport,p=s?"scrollLeft":"scrollTop";if(h){let v=h[p];const E=()=>{const b=h[p];v!==b&&(f("SCROLL"),o()),v=b};return h.addEventListener("scroll",E),()=>h.removeEventListener("scroll",E)}},[i.viewport,s,f,o]),u.jsx(gs,{present:r||l!=="hidden",children:u.jsx(QE,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:qe(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:qe(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),_D=M.forwardRef((t,e)=>{const r=hi(Mo,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,o]=M.useState(!1),l=t.orientation==="horizontal",f=yv(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?h:p)}},10);return Fd(r.viewport,f),Fd(r.content,f),u.jsx(gs,{present:n||s,children:u.jsx(QE,{"data-state":s?"visible":"hidden",...i,ref:e})})}),QE=M.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=hi(Mo,t.__scopeScrollArea),s=M.useRef(null),o=M.useRef(0),[l,f]=M.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=AD(l.viewport,l.content),p={...n,sizes:l,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:E=>s.current=E,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:E=>o.current=E};function v(E,b){return _ae(E,o.current,l,b)}return r==="horizontal"?u.jsx(yae,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const E=i.viewport.scrollLeft,b=bR(E,l,i.dir);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollLeft=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollLeft=v(E,i.dir))}}):r==="vertical"?u.jsx(vae,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const E=i.viewport.scrollTop,b=bR(E,l);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollTop=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollTop=v(E))}}):null}),yae=M.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=hi(Mo,t.__scopeScrollArea),[o,l]=M.useState(),f=M.useRef(null),h=It(e,f,s.onScrollbarXChange);return M.useEffect(()=>{f.current&&l(getComputedStyle(f.current))},[f]),u.jsx(ED,{"data-orientation":"horizontal",...i,ref:h,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gv(r)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,v)=>{if(s.viewport){const E=s.viewport.scrollLeft+p.deltaX;t.onWheelScroll(E),kD(E,v)&&p.preventDefault()}},onResize:()=>{f.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Lg(o.paddingLeft),paddingEnd:Lg(o.paddingRight)}})}})}),vae=M.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=hi(Mo,t.__scopeScrollArea),[o,l]=M.useState(),f=M.useRef(null),h=It(e,f,s.onScrollbarYChange);return M.useEffect(()=>{f.current&&l(getComputedStyle(f.current))},[f]),u.jsx(ED,{"data-orientation":"vertical",...i,ref:h,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gv(r)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,v)=>{if(s.viewport){const E=s.viewport.scrollTop+p.deltaY;t.onWheelScroll(E),kD(E,v)&&p.preventDefault()}},onResize:()=>{f.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Lg(o.paddingTop),paddingEnd:Lg(o.paddingBottom)}})}})}),[wae,SD]=vD(Mo),ED=M.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:p,onResize:v,...E}=t,b=hi(Mo,r),[k,N]=M.useState(null),A=It(e,W=>N(W)),R=M.useRef(null),T=M.useRef(""),C=b.viewport,j=n.content-n.viewport,D=Cr(p),U=Cr(f),L=yv(v,10);function F(W){if(R.current){const q=W.clientX-R.current.left,V=W.clientY-R.current.top;h({x:q,y:V})}}return M.useEffect(()=>{const W=q=>{const V=q.target;(k==null?void 0:k.contains(V))&&D(q,j)};return document.addEventListener("wheel",W,{passive:!1}),()=>document.removeEventListener("wheel",W,{passive:!1})},[C,k,j,D]),M.useEffect(U,[n,U]),Fd(k,L),Fd(b.content,L),u.jsx(wae,{scope:r,scrollbar:k,hasThumb:i,onThumbChange:Cr(s),onThumbPointerUp:Cr(o),onThumbPositionChange:U,onThumbPointerDown:Cr(l),children:u.jsx(ft.div,{...E,ref:A,style:{position:"absolute",...E.style},onPointerDown:qe(t.onPointerDown,W=>{W.button===0&&(W.target.setPointerCapture(W.pointerId),R.current=k.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),F(W))}),onPointerMove:qe(t.onPointerMove,F),onPointerUp:qe(t.onPointerUp,W=>{const q=W.target;q.hasPointerCapture(W.pointerId)&&q.releasePointerCapture(W.pointerId),document.body.style.webkitUserSelect=T.current,b.viewport&&(b.viewport.style.scrollBehavior=""),R.current=null})})})}),Pg="ScrollAreaThumb",ND=M.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=SD(Pg,t.__scopeScrollArea);return u.jsx(gs,{present:r||i.hasThumb,children:u.jsx(xae,{ref:e,...n})})}),xae=M.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=hi(Pg,r),o=SD(Pg,r),{onThumbPositionChange:l}=o,f=It(e,v=>o.onThumbChange(v)),h=M.useRef(void 0),p=yv(()=>{h.current&&(h.current(),h.current=void 0)},100);return M.useEffect(()=>{const v=s.viewport;if(v){const E=()=>{if(p(),!h.current){const b=Sae(v,l);h.current=b,l()}};return l(),v.addEventListener("scroll",E),()=>v.removeEventListener("scroll",E)}},[s.viewport,p,l]),u.jsx(ft.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:qe(t.onPointerDownCapture,v=>{const b=v.target.getBoundingClientRect(),k=v.clientX-b.left,N=v.clientY-b.top;o.onThumbPointerDown({x:k,y:N})}),onPointerUp:qe(t.onPointerUp,o.onThumbPointerUp)})});ND.displayName=Pg;var JE="ScrollAreaCorner",MD=M.forwardRef((t,e)=>{const r=hi(JE,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?u.jsx(bae,{...t,ref:e}):null});MD.displayName=JE;var bae=M.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=hi(JE,r),[s,o]=M.useState(0),[l,f]=M.useState(0),h=!!(s&&l);return Fd(i.scrollbarX,()=>{var v;const p=((v=i.scrollbarX)==null?void 0:v.offsetHeight)||0;i.onCornerHeightChange(p),f(p)}),Fd(i.scrollbarY,()=>{var v;const p=((v=i.scrollbarY)==null?void 0:v.offsetWidth)||0;i.onCornerWidthChange(p),o(p)}),h?u.jsx(ft.div,{...n,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Lg(t){return t?parseInt(t,10):0}function AD(t,e){const r=t/e;return isNaN(r)?0:r}function gv(t){const e=AD(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function _ae(t,e,r,n="ltr"){const i=gv(r),s=i/2,o=e||s,l=i-o,f=r.scrollbar.paddingStart+o,h=r.scrollbar.size-r.scrollbar.paddingEnd-l,p=r.content-r.viewport,v=n==="ltr"?[0,p]:[p*-1,0];return RD([f,h],v)(t)}function bR(t,e,r="ltr"){const n=gv(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-n,f=r==="ltr"?[0,o]:[o*-1,0],h=Cb(t,f);return RD([0,o],[0,l])(h)}function RD(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function kD(t,e){return t>0&&t<e}var Sae=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function yv(t,e){const r=Cr(t),n=M.useRef(0);return M.useEffect(()=>()=>window.clearTimeout(n.current),[]),M.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Fd(t,e){const r=Cr(e);Fr(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var TD=wD,Eae=bD,Nae=MD;const ID=M.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(TD,{ref:n,className:Ye("relative overflow-hidden",t),...r,children:[u.jsx(Eae,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(CD,{}),u.jsx(Nae,{})]}));ID.displayName=TD.displayName;const CD=M.forwardRef(({className:t,orientation:e="vertical",...r},n)=>u.jsx(YE,{ref:n,orientation:e,className:Ye("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:u.jsx(ND,{className:"relative flex-1 rounded-full bg-border"})}));CD.displayName=YE.displayName;const Mae=kE,Aae=TE,jD=M.forwardRef(({className:t,...e},r)=>u.jsx(jp,{className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));jD.displayName=jp.displayName;const Rae=rf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),OD=M.forwardRef(({side:t="right",className:e,children:r,...n},i)=>u.jsxs(Aae,{children:[u.jsx(jD,{}),u.jsxs(Op,{ref:i,className:Ye(Rae({side:t}),e),...n,children:[r,u.jsxs(iv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(Od,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));OD.displayName=Op.displayName;const PD=({className:t,...e})=>u.jsx("div",{className:Ye("flex flex-col space-y-2 text-center sm:text-left",t),...e});PD.displayName="SheetHeader";const LD=M.forwardRef(({className:t,...e},r)=>u.jsx(Pp,{ref:r,className:Ye("text-lg font-semibold text-foreground",t),...e}));LD.displayName=Pp.displayName;const DD=M.forwardRef(({className:t,...e},r)=>u.jsx(Lp,{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));DD.displayName=Lp.displayName;const kae=t=>t==="5"?[{id:"501",name:"Rolex Submariner",price:.1,image:"/images/Rolex .png",description:"Iconic diving watch with unidirectional rotating bezel and water resistance up to 300 meters"},{id:"502",name:'Omega Speedmaster "Moonwatch"',price:.3,image:"/images/omega.png",description:"The first watch worn on the moon with manual-winding chronograph movement"},{id:"503",name:"Patek Philippe Nautilus 5711/1A",price:.49,image:"/images/patek-philippe.png",description:"Luxury sports watch with distinctive porthole-shaped case design"},{id:"504",name:"Seiko",price:.5,image:"/images/seiko.png",description:"Reliable Japanese timepiece known for its quality craftsmanship and durability"},{id:"505",name:"TAG Heuer Carrera Calibre",price:.02,image:"/images/tag.png",description:"Racing-inspired chronograph watch with sophisticated movement and elegant design"}]:[{id:"1",name:"SoDap T-Shirt",price:.05,image:"https://placehold.co/300x300?text=SoDap+Shirt",description:"Comfortable cotton T-shirt with SoDap logo"},{id:"2",name:"SoDap Mug",price:.02,image:"https://placehold.co/300x300?text=SoDap+Mug",description:"Ceramic mug with SoDap logo"},{id:"3",name:"SoDap Cap",price:.03,image:"https://placehold.co/300x300?text=SoDap+Cap",description:"Adjustable cap with SoDap logo"},{id:"4",name:"SoDap Stickers",price:.01,image:"https://placehold.co/300x300?text=SoDap+Stickers",description:"Set of 5 SoDap logo stickers"}],Tae=[{id:"1",name:"SoDap Official Store"},{id:"2",name:"Digital Collectibles"},{id:"3",name:"Crypto Merchandise"},{id:"4",name:"Blockchain Apparel"},{id:"5",name:"Sodap Watch Store"}],Iae=()=>{const t=()=>{const W=localStorage.getItem("cart");try{return W?JSON.parse(W):[]}catch(q){return console.error("Error parsing cart from localStorage",q),[]}},[e,r]=M.useState([]),[n,i]=M.useState([]),[s,o]=M.useState(t),[l,f]=M.useState(null),[h,p]=M.useState("User"),[v,E]=M.useState(""),[b,k]=M.useState("featured"),[N,A]=M.useState(!1),[R,T]=M.useState(!0),C=s.reduce((W,q)=>W+q.product.price*q.quantity,0),j=Ln(),D=wn(),U=()=>{console.log("Navigating to payment page with cart total:",C.toFixed(3)),sessionStorage.setItem("cartTotal",C.toFixed(3));const q=new URLSearchParams(j.search).get("store");q?(sessionStorage.setItem("selectedStoreId",q),D(`/payment?storeId=${q}`)):D("/payment")};M.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(s)),window.dispatchEvent(new Event("cartUpdated"))},[s]),M.useEffect(()=>{T(!0);const q=new URLSearchParams(j.search).get("store");if(!q){D("/store-selection");return}const V=Tae.find(x=>x.id===q);if(V){f(V);const x=kae(q);r(x),i(x),T(!1)}else D("/store-selection");const K=sessionStorage.getItem("username")||"User";p(K)},[j.search,D]),M.useEffect(()=>{if(e.length===0)return;let W=e;if(v.trim()!==""){const q=v.toLowerCase();W=e.filter(V=>V.name.toLowerCase().includes(q)||V.description.toLowerCase().includes(q))}switch(b){case"price-low-high":W=[...W].sort((q,V)=>q.price-V.price);break;case"price-high-low":W=[...W].sort((q,V)=>V.price-q.price);break;case"name-a-z":W=[...W].sort((q,V)=>q.name.localeCompare(V.name));break;case"name-z-a":W=[...W].sort((q,V)=>V.name.localeCompare(q.name));break}i(W)},[e,v,b]);const L=W=>{o(q=>q.find(K=>K.product.id===W.id)?q.map(x=>x.product.id===W.id?{...x,quantity:x.quantity+1}:x):[...q,{product:W,quantity:1}]),lt.success(`${W.name} added to cart!`)},F=()=>u.jsx(Mae,{open:N,onOpenChange:A,children:u.jsxs(OD,{side:"right",className:"w-[350px] sm:w-[450px]",children:[u.jsxs(PD,{className:"mb-5",children:[u.jsxs(LD,{className:"text-sodap-purple flex items-center",children:[u.jsx(Gu,{className:"mr-2",size:20}),"Your Cart",u.jsxs(fae,{className:"ml-2 bg-sodap-purple",children:[s.length," items"]})]}),u.jsx(DD,{children:"Review your items before checkout"})]}),s.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[u.jsx(Gu,{className:"text-gray-300 mb-4",size:64}),u.jsx("p",{className:"text-gray-500 mb-2",children:"Your cart is empty"}),u.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Add some items to get started"}),u.jsx(Ne,{variant:"outline",className:"border-sodap-purple text-sodap-purple hover:bg-sodap-purple/5",onClick:()=>A(!1),children:"Continue Shopping"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ID,{className:"h-[60vh]",children:u.jsx("div",{className:"space-y-4 pr-4",children:s.map(W=>u.jsxs("div",{className:"flex gap-4 py-4 border-b",children:[u.jsx("div",{className:"h-20 w-20 rounded-md overflow-hidden bg-gray-100 flex-shrink-0",children:u.jsx("img",{src:W.product.image,alt:W.product.name,className:"h-full w-full object-cover"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("h4",{className:"font-medium text-sm",children:W.product.name}),u.jsx("button",{onClick:()=>{o(s.filter(q=>q.product.id!==W.product.id)),lt.success(`${W.product.name} removed from cart`)},className:"text-gray-400 hover:text-red-500",children:u.jsx(Od,{size:16})})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-1",children:W.product.description}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>{W.quantity>1&&o(s.map(q=>q.product.id===W.product.id?{...q,quantity:q.quantity-1}:q))},className:"h-6 w-6 rounded-full border flex items-center justify-center text-gray-500 hover:bg-gray-100",children:"-"}),u.jsx("span",{className:"text-sm",children:W.quantity}),u.jsx("button",{onClick:()=>{o(s.map(q=>q.product.id===W.product.id?{...q,quantity:q.quantity+1}:q))},className:"h-6 w-6 rounded-full border flex items-center justify-center text-gray-500 hover:bg-gray-100",children:"+"})]}),u.jsxs("span",{className:"font-medium",children:[(W.product.price*W.quantity).toFixed(3)," SOL"]})]})]})]},W.product.id))})}),u.jsxs("div",{className:"mt-6 space-y-4",children:[u.jsxs("div",{className:"flex justify-between py-2 border-t border-b",children:[u.jsx("span",{className:"font-medium",children:"Subtotal"}),u.jsxs("span",{className:"font-medium",children:[C.toFixed(3)," SOL"]})]}),u.jsx(Ne,{className:"w-full bg-sodap-purple hover:bg-purple-700",onClick:()=>{A(!1),U()},children:"Checkout"}),u.jsx(Ne,{variant:"outline",className:"w-full border-sodap-purple text-sodap-purple hover:bg-sodap-purple/5",onClick:()=>A(!1),children:"Continue Shopping"})]})]})]})});return R||!l?u.jsx(di,{role:"end_user",children:u.jsx("div",{className:"container mx-auto px-4 py-16 text-center",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mx-auto mb-8"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map(W=>u.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[u.jsx("div",{className:"h-48 bg-gray-200"}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-1"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3 mb-3"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})]})]},W))})]})})}):u.jsxs(di,{role:"end_user",children:[u.jsx(F,{}),u.jsxs("div",{className:"container mx-auto px-4 py-6",children:[u.jsxs("div",{className:"mb-8 space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:l.name}),u.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",h]})]}),u.jsx(Ne,{onClick:()=>D("/store-selection"),variant:"outline",className:"border-sodap-purple text-sodap-purple hover:bg-sodap-purple/5",children:"Change Store"})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(fb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsx(Ot,{type:"search",placeholder:"Search products...",className:"pl-10 border-gray-300 focus:border-sodap-purple focus:ring-sodap-purple",value:v,onChange:W=>E(W.target.value)})]}),u.jsx("div",{className:"w-full md:w-48",children:u.jsxs(pD,{value:b,onValueChange:k,children:[u.jsx(qE,{className:"border-gray-300 focus:border-sodap-purple focus:ring-sodap-purple",children:u.jsx(mD,{placeholder:"Sort by"})}),u.jsxs(GE,{children:[u.jsx(Ua,{value:"featured",children:"Featured"}),u.jsx(Ua,{value:"price-low-high",children:"Price: Low to High"}),u.jsx(Ua,{value:"price-high-low",children:"Price: High to Low"}),u.jsx(Ua,{value:"name-a-z",children:"Name: A to Z"}),u.jsx(Ua,{value:"name-z-a",children:"Name: Z to A"})]})]})}),u.jsxs(Ne,{variant:"outline",className:"md:hidden border-sodap-purple text-sodap-purple hover:bg-sodap-purple/5",onClick:()=>A(!0),children:[u.jsx(Gu,{className:"mr-2",size:16}),"Cart (",s.length,")"]})]}),v&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[n.length,' results for "',v,'"']}),u.jsx(Ne,{variant:"ghost",className:"h-8 px-2 text-xs",onClick:()=>E(""),children:"Clear"})]}),u.jsx(fv,{})]}),n.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No products found"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or filter criteria"}),u.jsx(Ne,{variant:"outline",className:"border-sodap-purple text-sodap-purple hover:bg-sodap-purple/5",onClick:()=>{E(""),k("featured")},children:"Reset Filters"})]}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12",children:n.map(W=>u.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden border border-gray-100 group flex flex-col h-[400px]",children:[u.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-50 flex-shrink-0",children:[u.jsx("img",{src:W.image,alt:W.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"})]}),u.jsxs("div",{className:"p-5 flex flex-col h-[180px]",children:[u.jsx("h2",{className:"font-medium text-lg mb-1 text-gray-900 line-clamp-1",children:W.name}),u.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 h-10",children:W.description}),u.jsx("div",{className:"mt-auto pt-3 border-t",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("span",{className:"font-semibold text-lg",children:[W.price," SOL"]}),u.jsx(Ne,{onClick:()=>{L(W),A(!0)},className:"bg-sodap-purple hover:bg-purple-700 text-white",size:"sm",children:"Add to Cart"})]})})]})]},W.id))})]})]})},Cae=({item:t,updateQuantity:e,removeItem:r})=>u.jsxs("div",{className:"flex items-center gap-4 py-4 border-b",children:[u.jsx("div",{className:"w-16 h-16 overflow-hidden rounded",children:u.jsx("img",{src:t.product.image,alt:t.product.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium",children:t.product.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.product.price," SOL"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ne,{variant:"outline",size:"icon",onClick:()=>e(t.product.id,-1),children:u.jsx(GY,{className:"h-4 w-4"})}),u.jsx("span",{className:"w-8 text-center",children:t.quantity}),u.jsx(Ne,{variant:"outline",size:"icon",onClick:()=>e(t.product.id,1),children:u.jsx(h3,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"w-20 text-right font-medium",children:[(t.product.price*t.quantity).toFixed(3)," SOL"]}),u.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>r(t.product.id),children:u.jsx(JY,{className:"h-4 w-4"})})]}),BD=()=>{const[t,e]=M.useState(()=>{const o=localStorage.getItem("cart");try{return o?JSON.parse(o):[]}catch(l){return console.error("Error parsing cart from localStorage",l),[]}});M.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t)),window.dispatchEvent(new Event("cartUpdated"))},[t]);const r=(o,l)=>{e(f=>f.map(h=>h.product.id===o?{...h,quantity:Math.max(1,h.quantity+l)}:h))},n=o=>{e(l=>l.filter(f=>f.product.id!==o)),lt.success("Item removed from cart")},i=t.reduce((o,l)=>o+l.product.price*l.quantity,0);return{cartItems:t,setCartItems:e,updateQuantity:r,removeItem:n,clearCart:()=>{e([]),localStorage.removeItem("cart"),lt.success("Cart has been cleared")},subtotal:i}},jae=()=>{const t=wn(),{cartItems:e,updateQuantity:r,removeItem:n}=BD(),{walletAddress:i}=Xc(),[s,o]=M.useState(!1),l=sessionStorage.getItem("selectedStoreId"),f=e.reduce((v,E)=>v+E.product.price*E.quantity,0),h=()=>{t("/store-selection")},p=()=>{try{if(e.length===0){lt.error("Your cart is empty");return}if(!l){lt.info("Please select a store to continue"),h();return}sessionStorage.setItem("cartTotal",f.toString()),t(`/payment?storeId=${l}`)}catch(v){console.error("Unexpected error in handleCheckout:",v),lt.error("An unexpected error occurred. Please try again.")}finally{o(!1)}};return u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Your Cart"}),e.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-500 mb-4",children:"Your cart is empty"}),u.jsx(Ne,{onClick:()=>t("/"),variant:"outline",children:"Continue Shopping"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"space-y-4",children:e.map((v,E)=>u.jsx(Cae,{item:v,updateQuantity:r,removeItem:n},E))}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("span",{className:"font-semibold",children:"Subtotal:"}),u.jsxs("span",{children:[f," SOL"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ne,{className:"w-full",onClick:p,disabled:s||e.length===0,children:s?"Processing...":"Proceed to Checkout"}),u.jsx(Ne,{variant:"outline",className:"w-full",onClick:()=>t("/store-selection"),children:"Continue Shopping"})]})]})]})]})},Oae=()=>u.jsx(di,{role:"end_user",children:u.jsx(jae,{})}),Pae=({walletAddress:t,isConnecting:e,onConnectWallet:r})=>t?u.jsxs("div",{className:"flex justify-between items-center py-2 border-t",children:[u.jsx("span",{children:"Wallet Address:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"truncate max-w-[170px] text-sm",children:t}),u.jsx(jd,{className:"h-4 w-4 text-green-500"})]})]}):u.jsxs("div",{className:"border-t py-4",children:[u.jsxs(ch,{variant:"destructive",className:"mb-3 bg-amber-50 text-amber-800 border-amber-200",children:[u.jsx(HY,{className:"h-4 w-4"}),u.jsx(uh,{className:"ml-2",children:"Wallet not connected. Please connect your Phantom wallet to continue with payment."})]}),u.jsx(Ne,{onClick:r,disabled:e,className:"w-full flex items-center justify-center gap-2",variant:"outline",children:e?u.jsxs(u.Fragment,{children:[u.jsx(f3,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{children:"Connecting..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(bl,{className:"h-4 w-4"}),u.jsx("span",{children:"Connect Phantom Wallet"})]})})]}),Lae=({cartTotal:t,walletAddress:e,isConnecting:r,isProcessing:n,onConnectWallet:i,onPayment:s})=>u.jsxs(St,{children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Payment Details"})}),u.jsxs(Et,{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between py-2",children:[u.jsx("span",{children:"Total Amount:"}),u.jsxs("span",{className:"font-bold",children:[t," SOL"]})]}),u.jsx(Pae,{walletAddress:e,isConnecting:r,onConnectWallet:i}),u.jsx("div",{className:"bg-muted/50 p-4 rounded-md mt-4",children:u.jsx("p",{className:"text-sm",children:'By clicking "Complete Payment", you agree to the Terms of Service and Privacy Policy. The payment will be processed through the Solana blockchain.'})})]}),u.jsx(NE,{children:u.jsx(Ne,{className:"w-full bg-sodap-purple hover:bg-purple-700",onClick:s,disabled:n||!e||r,children:n?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(f3,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{children:"Processing Payment..."})]}):"Complete Payment"})})]}),Dae=({open:t,onOpenChange:e,onContinue:r,transactionSignature:n})=>{const i=s=>{navigator.clipboard.writeText(s),lt.success("Transaction signature copied to clipboard")};return u.jsx(eu,{open:t,onOpenChange:e,children:u.jsxs(Pl,{className:"sm:max-w-xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(Ll,{className:"pb-4",children:[u.jsxs(Dl,{className:"flex items-center justify-center gap-2 text-center text-xl",children:[u.jsx(ZY,{className:"h-7 w-7 text-green-500"}),u.jsx("span",{children:"Payment Successful!"})]}),u.jsx(Bp,{className:"text-center text-base mt-2",children:"Thank you for your purchase"})]}),u.jsxs("div",{className:"py-6 space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-100 to-teal-100 p-6 rounded-lg text-center",children:u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 text-white px-8 py-4 rounded-full font-bold text-xl inline-block",children:"Payment Confirmed"})}),u.jsx("p",{className:"text-sm text-center text-gray-500",children:"Your purchase has been completed and your items will be delivered soon."}),n&&u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-3",children:"Transaction Details"}),u.jsx("div",{className:"flex flex-col space-y-2",children:u.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-3 rounded-md",children:[u.jsx("div",{className:"text-xs text-gray-600 break-all",children:n}),u.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>i(n),className:"h-8 w-8 p-0 flex-shrink-0",children:u.jsx(_c,{className:"h-4 w-4"})})]})}),u.jsx("div",{className:"mt-3 flex justify-center",children:u.jsxs("a",{href:`https://explorer.solana.com/tx/${n}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-sodap-purple flex items-center gap-1 hover:underline bg-gray-50 px-4 py-2 rounded-md",children:["View on Explorer ",u.jsx(qY,{className:"h-4 w-4 ml-1"})]})})]})]}),u.jsx(Dp,{className:"pt-4",children:u.jsx(Ne,{onClick:r,className:"w-full bg-sodap-purple hover:bg-purple-700 py-6 text-base",children:"Continue Shopping"})})]})})},Bae=()=>{const t=wn(),{userProfile:e}=HE(),{walletAddress:r,connectWallet:n,isConnected:i,isLoading:s,connection:o,program:l}=Xc(),{cartItems:f,clearCart:h}=BD(),{addPurchase:p}=I5();dv();const[v,E]=M.useState(!1),[b,k]=M.useState("0"),[N,A]=M.useState(!1),[R,T]=M.useState(null),[C,j]=M.useState("4eLJ3QGiNrPN6UUr2fNxq6tUZqFdBMVpXkL2MhsKNriv");M.useEffect(()=>{const K=sessionStorage.getItem("cartTotal");if(K)k(K);else{lt.error("No payment amount found. Redirecting to cart..."),t("/cart");return}if(f.length===0){lt.error("Your cart is empty. Redirecting to cart..."),t("/cart");return}const a=new URLSearchParams(window.location.search).get("storeId"),d=sessionStorage.getItem("selectedStoreId");a?(j(a),console.log("Using store ID from URL params:",a)):d?(j(d),console.log("Using store ID from session storage:",d)):console.log("No store ID found, using default ID:",C)},[t,r,f,C]),M.useEffect(()=>{const K=setTimeout(()=>{!r&&!v&&lt.info("Please connect your wallet to proceed with payment")},1500);return()=>clearTimeout(K)},[r,v,n]);const D=async()=>{try{await n()?lt.success("Wallet connected successfully!"):lt.error("Failed to connect wallet. Please try again.")}catch(K){console.error("Error connecting wallet:",K),lt.error(`Connection error: ${K instanceof Error?K.message:"Unknown error"}`)}},[U,L]=M.useState(""),[F,W]=M.useState("");M.useEffect(()=>{const K=sessionStorage.getItem("selectedStoreId");if(console.log("Selected store ID:",K),K==="5"){const a=Yi.STORE_MANAGER,d="48s53bf2fe5MbhjxXquxan3W7QsNvjD5qDioJjVTPJEF";L(a),W(d),sessionStorage.setItem("selectedStoreWallet",a),sessionStorage.setItem("selectedStorePda",d),sessionStorage.getItem("username")==="Batur"&&!sessionStorage.getItem("userWallet")&&(sessionStorage.setItem("userWallet",Yi.DEFAULT_BUYER),console.log("Set up Batur's wallet:",Yi.DEFAULT_BUYER)),console.log("Using store wallet:",a),console.log("Using store PDA:",d),localStorage.setItem("sodap-store-wallet-5",JSON.stringify({pub:a,sec:"58cb156e8e089675e3ba385e8b0db1853a0a7fb39d4257030be4dca2964050dd",pda:d}))}else{const a=sessionStorage.getItem("selectedStoreWallet");a?(L(a),console.log("Found store wallet address:",a)):console.warn("No wallet address found for selected store");const d=sessionStorage.getItem("selectedStorePda");d&&(W(d),console.log("Found store PDA address:",d))}sessionStorage.getItem("username")==="Batur"&&(sessionStorage.getItem("userWallet")||(sessionStorage.setItem("username","Batur"),sessionStorage.setItem("userWallet",Yi.DEFAULT_BUYER),console.log("Set up Batur's wallet address:",Yi.DEFAULT_BUYER)))},[]);const q=async()=>{try{const K=sessionStorage.getItem("username"),x=sessionStorage.getItem("userWallet");if(K==="Batur"&&x)console.log("Using Batur's wallet for payment:",x);else if(!r&&(lt.info("Connecting wallet..."),!await n())){lt.error("Please connect your wallet first");return}E(!0),console.log("Starting payment process with wallet:",r);const a=parseFloat(b);if(!o){lt.error("Connection to Solana not established"),E(!1);return}if(sessionStorage.getItem("selectedStoreId")==="5"&&!U){const m=Yi.STORE_MANAGER;L(m),console.log("Using store manager wallet:",m)}try{const m=new me(r||x),y=new me(U);console.log("Creating direct SOL transfer transaction"),console.log(`Amount: ${a} SOL`),console.log(`From: ${m.toString()}`),console.log(`To: ${y.toString()}`);const g=Math.round(a*rc);console.log(`Amount in lamports: ${g}`);const S=new jt().add(Br.transfer({fromPubkey:m,toPubkey:y,lamports:g})),{blockhash:I}=await o.getLatestBlockhash("confirmed");if(S.recentBlockhash=I,S.feePayer=m,!(l!=null&&l.provider.wallet))throw new Error("Wallet not connected");lt.info("Please approve the transaction in your wallet");const w=await l.provider.wallet.signTransaction(S);lt.info("Sending transaction to Solana network...");const c=await o.sendRawTransaction(w.serialize());lt.info("Waiting for transaction confirmation...");const _=await o.confirmTransaction(c,"confirmed");if(_.value.err)throw new Error(`Transaction failed: ${_.value.err}`);T(c);const $=`https://explorer.solana.com/tx/${c}?cluster=devnet`;lt.success(u.jsxs("div",{children:["Payment successful!",u.jsx("br",{}),u.jsx("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-500",children:"View transaction on Solana Explorer"})]}),{duration:1e4});const H=sessionStorage.getItem("selectedStoreName");H?localStorage.setItem("sodap-selected-store-name",H):(console.warn('Store name not found in sessionStorage. This will cause "Unknown Store" to appear in purchase history.'),console.log("Available in sessionStorage:",Object.keys(sessionStorage)));const G={id:c,transactionSignature:c,date:new Date().toISOString(),storeName:H||localStorage.getItem("sodap-selected-store-name")||"Sodap Store",items:f.map(re=>({name:re.product.name,quantity:re.quantity,price:re.product.price})),receiptAddress:c,storeAddress:U,buyerAddress:r||x||Yi.DEFAULT_BUYER,purchaseTimestamp:Math.floor(Date.now()/1e3),totalAmount:parseFloat(b)};await p(G),localStorage.setItem("sodap-last-purchase",JSON.stringify(G)),console.log("Purchase saved successfully:",G.id),A(!0)}catch(m){console.error("Payment error:",m);let y="Payment failed: Unknown error";if(m instanceof Error){const S=Object.entries({"Invalid wallet address":"Invalid wallet address format. Please reconnect your wallet.","User rejected":"Transaction was rejected. Please try again and approve the transaction.","was not approved":"Transaction was rejected. Please try again and approve the transaction.","insufficient funds":"Insufficient funds in your wallet to complete this transaction. You can get free SOL from the Solana Devnet faucet.","insufficient lamports":"Insufficient funds in your wallet to complete this transaction. You can get free SOL from the Solana Devnet faucet.","Cannot read properties of undefined":"Wallet connection error. Please reconnect your wallet and try again.","wallet not connected":"Wallet connection error. Please reconnect your wallet and try again.","Failed to create purchase instruction":"Transaction failed: The store program doesn't support this transaction type.",AccountNotFound:"The store account does not exist on Devnet. Please make sure the store is properly initialized.","Account does not exist":"The store account does not exist on Devnet. Please make sure the store is properly initialized.","custom program error":"Smart contract error. This could be due to incorrect program ID or the store not being properly initialized."}).find(([I])=>m.message.includes(I));if(S){if(y=S[1],m.message.includes("insufficient funds")||m.message.includes("insufficient lamports")){lt.error(u.jsxs("div",{children:[y,u.jsx("br",{}),u.jsx("a",{href:"https://solfaucet.com",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-500 mt-2 inline-block",children:"Get free Devnet SOL"})]}),{duration:1e4});return}}else y=`Payment failed: ${m.message}`}lt.error(y)}finally{E(!1)}}catch(K){console.error("Payment error:",K);let x="Payment failed: Unknown error";if(K instanceof Error){const d=Object.entries({"Invalid wallet address":"Invalid wallet address format. Please reconnect your wallet.","User rejected":"Transaction was rejected. Please try again and approve the transaction.","was not approved":"Transaction was rejected. Please try again and approve the transaction.","insufficient funds":"Insufficient funds in your wallet to complete this transaction. You can get free SOL from the Solana Devnet faucet.","insufficient lamports":"Insufficient funds in your wallet to complete this transaction. You can get free SOL from the Solana Devnet faucet.","Cannot read properties of undefined":"Wallet connection error. Please reconnect your wallet and try again.","wallet not connected":"Wallet connection error. Please reconnect your wallet and try again.","Failed to create purchase instruction":"Transaction failed: The store program doesn't support this transaction type.",AccountNotFound:"The store account does not exist on Devnet. Please make sure the store is properly initialized.","Account does not exist":"The store account does not exist on Devnet. Please make sure the store is properly initialized.","custom program error":"Smart contract error. This could be due to incorrect program ID or the store not being properly initialized."}).find(([m])=>K.message.includes(m));if(d){if(x=d[1],K.message.includes("insufficient funds")||K.message.includes("insufficient lamports")){lt.error(u.jsxs("div",{children:[x,u.jsx("br",{}),u.jsx("a",{href:"https://solfaucet.com",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-500 mt-2 inline-block",children:"Get free Devnet SOL"})]}),{duration:1e4});return}}else x=`Payment failed: ${K.message}`}lt.error(x)}finally{E(!1)}},V=()=>{h(),A(!1),t("/store-selection")};return u.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-md",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Complete Your Payment"}),u.jsx(Lae,{cartTotal:b,walletAddress:r,isConnecting:s,isProcessing:v,onConnectWallet:D,onPayment:q}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx(Ne,{variant:"ghost",onClick:()=>t("/cart"),disabled:v,children:"Back to Cart"})}),u.jsx(Dae,{open:N,onOpenChange:A,onContinue:V,transactionSignature:R}),!1]})},Uae=()=>u.jsx(di,{role:"end_user",children:u.jsx(VE,{children:u.jsx(Bae,{})})}),zae=[{id:"1",name:"SoDap T-Shirt",sku:"TS001",price:.05,stock:100,active:!0},{id:"2",name:"SoDap Mug",sku:"MG001",price:.02,stock:50,active:!0},{id:"3",name:"SoDap Sticker Pack",sku:"ST001",price:.01,stock:200,active:!0},{id:"4",name:"SoDap Cap",sku:"CP001",price:.03,stock:75,active:!1}],Fae=[{id:"1",orderId:"ORD-001",user:"alice@example.com",items:"SoDap T-Shirt",amount:.05,status:"pending"},{id:"2",orderId:"ORD-002",user:"bob@example.com",items:"SoDap Mug",amount:.02,status:"pending"}],Wae=()=>{const[t,e]=M.useState(zae),[r,n]=M.useState(Fae),[i,s]=M.useState(""),o=t.filter(p=>p.name.toLowerCase().includes(i.toLowerCase())||p.sku.toLowerCase().includes(i.toLowerCase())),l=p=>{n(r.filter(v=>v.id!==p)),alert(`Refund ${p} approved! In a real app, this would trigger the on-chain refund.`)},f=p=>{e(t.map(v=>v.id===p?{...v,active:!v.active}:v))},h=r.filter(p=>p.status==="pending").length;return u.jsx(di,{role:"store_manager",children:u.jsxs("div",{className:"container mx-auto px-4 py-6",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx(Cp,{}),u.jsx("h1",{className:"text-2xl font-bold",children:"Store Dashboard"})]}),u.jsxs(Bl,{defaultValue:"products",className:"w-full",children:[u.jsxs(va,{className:"mb-4",children:[u.jsx(Gr,{value:"products",children:"Products"}),u.jsxs(Gr,{value:"refunds",children:["Refunds",h>0&&u.jsx("span",{className:"ml-2 bg-red-500 text-white rounded-full px-2 py-0.5 text-xs",children:h})]})]}),u.jsx(dr,{value:"products",children:u.jsxs(St,{children:[u.jsxs(qt,{className:"flex flex-row items-center justify-between",children:[u.jsx(Gt,{children:"Product Inventory"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ot,{placeholder:"Search by name or SKU...",value:i,onChange:p=>s(p.target.value),className:"w-64"}),u.jsxs(Ne,{className:"bg-sodap-purple hover:bg-purple-700",children:[u.jsx(qS,{className:"mr-2 h-4 w-4"})," Import CSV"]}),u.jsx(Ne,{className:"bg-sodap-purple hover:bg-purple-700",children:"+ Add Product"})]})]}),u.jsx(Et,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b",children:[u.jsx("th",{className:"text-left py-2",children:"SKU"}),u.jsx("th",{className:"text-left py-2",children:"Name"}),u.jsx("th",{className:"text-left py-2",children:"Price (SOL)"}),u.jsx("th",{className:"text-left py-2",children:"Stock"}),u.jsx("th",{className:"text-left py-2",children:"Status"}),u.jsx("th",{className:"text-right py-2",children:"Actions"})]})}),u.jsx("tbody",{children:o.map(p=>u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"py-3",children:p.sku}),u.jsx("td",{className:"py-3",children:p.name}),u.jsxs("td",{className:"py-3",children:[p.price," SOL"]}),u.jsx("td",{className:"py-3",children:p.stock}),u.jsx("td",{className:"py-3",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.active?"Active":"Inactive"})}),u.jsxs("td",{className:"py-3 text-right",children:[u.jsx(Ne,{variant:"ghost",size:"sm",children:u.jsx(Uy,{className:"h-4 w-4"})}),u.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>f(p.id),className:p.active?"text-red-500":"text-green-500",children:p.active?"Deactivate":"Activate"})]})]},p.id))})]})})})]})}),u.jsx(dr,{value:"refunds",children:u.jsxs(St,{children:[u.jsx(qt,{children:u.jsx(Gt,{children:"Pending Refund Requests"})}),u.jsx(Et,{children:r.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b",children:[u.jsx("th",{className:"text-left py-2",children:"Order ID"}),u.jsx("th",{className:"text-left py-2",children:"User"}),u.jsx("th",{className:"text-left py-2",children:"Items"}),u.jsx("th",{className:"text-left py-2",children:"Amount (SOL)"}),u.jsx("th",{className:"text-right py-2",children:"Actions"})]})}),u.jsx("tbody",{children:r.map(p=>u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"py-3",children:p.orderId}),u.jsx("td",{className:"py-3",children:p.user}),u.jsx("td",{className:"py-3",children:p.items}),u.jsxs("td",{className:"py-3",children:[p.amount," SOL"]}),u.jsx("td",{className:"py-3 text-right",children:u.jsx(Ne,{onClick:()=>l(p.id),className:"bg-green-500 hover:bg-green-600",children:"Approve Refund"})})]},p.id))})]})}):u.jsx("p",{className:"text-center py-6 text-gray-500",children:"No pending refund requests."})})]})})]})]})})},$ae=()=>{const t=[{id:"1",name:"Gold Store",location:"Zrich, Switzerland",walletCreated:!1,walletAddress:null,hasPda:!1,pdaAddress:null},{id:"2",name:"SoDap Official Store",location:"Munich, Germany",walletCreated:!1,walletAddress:null,hasPda:!1,pdaAddress:null},{id:"3",name:"Digital Collectibles",location:"New York, NY",walletCreated:!1,walletAddress:null,hasPda:!1,pdaAddress:null},{id:"4",name:"Crypto Merchandise",location:"San Francisco, CA",walletCreated:!1,walletAddress:null,hasPda:!1,pdaAddress:null},{id:"5",name:"Sodap Watch Store",location:"Tokyo, Japan",walletCreated:!0,walletAddress:"HvG8jN4UinWpd3WAnEhH56qMi9dq6w3Rg1uj3sEmQ7q7",hasPda:!0,pdaAddress:"48s53bf2fe5MbhjxXquxan3W7QsNvjD5qDioJjVTPJEF"}];console.log("Loading stores for store selection page...");const e=sessionStorage.getItem("sodap-stores");if(e)try{const r=JSON.parse(e);if(Array.isArray(r)&&r.length>0){const n=r.map(s=>({id:s.id,name:s.name,location:s.location||"Custom Store",walletCreated:s.walletCreated||!1,walletAddress:s.walletAddress||null,hasPda:s.hasPda||!1,pdaAddress:s.pdaAddress||null}));let i=n.find(s=>s.id==="5"||s.name.toLowerCase().includes("watch"));if(console.log("Watch store exists in stored data:",!!i),i||(i=t.find(s=>s.id==="5"),i&&(n.push(i),console.log("Added Sodap Watch Store from mock data"))),i&&(!i.walletCreated||!i.walletAddress)){console.log("Setting up wallet for Sodap Watch Store"),i.walletCreated=!0,i.walletAddress="HvG8jN4UinWpd3WAnEhH56qMi9dq6w3Rg1uj3sEmQ7q7",i.hasPda=!0,i.pdaAddress="48s53bf2fe5MbhjxXquxan3W7QsNvjD5qDioJjVTPJEF",localStorage.setItem("sodap-store-wallet-5",JSON.stringify({pub:"HvG8jN4UinWpd3WAnEhH56qMi9dq6w3Rg1uj3sEmQ7q7",sec:"58cb156e8e089675e3ba385e8b0db1853a0a7fb39d4257030be4dca2964050dd",pda:"48s53bf2fe5MbhjxXquxan3W7QsNvjD5qDioJjVTPJEF"}));const o=JSON.parse(e).map(l=>l.id==="5"?{...l,walletCreated:!0,walletAddress:Yi.STORE_MANAGER,hasPda:!0,pdaAddress:"48s53bf2fe5MbhjxXquxan3W7QsNvjD5qDioJjVTPJEF"}:l);sessionStorage.setItem("sodap-stores",JSON.stringify(o))}return n}}catch(r){console.error("Error parsing stored stores:",r)}return console.log("Using default mock stores"),t},Vae=()=>{const[t,e]=M.useState("name"),[r,n]=M.useState(""),[i,s]=M.useState($ae()),[o,l]=M.useState(i),[f,h]=M.useState(!1);wn();const{toast:p}=Zs();M.useEffect(()=>{console.log("Available stores:",i);const b=i.find(k=>k.id==="5");console.log("Sodap Watch Store check:",b),sessionStorage.getItem("username")||(sessionStorage.setItem("username","Batur"),sessionStorage.setItem("userWallet","DfhzrfdE5VDk43iP1NL8MLS5xFaxquxJVFtjhjRmHLAW"),console.log("Set up Batur's wallet for payment")),b&&b.walletAddress&&localStorage.setItem("sodap-store-wallet-5",JSON.stringify({pub:b.walletAddress,sec:"58cb156e8e089675e3ba385e8b0db1853a0a7fb39d4257030be4dca2964050dd",pda:b.pdaAddress||"48s53bf2fe5MbhjxXquxan3W7QsNvjD5qDioJjVTPJEF"}))},[i]);const v=()=>{if(!r.trim()){l(i);return}h(!0),setTimeout(()=>{let b;t==="id"?b=i.filter(k=>k.id.toLowerCase().includes(r.toLowerCase())):b=i.filter(k=>k.name.toLowerCase().includes(r.toLowerCase())),l(b),h(!1),b.length===0&&p({title:"No stores found",description:`No stores found with that ${t}. Please try again.`})},500)},E=b=>{const k=i.find(N=>N.id===b);if(!k){p({title:"Store Not Found",description:"The selected store could not be found.",variant:"destructive"});return}if(sessionStorage.setItem("selectedStoreId",b),k.walletCreated&&k.walletAddress&&k.pdaAddress){const N={pda:k.pdaAddress,pub:k.walletAddress};localStorage.setItem(`sodap-store-wallet-${b}`,JSON.stringify(N))}else console.warn(`Store ${b} does not have wallet data configured`);p({title:"Store Selected",description:`You've selected ${k.name}`}),console.log(`Navigating to shop with store ID: ${b}`),setTimeout(()=>{window.location.href=`/shop?store=${b}`},100)};return u.jsx(di,{role:"end_user",children:u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-sodap-purple mb-2",children:"Welcome to SoDap"}),u.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Discover and shop from a variety of stores on the Solana blockchain. Start by selecting a store below."})]}),u.jsxs(St,{className:"mb-8 shadow-md border-0",children:[u.jsx(qt,{className:"bg-gradient-to-r from-sodap-purple/10 to-sodap-purple/5 pb-2",children:u.jsx(Gt,{className:"text-2xl font-bold",children:"Find a Store"})}),u.jsx(Et,{className:"pt-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"w-full md:w-1/4",children:u.jsxs(pD,{value:t,onValueChange:b=>e(b),children:[u.jsx(qE,{className:"border-sodap-purple/20",children:u.jsx(mD,{placeholder:"Search by"})}),u.jsxs(GE,{children:[u.jsx(Ua,{value:"name",children:"Store Name"}),u.jsx(Ua,{value:"id",children:"Store ID"})]})]})}),u.jsxs("div",{className:"flex-1 flex gap-2",children:[u.jsx(Ot,{placeholder:t==="id"?"Enter store ID...":"Enter store name...",value:r,onChange:b=>n(b.target.value),onKeyDown:b=>b.key==="Enter"&&v(),className:"flex-1 border-sodap-purple/20 focus-visible:ring-sodap-purple/30"}),u.jsxs(Ne,{onClick:v,variant:"default",className:"bg-sodap-purple hover:bg-sodap-purple/90",disabled:f,children:[u.jsx(fb,{className:"mr-2 h-4 w-4"}),f?"Searching...":"Search"]})]})]})})]}),u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Featured Stores"}),u.jsxs("div",{className:"text-sm text-gray-500",children:[o.length," stores available"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(b=>u.jsxs(St,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 border-0 shadow-md overflow-hidden group",onClick:()=>E(b.id),children:[u.jsx("div",{className:"h-2 bg-gradient-to-r from-sodap-purple to-sodap-purple/70 group-hover:h-3 transition-all"}),u.jsx(Et,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg group-hover:text-sodap-purple transition-colors",children:b.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",b.id]}),u.jsx("p",{className:"text-sm text-gray-600",children:b.location}),u.jsxs("div",{className:"flex space-x-2 mt-2",children:[b.walletCreated&&u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" Wallet Ready"}),b.hasPda&&u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:" PDA Ready"})]})]}),u.jsx(Ne,{variant:"default",size:"sm",className:"w-full bg-sodap-purple hover:bg-sodap-purple/90 mt-2 group-hover:translate-y-0 translate-y-1 transition-transform",children:"Shop Now"})]})})]},b.id))}),o.length===0&&u.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border border-gray-100",children:[u.jsx(fb,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),u.jsx("p",{className:"font-medium",children:"No stores found matching your search criteria."}),u.jsx("p",{className:"text-sm mt-1",children:"Please try a different search term or browse our featured stores."}),u.jsx(Ne,{variant:"outline",className:"mt-4 border-sodap-purple text-sodap-purple hover:bg-sodap-purple/5",onClick:()=>{n(""),l(i)},children:"View All Stores"})]})]})})},Hae=({storeId:t,storeName:e})=>{const{connection:r}=PS(),{publicKey:n}=ef(),{toast:i}=Zs(),[s,o]=M.useState(""),[l,f]=M.useState(""),[h,p]=M.useState(""),[v,E]=M.useState(""),[b,k]=M.useState(!1),[N,A]=M.useState(!1),[R,T]=M.useState(!1),[C,j]=M.useState(!1),[D,U]=M.useState(!1),[L,F]=M.useState(""),[W,q]=M.useState(!1),[V,K]=M.useState(""),[x,a]=M.useState(!1),[d,m]=M.useState(!1),y=M.useCallback($=>{const H=sessionStorage.getItem("storesData");if(H){const re=JSON.parse(H).map(ie=>ie.id===t?{...ie,...$}:ie);sessionStorage.setItem("storesData",JSON.stringify(re))}else console.warn("No stores data found in session storage")},[t]),g=M.useCallback(async()=>{if(!s){i({title:"Wallet Required",description:"Please create a store wallet first",variant:"destructive"});return}if(!n){i({title:"Admin wallet needed",description:"Please connect your admin wallet",variant:"destructive"});return}a(!0);try{const $=new me(s).toBuffer(),[H]=me.findProgramAddressSync([xt.from("store"),$],new me(JH));K(H.toString()),m(!0);const G=localStorage.getItem(`sodap-store-wallet-${t}`);if(G){const re=JSON.parse(G);localStorage.setItem(`sodap-store-wallet-${t}`,JSON.stringify({...re,pda:H.toString()}))}y({hasPda:!0,pdaAddress:H.toString()}),i({title:"PDA Created",description:`Store PDA: ${H.toString().slice(0,10)}...`})}catch($){console.error("Error creating PDA:",$),i({title:"PDA Creation Failed",description:"There was an error creating the PDA",variant:"destructive"})}finally{a(!1)}},[n,t,i,y,s]);M.useEffect(()=>{console.log(`Initializing StoreKeyManagement with store ID: ${t}`),sessionStorage.getItem("username")||(sessionStorage.setItem("username","admin"),sessionStorage.setItem("userRole","platform_admin"));const $=localStorage.getItem(`sodap-store-wallet-${t}`);if($)try{const H=JSON.parse($);H.pub?(o(H.pub),f(H.sec||""),U(!0),H.pda&&(K(H.pda),m(!0))):console.warn("Stored wallet data missing public key for store:",t)}catch(H){console.error("Error parsing stored wallet data:",H)}else if(console.log(`No wallet data found for store: ${t}`),t==="5"){console.log("Automatically setting up wallet for Sodap Watch Store");const H="Gx58a8WY4FMEgvkVzMjFC8baKvnACqy1MiJxjdoLLLx8",G="58cb156e8e089675e3ba385e8b0db1853a0a7fb39d4257030be4dca2964050dd";o(H),f(G),U(!0),localStorage.setItem(`sodap-store-wallet-${t}`,JSON.stringify({pub:H,sec:G})),y({walletCreated:!0,walletAddress:H}),setTimeout(()=>g(),500)}},[t,y,g]),M.useEffect(()=>{t==="5"&&D&&!d&&s&&(console.log("Automatically creating PDA for Sodap Watch Store"),g())},[t,D,d,s,g]);const S=$=>{try{return new me($),!0}catch{return!1}},I=()=>{j(!0),F("");try{if(!h.trim()){F("Wallet address cannot be empty");return}if(!S(h)){F("Invalid Solana wallet address format");return}o(h),f(v||""),U(!0),localStorage.setItem(`sodap-store-wallet-${t}`,JSON.stringify({pub:h,sec:v||"",pda:V})),y({walletCreated:!0,walletAddress:h}),p(""),E(""),q(!1),i({title:"Wallet Address Saved",description:`Wallet address for store "${e}" has been saved successfully.`})}catch($){console.error("Error saving wallet address:",$),i({title:"Failed to Save Wallet Address",description:"There was an error saving the wallet address. Please try again.",variant:"destructive"})}finally{j(!1)}},w=()=>{T(!0);try{const $=ta.generate(),H=$.publicKey.toBase58(),G=xt.from($.secretKey).toString("hex");o(H),f(G),U(!0),localStorage.setItem(`sodap-store-wallet-${t}`,JSON.stringify({pub:H,sec:G,pda:V})),y({walletCreated:!0,walletAddress:H}),i({title:"Store Wallet Created",description:`Wallet for store "${e}" has been generated successfully.`})}catch($){console.error("Error generating store wallet:",$),i({title:"Wallet Creation Failed",description:"There was an error creating the store wallet. Please try again.",variant:"destructive"})}finally{T(!1)}},c=($,H)=>{navigator.clipboard.writeText($),i({title:`${H} Copied`,description:`The ${H.toLowerCase()} has been copied to clipboard.`})},_=()=>{k(!b)};return u.jsxs(St,{className:"w-full",children:[u.jsxs(qt,{children:[u.jsx(Gt,{children:"Store Public Key Management"}),u.jsxs(Ci,{children:["Manage wallet and program derived addresses (PDAs) for store: ",e]})]}),u.jsx(Et,{children:u.jsxs(Bl,{defaultValue:"wallet",className:"w-full",children:[u.jsxs(va,{className:"mb-6",children:[u.jsx(Gr,{value:"wallet",children:"Store Wallet"}),u.jsx(Gr,{value:"pda",children:"Program Derived Address"})]}),u.jsx(dr,{value:"wallet",children:u.jsxs(St,{children:[u.jsxs(qt,{children:[u.jsx(Gt,{children:"Store Wallet"}),u.jsx(Ci,{children:"Create and manage the Solana wallet for this store"})]}),u.jsx(Et,{children:D?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Wallet Address"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ot,{readOnly:!0,value:s,className:"flex-1 font-mono text-sm rounded-r-none"}),u.jsx(Ne,{variant:"outline",size:"sm",className:"h-[42px] rounded-l-none border-l-0",onClick:()=>c(s,"Address"),children:u.jsx(_c,{size:16})})]})]}),l?u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:["Secret Key ",u.jsx("span",{className:"text-red-500",children:"(Keep this safe!)"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ot,{readOnly:!0,type:b?"text":"password",value:l||"",className:"flex-1 font-mono text-sm rounded-r-none"}),u.jsx(Ne,{variant:"outline",size:"sm",className:"h-[42px] rounded-none border-l-0 border-r-0",onClick:_,children:b?u.jsx(Dh,{size:16}):u.jsx(Bh,{size:16})}),u.jsx(Ne,{variant:"outline",size:"sm",className:"h-[42px] rounded-l-none border-l-0",onClick:()=>c(l||"","Secret"),disabled:!l,children:u.jsx(_c,{size:16})})]}),u.jsx("p",{className:"text-sm text-red-500 mt-2",children:"Important: Store this secret safely; it cannot be recovered if lost."})]}):u.jsx("div",{children:u.jsx("p",{className:"text-sm text-amber-600 mt-2",children:"This is a manually entered wallet address. No secret key is available."})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx(bl,{size:48,className:"mb-4 text-sodap-purple"}),u.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Store Wallet Found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Create a wallet or enter an existing wallet address"}),u.jsxs("div",{className:"w-full max-w-md mb-6",children:[u.jsx("h4",{className:"font-medium text-left mb-2",children:"Enter Existing Wallet Address"}),u.jsxs("div",{className:"flex flex-col gap-2 mb-1",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ot,{type:"text",placeholder:"Enter Solana wallet address",value:h,onChange:$=>{p($.target.value),F("")},className:L?"border-red-500":""}),u.jsx(Ne,{onClick:I,disabled:C||!h.trim(),children:C?u.jsx(hl,{className:"h-4 w-4 animate-spin"}):"Save"})]}),u.jsx("div",{className:"flex items-center gap-2 mt-1",children:u.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"p-0 h-auto text-sm text-blue-600",onClick:()=>q(!W),children:W?"Hide Secret Key Input":"+ Add Secret Key (Optional)"})}),W&&u.jsx("div",{className:"flex gap-2 items-center mt-1",children:u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Ot,{type:N?"text":"password",placeholder:"Enter private key (optional)",value:v,onChange:$=>E($.target.value),className:"pr-10"}),u.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>A(!N),children:N?u.jsx(Dh,{className:"h-4 w-4"}):u.jsx(Bh,{className:"h-4 w-4"})})]})}),L&&u.jsx("p",{className:"text-sm text-red-500 text-left ml-1",children:L})]})]}),u.jsxs("div",{className:"w-full max-w-md",children:[u.jsx("h4",{className:"font-medium text-left mb-2",children:"Create New Wallet"}),u.jsx(Ne,{onClick:w,className:"bg-sodap-purple hover:bg-sodap-purple/90 w-full",disabled:R,children:R?u.jsxs(u.Fragment,{children:[u.jsx(hl,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Generate New Wallet"})]})]})})]})}),u.jsx(dr,{value:"pda",children:u.jsxs(St,{children:[u.jsxs(qt,{children:[u.jsx(Gt,{children:"Program Derived Address (PDA)"}),u.jsx(Ci,{children:"Create and manage the PDA for this store"})]}),u.jsx(Et,{children:D?d?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Program Derived Address (PDA)"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ot,{readOnly:!0,value:V,className:"flex-1 font-mono text-sm rounded-r-none"}),u.jsx(Ne,{variant:"outline",size:"sm",className:"h-[42px] rounded-l-none border-l-0",onClick:()=>c(V,"PDA"),children:u.jsx(_c,{size:16})})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This PDA is derived from your store wallet address and the program ID"})]}),u.jsxs("div",{className:"border p-4 rounded-md bg-gray-50",children:[u.jsx("h3",{className:"font-medium mb-2",children:"What is a PDA?"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Program Derived Addresses (PDAs) are special accounts that are derived deterministically from a program ID and additional seeds. They allow Solana programs to control specific addresses without needing a private key."})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx(fg,{size:48,className:"mb-4 text-sodap-purple"}),u.jsx("h3",{className:"text-xl font-medium mb-2",children:"No PDA Found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Create a Program Derived Address for this store"}),u.jsx(Ne,{onClick:g,className:"bg-sodap-purple hover:bg-sodap-purple/90",disabled:x||!n,children:x?u.jsxs(u.Fragment,{children:[u.jsx(hl,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create PDA"}),!n&&u.jsx("p",{className:"text-sm text-amber-600 mt-4",children:"Connect your admin wallet to create a PDA"})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx(fg,{size:48,className:"mb-4 text-gray-400"}),u.jsx("h3",{className:"text-xl font-medium mb-2",children:"Wallet Required"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"You need to create a store wallet first before creating a PDA"}),u.jsx(Ne,{variant:"outline",onClick:()=>{var $;return($=document.querySelector('[data-value="wallet"]'))==null?void 0:$.dispatchEvent(new Event("click"))},children:"Go to Wallet Tab"})]})})]})})]})})]})},Kae=[{id:"store1",name:"Fashion Boutique",description:"High quality fashion items for all seasons",managerId:"manager1",managerName:"Emma Wilson",revenue:"12,450 SOL",products:64,customers:358},{id:"store2",name:"Tech Gadgets",description:"Latest tech gadgets and accessories",managerId:"manager2",managerName:"Michael Brown",revenue:"28,932 SOL",products:128,customers:751},{id:"store3",name:"Home Decor",description:"Beautiful decor items for your home",managerId:"manager3",managerName:"Sophie Taylor",revenue:"9,213 SOL",products:79,customers:243},{id:"store4",name:"Sports Gear",description:"Quality sports equipment for all activities",managerId:"manager4",managerName:"James Miller",revenue:"15,876 SOL",products:93,customers:412}],qae=()=>{const{storeId:t}=yee(),e=wn(),{toast:r}=Zs(),[n,i]=M.useState(null);return M.useEffect(()=>{sessionStorage.getItem("username")||(sessionStorage.setItem("username","admin"),sessionStorage.setItem("userRole","platform_admin"));const s=sessionStorage.getItem("sodap-stores");let o=Kae;if(s)try{o=JSON.parse(s)}catch(f){console.error("Error parsing stored stores:",f)}const l=o.find(f=>f.id===t);l?(i(l),console.log("Found store:",l)):(console.error("Store not found. ID:",t,"Available stores:",o),r({title:"Store Not Found",description:`The store with ID ${t} could not be found.`,variant:"destructive"}),e("/dashboard"))},[t,e,r]),n?u.jsx(di,{role:"platform_admin",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Cp,{}),u.jsx("h1",{className:"text-3xl font-bold",children:n.name})]}),u.jsxs(Ne,{variant:"outline",onClick:()=>e("/dashboard"),children:[u.jsx(u3,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})]}),u.jsxs(St,{children:[u.jsxs(qt,{children:[u.jsx(Gt,{children:"Store Overview"}),u.jsx(Ci,{children:n.description})]}),u.jsx(Et,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-md",children:[u.jsx("p",{className:"text-gray-500",children:"Total Revenue"}),u.jsx("p",{className:"text-2xl font-bold",children:n.revenue})]}),u.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-md",children:[u.jsx("p",{className:"text-gray-500",children:"Products"}),u.jsx("p",{className:"text-2xl font-bold",children:n.products})]}),u.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-md",children:[u.jsx("p",{className:"text-gray-500",children:"Customers"}),u.jsx("p",{className:"text-2xl font-bold",children:n.customers})]})]})})]}),u.jsxs(Bl,{defaultValue:"keys",className:"w-full",children:[u.jsxs(va,{className:"mb-6",children:[u.jsxs(Gr,{value:"keys",children:[u.jsx(fg,{className:"mr-2 h-4 w-4"}),"Public Keys"]}),u.jsxs(Gr,{value:"products",children:[u.jsx(Gu,{className:"mr-2 h-4 w-4"}),"Products"]}),u.jsxs(Gr,{value:"settings",children:[u.jsx(m3,{className:"mr-2 h-4 w-4"}),"Settings"]}),u.jsxs(Gr,{value:"notifications",children:[u.jsx(WY,{className:"mr-2 h-4 w-4"}),"Notifications"]})]}),u.jsx(dr,{value:"keys",children:u.jsx(Hae,{storeId:n.id,storeName:n.name})}),u.jsx(dr,{value:"products",children:u.jsxs(St,{children:[u.jsxs(qt,{children:[u.jsx(Gt,{children:"Product Management"}),u.jsx(Ci,{children:"Manage products for this store"})]}),u.jsx(Et,{children:u.jsx("p",{className:"text-gray-500 text-center py-8",children:"Product management functionality will be implemented in a future update."})})]})}),u.jsx(dr,{value:"settings",children:u.jsxs(St,{children:[u.jsxs(qt,{children:[u.jsx(Gt,{children:"Store Settings"}),u.jsx(Ci,{children:"Configure settings for this store"})]}),u.jsx(Et,{children:u.jsx("p",{className:"text-gray-500 text-center py-8",children:"Store settings will be implemented in a future update."})})]})}),u.jsx(dr,{value:"notifications",children:u.jsxs(St,{children:[u.jsxs(qt,{children:[u.jsx(Gt,{children:"Notifications"}),u.jsx(Ci,{children:"Manage store notifications"})]}),u.jsx(Et,{children:u.jsx("p",{className:"text-gray-500 text-center py-8",children:"Notification management will be implemented in a future update."})})]})})]})]})}):u.jsx(di,{children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("p",{children:"Loading store information..."})})})},Gae=new UX,Zae=()=>u.jsx(FX,{client:Gae,children:u.jsx(O4,{children:u.jsxs(mX,{children:[u.jsx(BQ,{}),u.jsx($Q,{}),u.jsx(Fee,{children:u.jsxs(Oee,{children:[u.jsx(xr,{path:"/",element:u.jsx(Cee,{to:"/landing",replace:!0})}),u.jsx(xr,{path:"/landing",element:u.jsx(Ane,{})}),u.jsx(xr,{path:"/login",element:u.jsx(Rne,{})}),u.jsx(xr,{path:"/signup",element:u.jsx(kne,{})}),u.jsx(xr,{path:"/forgot-password",element:u.jsx(Tne,{})}),u.jsx(xr,{path:"/store-selection",element:u.jsx(Vae,{})}),u.jsx(xr,{path:"/wallet-test",element:u.jsx(wne,{})}),u.jsx(xr,{path:"/profile",element:u.jsx(Coe,{})}),u.jsx(xr,{path:"/shop",element:u.jsx(Iae,{})}),u.jsx(xr,{path:"/cart",element:u.jsx(Oae,{})}),u.jsx(xr,{path:"/payment",element:u.jsx(Uae,{})}),u.jsx(xr,{path:"/store",element:u.jsx(Wae,{})}),u.jsx(xr,{path:"/store/:storeId",element:u.jsx(qae,{})}),u.jsx(xr,{path:"/dashboard",element:u.jsx(Ma,{role:"end_user"})}),u.jsx(xr,{path:"/dashboard/admin",element:u.jsx(Ma,{role:"platform_admin"})}),u.jsx(xr,{path:"/dashboard/manager",element:u.jsx(Ma,{role:"store_manager"})}),u.jsx(xr,{path:"/dashboard/staff",element:u.jsx(Ma,{role:"store_staff"})}),u.jsx(xr,{path:"/dashboard/settings",element:u.jsx(Ma,{role:"store_manager"})}),u.jsx(xr,{path:"/dashboard/admin-info",element:u.jsx(Ma,{role:"platform_admin"})}),u.jsx(xr,{path:"/dashboard/refunds",element:u.jsx(Ma,{role:"store_manager"})}),u.jsx(xr,{path:"/dashboard/products",element:u.jsx(Ma,{role:"store_manager"})}),u.jsx(xr,{path:"*",element:u.jsx(joe,{})})]})})]})})});$T(document.getElementById("root")).render(u.jsx(O4,{children:u.jsx(Zae,{})}));export{nS as E,me as P,cs as S,jt as T,aa as V,Sr as a,qo as b,fi as g};
